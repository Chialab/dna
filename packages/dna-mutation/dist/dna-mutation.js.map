{"version":3,"file":"dna-mutation.js","sources":["node_modules/@dnajs/core/src/lib/typeof.js","node_modules/@dnajs/core/src/lib/registry.js","node_modules/@dnajs/core/src/lib/symbols.js","node_modules/@dnajs/core/src/lib/dom.js","node_modules/@dnajs/core/src/mixins/component.js","node_modules/@dnajs/core/src/polyfills/custom-event.js","node_modules/@dnajs/core/src/lib/dispatch.js","node_modules/@dnajs/core/src/lib/property.js","node_modules/@dnajs/core/src/mixins/properties-component.js","node_modules/@dnajs/core/src/polyfills/matches.js","node_modules/@dnajs/core/src/mixins/events-component.js","node_modules/@dnajs/core/src/lib/style.js","node_modules/@dnajs/core/src/mixins/style-component.js","node_modules/@dnajs/core/src/mixins/template-component.js","node_modules/@dnajs/core/src/polyfills/reduce.js","node_modules/@dnajs/core/src/lib/mixins.js","node_modules/@dnajs/core/src/lib/shim.js","node_modules/@dnajs/core/src/core.js","node_modules/@dnajs/core/index.js","packages/dna-mutation/observer.js","packages/dna-mutation/index.js"],"sourcesContent":["/**\n * Check if an value is a function.\n * @method isFunction\n * @memberof! DNA.\n * @static\n *\n * @param {*} obj The value to check.\n * @return {Boolean}\n */\nexport function isFunction(obj) {\n    return typeof obj === 'function';\n}\n/**\n * Check if an value is a string.\n * @method isString\n * @memberof! DNA.\n * @static\n *\n * @param {*} obj The value to check.\n * @return {Boolean}\n */\nexport function isString(obj) {\n    return typeof obj === 'string';\n}\n/**\n * Check if an value is an object.\n * @method isObject\n * @memberof! DNA.\n * @static\n *\n * @param {*} obj The value to check.\n * @return {Boolean}\n */\nexport function isObject(obj) {\n    return Object.prototype.toString.call(obj) === '[object Object]';\n}\n/**\n * Check if an value is undefined.\n * @method isUndefined\n * @memberof! DNA.\n * @static\n *\n * @param {*} obj The value to check.\n * @return {Boolean}\n */\nexport function isUndefined(obj) {\n    return typeof obj === 'undefined';\n}\n/**\n * Check if an value is an array.\n * @method isArray\n * @memberof! DNA.\n * @static\n *\n * @param {*} obj The value to check.\n * @return {Boolean}\n */\nexport function isArray(obj) {\n    return Array.isArray(obj);\n}\n","import { isFunction, isString } from './typeof.js';\n\n/**\n * A custom components registry.\n * It replicates the [CustomElementRegistry interface](https://www.w3.org/TR/custom-elements/#custom-elements-api).\n * @name registry\n * @namespace registry\n * @memberof! DNA.\n * @static\n */\nexport const registry = {\n    /**\n     * The list of defined components.\n     * @type {Object}\n     */\n    components: {},\n    /**\n     * Register a new component.\n     * @param {String} name The id of the component.\n     * @param {Function} Ctr The component constructor.\n     * @param {Object} config Optional component configuration.\n     */\n    define(name, Ctr, config = {}) {\n        this.components[name.toLowerCase()] = {\n            is: name,\n            Ctr,\n            config,\n        };\n    },\n    /**\n     * Retrieve a component descriptor by id.\n     * @private\n     * @param {String} name The component id.\n     * @return {Object} The component descriptor.\n     */\n    getDescriptor(name) {\n        if (isString(name)) {\n            return this.components[name.toLowerCase()];\n        } else if (isFunction(name)) {\n            for (let k in this.components) {\n                let desc = this.components[k];\n                if (desc.Ctr === name) {\n                    return desc;\n                }\n            }\n        }\n    },\n    /**\n     * Retrieve a component constructor by id.\n     * @param {String} name The component id.\n     * @return {Function} The component constructor.\n     */\n    get(name) {\n        let desc = this.getDescriptor(name);\n        if (desc) {\n            return desc.Ctr;\n        }\n    },\n};\n","export const COMPONENT_SYMBOL = '__component';\n","import { isFunction } from './typeof.js';\nimport { registry } from './registry.js';\nimport { COMPONENT_SYMBOL } from './symbols.js';\n\n/**\n * The `connectedCallback` name.\n * @private\n *\n * @type {String}\n * @see [W3C spec](https://www.w3.org/TR/custom-elements/#custom-element-reactions)\n */\nconst CONNECTED = 'connectedCallback';\n/**\n * The `disconnectedCallback` name.\n * @private\n *\n * @type {String}\n * @see [W3C spec](https://www.w3.org/TR/custom-elements/#custom-element-reactions)\n */\nconst DISCONNECTED = 'disconnectedCallback';\n/**\n * The `attributeChangedCallback` name.\n * @private\n *\n * @type {String}\n * @see [W3C spec](https://www.w3.org/TR/custom-elements/#custom-element-reactions)\n */\nconst UPDATED = 'attributeChangedCallback';\n/**\n * Retrieve a component constructor from an Element or from a tag name.\n * @method getComponent\n * @memberof DNA.DOM\n * @static\n *\n * @param {Component|String} element The element or the tag name.\n * @param {Boolean} full Retrieve full component information.\n * @return {Function} The component constructor for the given param.\n */\nexport function getComponent(element, full = false) {\n    if (element.node) {\n        element = element.node;\n    }\n    if (element.nodeType === Node.ELEMENT_NODE) {\n        element = element.getAttribute('is') || element.tagName;\n    }\n    return full ? registry.getDescriptor(element) : registry.get(element);\n}\n/**\n * Check if a node is an instance of a component.\n * @method isComponent\n * @memberof DNA.DOM\n * @static\n *\n * @param {Component} element The element to check.\n * @return {Boolean}\n */\nexport function isComponent(element) {\n    let Ctr = getComponent(element);\n    return Ctr && (element instanceof Ctr);\n}\n/**\n * An helper for dynamically trigger the `connectedCallback` reaction on components.\n * @method connect\n * @memberof DNA.DOM\n * @static\n *\n * @param {Component} element The attached node.\n * @return {Boolean} The callback has been triggered.\n */\nexport function connect(element) {\n    if (isComponent(element)) {\n        element[CONNECTED].call(element);\n        return true;\n    }\n}\n/**\n * An helper for dynamically trigger the `disconnectedCallback` reaction on components.\n * @method disconnect\n * @memberof DNA.DOM\n * @static\n *\n * @param {Component} element The detached node.\n * @return {Boolean} The callback has been triggered.\n */\nexport function disconnect(element) {\n    if (isComponent(element)) {\n        element[DISCONNECTED].call(element);\n        return true;\n    }\n}\n/**\n * An helper for dynamically trigger the `attributeChangedCallback` reaction on components.\n * @method update\n * @memberof DNA.DOM\n * @static\n *\n * @param {Component} element The updated element.\n * @return {Boolean} The callback has been triggered.\n */\nexport function update(element, name, oldValue, newValue) {\n    if (isComponent(element)) {\n        element[UPDATED].call(element, name, oldValue, newValue);\n        return true;\n    }\n}\n/**\n * Attach a component prototype to an already instantiated HTMLElement.\n * @method bind\n * @memberof DNA.DOM\n * @static\n *\n * @param {HTMLElement} node The node to update.\n * @param {Function} Ctr The component class to use (leave empty for auto detect).\n * @return {Boolean} The prototype has been attached.\n */\nexport function bind(node, Ctr) {\n    if (!isFunction(Ctr)) {\n        Ctr = getComponent(node);\n    }\n    if (isFunction(Ctr)) {\n        node.__proto__ = Ctr.prototype;\n        Object.defineProperty(node, 'constructor', {\n            value: Ctr,\n            configurable: true,\n            writable: true,\n        });\n        Ctr.call(node);\n        return true;\n    }\n    return false;\n}\n/**\n * Create a component instance.\n * @method createElement\n * @memberof DNA.DOM\n * @static\n *\n * @param {String} is The component tag name.\n * @return {HTMLElement} The component instance.\n */\nexport function createElement(is) {\n    let Ctr = getComponent(is);\n    if (Ctr) {\n        return new Ctr();\n    }\n}\n/**\n * Dynamically append a node and call the `connectedCallback`.\n * - disconnect the node if already in the tree\n * - connect the node after the insertion\n * @method appendChild\n * @memberof DNA.DOM\n * @static\n *\n * @param {HTMLElement} parent The parent element.\n * @param {Component} element The element to append.\n * @return {Boolean} The node has been appended.\n */\nexport function appendChild(parent, element) {\n    if (element.node) {\n        let node = element.node;\n        if (parent !== node.parentNode || parent.lastElementChild !== node) {\n            if (node.parentNode) {\n                removeChild(node.parentNode, element);\n            }\n            parent.appendChild(node);\n            return connect(element);\n        }\n    }\n    return false;\n}\n/**\n * Dynamically remove a node and call the `disconnectedCallback`.\n * @method removeChild\n * @memberof DNA.DOM\n * @static\n *\n * @param {HTMLElement} parent The parent element.\n * @param {Component} element The element to remove.\n * @return {Boolean} The node has been removed.\n */\nexport function removeChild(parent, element) {\n    if (element.node) {\n        parent.removeChild(element.node);\n        return disconnect(element);\n    }\n}\n/**\n * Dynamically insert a node before another and call all the reactions.\n * - disconnect the node if already in the tree\n * - connect the node after the insertion\n * @method insertBefore\n * @memberof DNA.DOM\n * @static\n *\n * @param {HTMLElement} parent The parent element.\n * @param {Component} element The element to insert.\n * @param {HTMLElement} refNode The node for positioning.\n * @return {Boolean} The node has been appended.\n */\nexport function insertBefore(parent, element, refNode) {\n    if (element.node) {\n        let node = element.node;\n        if (node.nextSibling !== refNode) {\n            if (node.parentNode) {\n                disconnect(element);\n            }\n            parent.insertBefore(node, refNode);\n            return connect(element);\n        }\n    }\n}\n/**\n * Dynamically replace a node with another and call all the reactions.\n * - disconnect the node if already in the tree\n * - disconnect the replaced node\n * - connect the first node after the insertion\n * @method replaceChild\n * @memberof DNA.DOM\n * @static\n *\n * @param {HTMLElement} parent The parent element.\n * @param {Component} element The element to insert.\n * @param {HTMLElement} refNode The node to replace.\n * @return {Boolean} The node has been appended.\n */\nexport function replaceChild(parent, element, refNode) {\n    if (element.node) {\n        let node = element.node;\n        if (node.parentNode) {\n            disconnect(element);\n        }\n        parent.replaceChild(node, refNode);\n        if (refNode[COMPONENT_SYMBOL]) {\n            disconnect(refNode[COMPONENT_SYMBOL]);\n        }\n        return connect(node);\n    }\n}\n/**\n * Dynamically update a node attribute and call all the reactions.\n * @method setAttribute\n * @memberof DNA.DOM\n * @static\n *\n * @param {Component} element The element to update.\n * @param {String} name The attribute name.\n * @param {String} value The attribute value.\n * @return {Boolean} The node has been updated.\n */\nexport function setAttribute(element, name, value) {\n    if (element.node) {\n        let node = element.node;\n        let oldValue = node.getAttribute(name);\n        node.setAttribute(name, value);\n        let attrs = element.constructor.observedAttributes || [];\n        if (attrs.indexOf(name) !== -1) {\n            return update(element, name, oldValue, value);\n        }\n    }\n}\n/**\n * Dynamically remove a node attribute and call all the reactions.\n * @method removeAttribute\n * @memberof DNA.DOM\n * @static\n *\n * @param {Component} element The element to update.\n * @param {String} name The attribute name.\n * @return {Boolean} The node has been updated.\n */\nexport function removeAttribute(element, name) {\n    if (element.node) {\n        let node = element.node;\n        let oldValue = node.getAttribute(name);\n        node.removeAttribute(name);\n        let attrs = element.constructor.observedAttributes || [];\n        if (attrs.indexOf(name) !== -1) {\n            return update(element, name, oldValue, null);\n        }\n    }\n}\n","import { COMPONENT_SYMBOL } from '../lib/symbols.js';\n\n/**\n * THe base custom component mixins. Just add life cycles callback and `is` getter.\n * @mixin ComponentMixin\n * @memberof DNA.MIXINS\n * @static\n */\nexport const ComponentMixin = (SuperClass) => class extends SuperClass {\n    /**\n     * @property {String} is Get component id.\n     * @name is\n     * @type {String}\n     * @memberof DNA.MIXINS.ComponentMixin\n     * @instance\n     */\n    get is() {\n        return (this.getAttribute('is') || this.localName).toLowerCase();\n    }\n    get node() {\n        return this;\n    }\n    /**\n     * Fires when an instance was inserted into the document.\n     * @method connectedCallback\n     * @memberof DNA.MIXINS.ComponentMixin\n     * @instance\n     */\n    connectedCallback() {\n        this.node[COMPONENT_SYMBOL] = this;\n    }\n    /**\n     * Fires when an instance was detached from the document.\n     * @method disconnectedCallback\n     * @memberof DNA.MIXINS.ComponentMixin\n     * @instance\n     */\n    disconnectedCallback() {}\n    /**\n     * Fires when an attribute was added, removed, or updated.\n     * @method attributeChangedCallback\n     * @memberof DNA.MIXINS.ComponentMixin\n     * @instance\n     *\n     * @param {String} attrName The changed attribute name.\n     * @param {String} oldVal The value of the attribute before the change.\n     * @param {String} newVal The value of the attribute after the change.\n     */\n    attributeChangedCallback() {}\n};\n","let CustomEvent;\n\ntry {\n    // eslint-disable-next-line\n    let ev = new self.CustomEvent('test');\n    CustomEvent = self.CustomEvent;\n} catch(ex) {\n    CustomEvent = function(event, params) {\n        params = params || {\n            bubbles: false,\n            cancelable: false,\n            detail: undefined,\n        };\n        let evt = document.createEvent('CustomEvent');\n        evt.initCustomEvent(event, params.bubbles, params.cancelable, params.detail);\n        return evt;\n    };\n    CustomEvent.prototype = self.CustomEvent.prototype;\n}\n\nexport { CustomEvent };\n","import { isString } from './typeof.js';\nimport { CustomEvent } from '../polyfills/custom-event.js';\n\n/**\n * Trigger a custom DOM Event.\n * @private\n *\n * @param {Node} node The event target.\n * @param {String} evName The custom event name.\n * @param {Object} data Extra data to pass to the event.\n * @param {Boolean} bubbles Enable event bubbling.\n * @param {Boolean} cancelable Make event cancelable.\n * @return {Boolean} True if event propagation has not be stopped.\n */\nexport function dispatch(node, evName, data, bubbles = true, cancelable = true) {\n    if (!isString(evName)) {\n        throw new TypeError('Event name is undefined');\n    }\n    let ev = new CustomEvent(evName, {\n        detail: data,\n        bubbles,\n        cancelable,\n    });\n    return node.dispatchEvent(ev);\n}\n","import { isUndefined, isFunction, isArray, isObject, isString } from './typeof.js';\n\n/**\n * Shortcut to `Object.defineProperty`.\n * @type {Function}\n * @private\n */\nconst define = Object.defineProperty;\n\n/**\n * Power to the component's properties.\n * Type checking, validation, callbacks, events and attribute syncing.\n * @private\n */\nclass Property {\n    /**\n     * Create a Property instance.\n     * @param {Function|Array} A single or a list of valid constructors for the property value.\n     * @return {Property}\n     */\n    constructor(ctrs) {\n        this._ = [];\n        ctrs = ctrs || [];\n        if (!isArray(ctrs)) {\n            ctrs = [ctrs];\n        }\n        this.ctrs = ctrs;\n        this.validator = () => true;\n        this._setter = (val) => val;\n        this.getterFn = () => this.value;\n        this.setterFn = (val) => {\n            val = this._setter(val);\n            if ((val === null || val === undefined) ||\n                this.validateType(val) && this.validator(val)) {\n                let oldValue = this.value;\n                if (oldValue !== val) {\n                    this.value = val;\n                    this.changed(val, oldValue);\n                }\n            } else {\n                // eslint-disable-next-line\n                throw new TypeError(\n                    `Invalid \\`${val}\\` value for \\`${this.name}\\` property for \\`${this.scope.is}\\`.`\n                );\n            }\n        };\n    }\n    /**\n     * Add a callback when the property changes.\n     * @param {Function} callback The callback to trigger.\n     * @return {Property} The property instance for chaining.\n     */\n    observe(callback) {\n        if (isFunction(callback) || isString(callback)) {\n            this._.push(callback);\n        }\n        return this;\n    }\n    /**\n     * Remove a callback on property changes.\n     * @param {Function} callback The callback to remove.\n     * @return {Property} The property instance for chaining.\n     */\n    unobserve(callback) {\n        let io = this._.indexOf(callback);\n        if (io !== -1) {\n            this._.splice(io, 1);\n        }\n        return this;\n    }\n    /**\n     * Trigger callbacks after a change.\n     * @private\n     * @param {*} newValue The current property value.\n     * @param {*} oldValue The previous property value.\n     */\n    changed(newValue, oldValue) {\n        for (let i = 0, len = this._.length; i < len; i++) {\n            let clb = this._[i];\n            if (isString(clb)) {\n                this.scope[clb].call(this.scope, this, newValue, oldValue);\n            } else {\n                clb(this, newValue, oldValue);\n            }\n        }\n    }\n    /**\n     * Check if a property accepts a given type as value.\n     * @param {Function} Ctr The constructor for the given type.\n     * @return {Boolean}\n     */\n    accepts(Ctr) {\n        return this.ctrs.indexOf(Ctr) !== -1;\n    }\n    /**\n     * Set the property name.\n     * It also set the attrName if `.attribute` method as been previously\n     * invoked without arguments.\n     * @param {String} name The property name.\n     * @return {Property} The property instance for chaining.\n     */\n    named(name) {\n        this.name = name;\n        if (this.attrRequested === true) {\n            this.attrName = this.name;\n        }\n        return this;\n    }\n    /**\n     * Set the property initial value.\n     * @param {*} initValue The property initial value.\n     * @return {Property} The property instance for chaining.\n     */\n    default(initValue) {\n        this.defaultValue = isObject(initValue) ?\n            Object.freeze(initValue) :\n            initValue;\n        return this;\n    }\n    /**\n     * Set the attribute name to sync.\n     * Invoked without arguments, it retrieve the name of the property.\n     * @param {String} attrName The attribute name.\n     * @return {Property} The property instance for chaining.\n     */\n    attribute(attrName = true) {\n        if (isString(attrName)) {\n            this.attrRequested = false;\n            this.attrName = attrName;\n        } else {\n            this.attrRequested = !!attrName;\n            this.attrName = this.name;\n        }\n        return this;\n    }\n    /**\n     * Add a DOM event name to dispatch on changes.\n     * @param {String} evName The event name.\n     * @return {Property} The property instance for chaining.\n     */\n    dispatch(evName) {\n        this.eventName = evName;\n        return this;\n    }\n    /**\n     * Set a getter function for the property.\n     * By default, the property value will be return.\n     * @param {Function} callback The property getter.\n     * @return {Property} The property instance for chaining.\n     */\n    getter(callback) {\n        if (isFunction(callback)) {\n            this.getterFn = () => callback(this.value);\n        }\n        return this;\n    }\n    /**\n     * Set a setter function for the property.\n     * By default, the property value will be updated with given value\n     * without any modification.\n     * @param {Function} callback The property setter.\n     * @return {Property} The property instance for chaining.\n     */\n    setter(callback) {\n        if (isFunction(callback)) {\n            this._setter = callback;\n        }\n        return this;\n    }\n    /**\n     * Set the property validator.\n     * A validator should return `true` if the value is acceptable\n     * or `false` if unaccaptable.\n     * @param {Function} callback The property validtor.\n     * @return {Property} The property instance for chaining.\n     */\n    validate(callback) {\n        if (isFunction(callback)) {\n            this.validator = callback;\n        }\n        return this;\n    }\n    /**\n     * Check if the given value is a valid type.\n     * @private\n     * @param {*} val The value to check.\n     * @return {Boolean}\n     */\n    validateType(val) {\n        let i = 0;\n        let ctrs = this.ctrs;\n        if (ctrs.length === 0) {\n            return true;\n        }\n        while (i < ctrs.length) {\n            if (val instanceof ctrs[i] || (\n                val.constructor && val.constructor === ctrs[i]\n            )) {\n                return true;\n            }\n            i++;\n        }\n        return false;\n    }\n    /**\n     * Attach the property to a scope (a component instance).\n     * Set the default value if provided.\n     * @param {Object} scope The scope which needs to be bound with the property.\n     */\n    init(scope) {\n        this.scope = scope;\n        define(scope, this.name, {\n            get: this.getterFn.bind(this),\n            set: this.setterFn.bind(this),\n            configurable: true,\n        });\n        if (!isUndefined(this.defaultValue)) {\n            scope[this.name] = this.defaultValue;\n        }\n    }\n}\n\n/**\n * Helper method for Property creation.\n * @method prop\n * @memberof! DNA.\n * @static\n *\n * @property {Property} ANY A property without type validation.\n * @property {Property} STRING A property which accepts only strings.\n * @property {Property} BOOLEAN A property which accepts only booleans.\n * @property {Property} NUMBER A property which accepts only numbers.\n *\n * @param {Property|Function|Array} ctrs A Property to clone or a single or a list of valid constructors for the property value.\n * @return {Property} The new property.\n */\nexport function prop(ctrs) {\n    if (ctrs instanceof Property) {\n        return ctrs;\n    }\n    return new Property(ctrs);\n}\n\n// Define some helpers for default types\ndefine(prop, 'ANY', { get() { return prop(); } });\ndefine(prop, 'STRING', { get() { return prop(String); } });\ndefine(prop, 'BOOLEAN', { get() { return prop(Boolean); } });\ndefine(prop, 'NUMBER', { get() { return prop(Number); } });\n","import { isArray } from '../lib/typeof.js';\nimport { dispatch } from '../lib/dispatch.js';\nimport { isUndefined } from '../lib/typeof.js';\nimport { prop } from '../lib/property.js';\n\n/**\n * Try to parse attribute value checking the property validation types.\n * @private\n *\n * @param {Property} property The property to update.\n * @param {String} attrVal The attribute value.\n * @return {*} The parsed value.\n */\nfunction getValue(property, attrVal) {\n    if (attrVal === '' && property.accepts(Boolean)) {\n        return true;\n    }\n    if (!property.accepts(String)) {\n        try {\n            return JSON.parse(attrVal);\n        } catch (ex) {\n            //\n        }\n    }\n    return attrVal;\n}\n\n/**\n * Set an attribute value checking its type.\n * @private\n *\n * @param {HTMLElement} context The node to update.\n * @param {String} attr The attribute name to update.\n * @param {*} value The value to set.\n */\nfunction setAttribute(context, attr, value) {\n    let currentAttrValue = context.getAttribute(attr);\n    if (currentAttrValue !== value) {\n        if (value !== null && value !== undefined && value !== false) {\n            switch (typeof value) {\n            case 'string':\n            case 'number':\n                context.setAttribute(attr, value);\n                break;\n            case 'boolean':\n                context.setAttribute(attr, '');\n            }\n        } else if (currentAttrValue !== null) {\n            context.removeAttribute(attr);\n        }\n    }\n}\n\n/**\n * Simple Custom Component for properties initialization via attributes.\n * @mixin PropertiesMixin\n * @memberof DNA.MIXINS\n * @static\n *\n * @example\n * ```js\n * // my-component.js\n * import { BaseComponent } from '@dnajs/core';\n * export class MyComponent extends BaseComponent {\n *   get properties() {\n *     return { name: String };\n *   }\n * }\n * ```\n * ```js\n * // app.js\n * import { define } from '@dnajs/core';\n * import { MyComponent } from './my-component.js';\n * define('my-component', MyComponent);\n * var temp = document.createElement('div');\n * temp.innerHTML = '<my-component name=\"Albert\"></my-component>';\n * var element = temp.firstChild;\n * console.log(element.name); // logs \"Albert\"\n * ```\n */\nexport const PropertiesMixin = (SuperClass) => class extends SuperClass {\n    /**\n     * Attach properties on component creation.\n     * @method constructor\n     * @memberof DNA.MIXINS.PropertiesMixin\n     * @instance\n     */\n    constructor() {\n        super();\n        let props = this.properties;\n        if (props) {\n            if (!isArray(props)) {\n                props = [props];\n            }\n            props = props.reduce((res, partialProps) => {\n                for (let k in partialProps) {\n                    res[k] = prop(partialProps[k]);\n                }\n                return res;\n            }, {});\n        } else {\n            props = {};\n        }\n        Object.defineProperty(this, 'properties', {\n            value: props,\n            writable: false,\n            configurable: true,\n        });\n        let observed = this.constructor.observedAttributes || [];\n        for (let k in props) {\n            let prop = props[k];\n            prop.named(k).init(this);\n            let { attrName, eventName } = prop;\n            if (!attrName && observed.indexOf(k) !== -1) {\n                prop.attribute();\n                attrName = k;\n            }\n            if (attrName || eventName) {\n                prop.observe(() => {\n                    if (attrName) {\n                        setAttribute(this.node, attrName, this[prop.name]);\n                    }\n                    if (eventName) {\n                        dispatch(this.node, eventName);\n                    }\n                });\n            }\n        }\n    }\n    /**\n     * Sync initial attributes with properties.\n     * @method connectedCallback\n     * @memberof DNA.MIXINS.PropertiesMixin\n     * @instance\n     */\n    connectedCallback() {\n        super.connectedCallback();\n        let props = this.properties;\n        for (let k in props) {\n            let prop = props[k];\n            let { attrName } = prop;\n            if (attrName) {\n                if (isUndefined(this[prop.name])) {\n                    if (this.node.hasAttribute(attrName)) {\n                        this[prop.name] = getValue(prop, this.node.getAttribute(attrName));\n                    }\n                } else {\n                    setAttribute(this.node, attrName, this[prop.name]);\n                }\n            }\n        }\n    }\n    /**\n     * Sync attributes with properties.\n     * @method attributeChangedCallback\n     * @memberof DNA.MIXINS.PropertiesMixin\n     * @instance\n     *\n     * @param {String} attrName The changed attribute name.\n     * @param {String} oldVal The value of the attribute before the change.\n     * @param {String} newVal The value of the attribute after the change.\n     */\n    attributeChangedCallback(attr, oldVal, newVal) {\n        super.attributeChangedCallback(attr, oldVal, newVal);\n        let props = this.properties;\n        for (let k in props) {\n            let prop = props[k];\n            if (prop.attrName === attr) {\n                this[prop.name] = getValue(prop, newVal);\n                return;\n            }\n        }\n    }\n    /**\n     * Create a listener for node's property changes.\n     * @method observeProperty\n     * @memberof DNA.MIXINS.PropertiesMixin\n     * @instance\n     *\n     * @param {string} propName The property name to observe.\n     * @param {Function} callback The callback to fire.\n     * @return {Object} An object with `cancel` method.\n     */\n    observeProperty(propName, callback) {\n        return this.properties[propName].observe(callback);\n    }\n    /**\n     * Remove a listener for node's property changes.\n     * @method unobserveProperty\n     * @memberof DNA.MIXINS.PropertiesMixin\n     * @instance\n     *\n     * @param {string} propName The property name to unobserve.\n     * @param {Function} callback The callback to remove.\n     */\n    unobserveProperty(propName, callback) {\n        this.properties[propName].unobserve(callback);\n    }\n};\n","const ELEM_PROTO = Element.prototype;\n\nexport const matches = ELEM_PROTO.matches ||\n    ELEM_PROTO.matchesSelector ||\n    ELEM_PROTO.mozMatchesSelector ||\n    ELEM_PROTO.msMatchesSelector ||\n    ELEM_PROTO.oMatchesSelector ||\n    ELEM_PROTO.webkitMatchesSelector;\n","import { isString, isFunction } from '../lib/typeof.js';\nimport { matches } from '../polyfills/matches.js';\nimport { dispatch } from '../lib/dispatch.js';\n\nconst SPLIT_SELECTOR = /([^\\s]+)(.*)?/;\n\n/**\n * Simple Custom Component with events delegation,\n * It also implement a `dispatchEvent` wrapper named `trigger`.\n * @mixin EventsMixin\n * @memberof DNA.MIXINS.\n * @static\n *\n * @example\n * ```js\n * // my-component.js\n * import { BaseComponent } from '@dnajs/core';\n * export class MyComponent extends BaseComponent {\n *   get events() {\n *     return {\n *       'click button': 'onButtonClick'\n *     }\n *   }\n *   onButtonClick() {\n *     console.log('button clicked');\n *   }\n * }\n * ```\n * ```js\n * // app.js\n * import { define } from '@dnajs/core';\n * import { MyComponent } from './my-component.js';\n * define('my-component', MyComponent);\n * var element = new MyComponent();\n * var button = document.createElement('button');\n * button.innerText = 'Click me';\n * element.appendChild(button);\n * button.click(); // logs \"button clicked\"\n * ```\n */\nexport const EventsMixin = (SuperClass) => class extends SuperClass {\n    /**\n     * Attach and delegate events to the component.\n     * @method constructor\n     * @memberof DNA.MIXINS.EventsMixin\n     * @instance\n     */\n    constructor() {\n        super();\n        // bind events\n        let events = this.events || {};\n        for (let k in events) {\n            let callback = isString(events[k]) ?\n                this[events[k]] :\n                events[k];\n            if (isFunction(callback)) {\n                let rule = k.match(SPLIT_SELECTOR);\n                let evName = rule[1];\n                let selector = (rule[2] || '').trim();\n                if (selector) {\n                    this.delegate(evName, selector, callback);\n                } else {\n                    this.node.addEventListener(evName, (ev) => {\n                        callback.call(this, ev, this);\n                    });\n                }\n            } else {\n                throw new TypeError('Invalid callback for event.');\n            }\n        }\n    }\n    /**\n     * Delegate events to the component descendents.\n     * @method delegate\n     * @memberof DNA.MIXINS.EventsMixin\n     * @instance\n     *\n     * @param {String} evName The name of the event to delegate.\n     * @param {String} selector A CSS selector for descendents.\n     * @param {Function} callback The callback to fire when the event fires.\n     */\n    delegate(evName, selector, callback) {\n        this.node.addEventListener(evName, (event) => {\n            let target = event.target;\n            while (target && target !== this) {\n                if (matches.call(target, selector)) {\n                    callback.call(this, event, target);\n                }\n                target = target.parentNode;\n            }\n        });\n    }\n    /**\n     * `Node.prototype.dispatchEvent` wrapper.\n     * @method trigger\n     * @memberof DNA.MIXINS.EventsMixin\n     * @instance\n     *\n     * @param {String} evName The name of the event to fire.\n     * @param {Object} data A set of custom data to pass to the event.\n     * @param {Boolean} bubbles Should the event bubble throw the DOM tree.\n     * @param {Boolean} cancelable Can be the event cancel by a callback.\n     * @return {Boolean} True if event propagation has not be stopped.\n     */\n    trigger(evName, data, bubbles = true, cancelable = true) {\n        return dispatch(this, evName, data, bubbles, cancelable);\n    }\n};\n","const rootDoc = document;\n/**\n * Create and attach a style element for a component.\n * @private\n *\n * @param {HTMLElement} node A component instance.\n * @return {HTMLElement} The created style element.\n */\nexport function createStyle(node) {\n    let doc = node.ownerDocument || rootDoc;\n    let styleElem = doc.createElement('style');\n    styleElem.type = 'text/css';\n    styleElem.setAttribute('id', `style-${node.is}`);\n    let head = doc.head;\n    /* istanbul ignore else */\n    if (head.firstElementChild) {\n        head.insertBefore(styleElem, head.firstElementChild);\n    } else {\n        head.appendChild(styleElem);\n    }\n    return styleElem;\n}\n","import { isString } from '../lib/typeof.js';\nimport { createStyle } from '../lib/style.js';\n\n/**\n * Simple Custom Component with css style handling using the `css` property.\n * @mixin StyleMixin\n * @memberof DNA.MIXINS\n * @static\n *\n * @example\n * ```js\n * // my-component.js\n * import { BaseComponent } from '@dnajs/core';\n * export class MyComponent extends BaseComponent {\n *   get css() {\n *     return '.my-component p { color: red; }'\n *   }\n * }\n * ```\n * ```js\n * // app.js\n * import { define } from '@dnajs/core';\n * import { MyComponent } from './my-component.js';\n * define('my-component', MyComponent);\n * var element = new MyComponent();\n * var p = document.createElement('p');\n * p.innerText = 'Paragraph';\n * element.appendChild(p); // text inside `p` gets the red color\n * ```\n */\nexport const StyleMixin = (SuperClass) => class extends SuperClass {\n    /**\n     * Fires when an instance of the element is created.\n     */\n    constructor() {\n        super();\n        if (!this.constructor.styleElem) {\n            let Ctr = this.constructor;\n            Object.defineProperty(Ctr, 'styleElem', {\n                value: createStyle(this),\n            });\n        }\n        this.updateCSS();\n    }\n\n    connectedCallback() {\n        super.connectedCallback();\n        this.node.classList.add(this.is);\n    }\n\n    updateCSS() {\n        let style = this.css;\n        if (isString(style)) {\n            this.constructor.styleElem.textContent = style;\n        }\n    }\n};\n","import { isUndefined, isFunction, isString } from '../lib/typeof.js';\n\n/**\n * Simple Custom Component with template handling using the `template` property.\n * @memberof DNA.MIXINS\n * @mixin TemplateMixin\n * @static\n *\n * @param {Function} SuperClass The class to extend.\n * @return {Function} The extended class.\n *\n * @example\n * ```js\n * // my-component.js\n * import { BaseComponent } from '@dnajs/core';\n * export class MyComponent extends BaseComponent {\n *   get template() {\n *     return `<h1>${this.name}</h1>`;\n *   }\n *   get name() {\n *     return 'Newton';\n *   }\n * }\n * ```\n * ```js\n * // app.js\n * import { define } from '@dnajs/core';\n * import { MyComponent } from './my-component.js';\n * define('my-component', MyComponent);\n * var element = new MyComponent();\n * console.log(element.innerHTML); // logs \"<h1>Newton</h1>\"\n * ```\n */\nexport const TemplateMixin = (SuperClass) => class extends SuperClass {\n    get autoRender() {\n        return true;\n    }\n    /**\n     * Attach properties observers in order to update children.\n     * @method constructor\n     * @memberof DNA.MIXINS.TemplateMixin\n     * @instance\n     */\n    constructor() {\n        super();\n        if (this.autoRender && !isUndefined(this.template)) {\n            let props = this.properties;\n            if (props) {\n                let callback = () => {\n                    this.render();\n                };\n                for (let k in props) {\n                    props[k].observe(callback);\n                }\n            }\n        }\n    }\n    /**\n     * Render the component when connected.\n     * @method connectedCallback\n     * @memberof DNA.MIXINS.TemplateMixin\n     * @instance\n     */\n    connectedCallback() {\n        super.connectedCallback();\n        if (!isUndefined(this.template)) {\n            this.render();\n        }\n    }\n    /**\n     * Update Component child nodes.\n     * @method render\n     * @memberof DNA.MIXINS.TemplateMixin\n     * @instance\n     *\n     * @param {Function|string} tpl A template to use instead of `this.template`.\n     *\n     * @throws {TypeError} Will throw if the template type is not supported.\n     */\n    render(tpl) {\n        tpl = tpl || this.template;\n        /* istanbul ignore else */\n        if (isFunction(tpl)) {\n            tpl.call(this);\n        } else if (isString(tpl)) {\n            this.node.innerHTML = tpl;\n        } else {\n            throw new TypeError('Invalid template property.');\n        }\n    }\n};\n","/* eslint-disable prefer-rest-params */\nexport const reduce = Array.prototype.reduce || function(callback /*, initialValue*/ ) {\n    'use strict';\n    let t = this;\n    let len = t.length;\n    let k = 0;\n    let value;\n    if (arguments.length === 2) {\n        value = arguments[1];\n    } else {\n        while (k < len && !(k in t)) {\n            k++;\n        }\n        value = t[k++];\n    }\n    for (; k < len; k++) {\n        if (k in t) {\n            value = callback(value, t[k], k, t);\n        }\n    }\n    return value;\n};\n","/**\n * @author Justin Fagnani\n * @see https://github.com/justinfagnani/mixwith.js\n */\nimport { reduce } from '../polyfills/reduce.js';\n\n/**\n * Mix a class with a mixin.\n * @method mix(...).with(...)\n * @memberof! DNA.\n * @static\n *\n * @param {Function} superClass The class to extend.\n * @return {Function} A mixed class.\n *\n * @example\n * ```js\n * // my-super.js\n * export class MySuperClass {\n *     constructor() {\n *         // do something\n *     }\n * }\n * ```\n * ```js\n * // mixin.js\n * export const Mixin = (superClass) => class extend superClass {\n *     constructor() {\n *         super();\n *         // do something else\n *     }\n * };\n * ```\n * ```js\n * import { mix } from '@dnajs/core';\n * import { MySuperClass } from './my-super.js';\n * import { Mixin } from './mixin.js';\n *\n * export class MixedClass extends mix(MySuperClass).with(Mixin) {\n *     ...\n * }\n * ```\n */\n\n/**\n * A Mixin helper class.\n * @ignore\n */\nclass Mixin {\n    /**\n     * Create a mixable class.\n     * @param {Function} superClass The class to extend.\n     */\n    constructor(superclass) {\n        superclass = superclass || class {};\n        this.superclass = superclass;\n    }\n    /**\n     * Mix the super class with a list of mixins.\n     * @param {...Function} mixins *N* mixin functions.\n     * @return {Function} The extended class.\n     */\n    with() {\n        // eslint-disable-next-line\n        let args = [].slice.call(arguments, 0);\n        return reduce.call(args, (c, mixin) => mixin(c), this.superclass);\n    }\n}\n\n/**\n * Create a Mixin instance.\n * @ignore\n */\nexport const mix = (superClass) => new Mixin(superClass);\n","import { registry } from './registry.js';\nimport { isString } from './typeof.js';\n\n/**\n * Check if a node is already instantiated HTMLElement for programmatically `constructor` calls.\n * @private\n * @param {HTMLElement} node The node to check.\n * @return {Boolean} The node should be instantiated.\n */\nfunction isNew(node) {\n    try {\n        return !isString(node.outerHTML);\n    } catch (ex) {\n        return true;\n    }\n}\n\n/**\n * Shim original Element constructors in order to be used with `new`.\n * @method shim\n * @memberof! DNA.\n * @static\n *\n * @param {Function} Original The original constructor to shim.\n * @return {Function} The shimmed constructor.\n *\n * @example\n * ```js\n * // shim audio element\n * import { shim } from '@dnajs/core';\n *\n * class MyAudio extends shim(HTMLAudioElement) {\n *     ...\n * }\n *\n * let audio = new MyAudio();\n * ```\n */\nexport function shim(Original) {\n    class Polyfilled {\n        constructor() {\n            if (!isNew(this)) {\n                return this;\n            }\n            let desc = registry.getDescriptor(this.constructor);\n            let config = desc.config;\n            // Find the tagname of the constructor and create a new element with it\n            let element = document.createElement(\n                config.extends ? config.extends : desc.is\n            );\n            element.__proto__ = desc.Ctr.prototype;\n            if (config.extends) {\n                element.setAttribute('is', desc.is);\n            }\n            return element;\n        }\n    }\n    // Clone the prototype overriding the constructor.\n    Polyfilled.prototype = Object.create(Original.prototype, {\n        constructor: {\n            value: Polyfilled,\n            configurable: true,\n            writable: true,\n        },\n    });\n    return Polyfilled;\n}\n","import * as DOM_HELPERS from './lib/dom.js';\nimport { ComponentMixin } from './mixins/component.js';\nimport { PropertiesMixin } from './mixins/properties-component.js';\nimport { EventsMixin } from './mixins/events-component.js';\nimport { StyleMixin } from './mixins/style-component.js';\nimport { TemplateMixin } from './mixins/template-component.js';\n\n/**\n * A set of DOM helpers for callbacks trigger when Custom Elements\n * are not supported by the browser.\n * @name DOM\n * @namespace DOM\n * @memberof! DNA.\n * @static\n */\nexport const DOM = DOM_HELPERS;\n/**\n * A set of core mixins.\n * @name MIXINS\n * @namespace MIXINS\n * @memberof! DNA.\n * @static\n */\nexport const MIXINS = {\n    ComponentMixin,\n    PropertiesMixin,\n    EventsMixin,\n    StyleMixin,\n    TemplateMixin,\n};\nexport { mix } from './lib/mixins.js';\nexport { prop } from './lib/property.js';\nexport { shim } from './lib/shim.js';\nexport * from './lib/symbols.js';\nexport * from './lib/typeof.js';\n","/**\n * DNA\n * (c) 2015-2016 Chialab (http://www.chialab.com) <dev@chialab.io>\n * http://dna.chialab.io\n *\n * Just another components pattern.\n * Use with Custom Elements specs.\n */\nimport { mix, prop, shim, DOM, MIXINS } from './src/core.js';\nimport { registry } from './src/lib/registry.js';\n\n/**\n * @namespace DNA\n */\nexport { mix, prop, shim, DOM, MIXINS };\nexport { registry };\n\n/**\n * Register a new component.\n * @method define\n * @memberof! DNA.\n * @static\n *\n * @param {String} name The id of the component.\n * @param {Function} Ctr The component constructor.\n * @param {Object} config Optional component configuration.\n */\nexport function define(tagName, Component, config) {\n    return registry.define(tagName, Component, config);\n}\n/**\n * Create and append a new component instance.\n * @method render\n * @memberof! DNA.\n * @static\n *\n * @param {HTMLElement} node The parent node.\n * @param {Function} Component The component constructor.\n * @param {Object} props Optional set of properties to set to the component.\n * @return {HTMLElement} The new component instance.\n */\nexport function render(node, Component, props) {\n    let element = new Component();\n    for (let k in props) {\n        element[k] = props[k];\n    }\n    DOM.appendChild(node, element);\n    return element;\n}\n\n/**\n * Simple Custom Component with some behaviors.\n * @class BaseComponent\n * @extends HTMLElement\n * @memberof DNA.\n * @static\n *\n * @example\n * ```js\n * // my-component.js\n * import { BaseComponent } from '@dnajs/core';\n * export class MyComponent extends BaseComponent {\n *   static get observedAttributes() {\n *     return ['...', '...'];\n *   }\n *   get css() {\n *     return '...';\n *   }\n *   get events() {\n *     return {\n *       '...': '...'\n *     };\n *   }\n *   get template() {\n *     return '...';\n *   }\n *   get properties() {\n *     return { ... };\n *   }\n * }\n * ```\n */\nexport class BaseComponent extends mix(\n    shim(self.HTMLElement)\n).with(\n    MIXINS.ComponentMixin,\n    MIXINS.PropertiesMixin,\n    MIXINS.StyleMixin,\n    MIXINS.EventsMixin,\n    MIXINS.TemplateMixin\n) {}\n","import { DOM } from '@dnajs/core';\n\nfunction onCreation(nodes) {\n    [].forEach.call(nodes, (node) => {\n        if (!node.is) {\n            if(DOM.bind(node)) {\n                DOM.connect(node);\n            }\n        } else {\n            DOM.connect(node);\n        }\n        if (node.children) {\n            onCreation(node.children);\n        }\n    });\n}\n\nconst OBSERVER = new MutationObserver((mutations) => {\n    mutations.forEach((mutation) => {\n        switch (mutation.type) {\n        case 'childList': {\n            if (mutation.addedNodes) {\n                onCreation(mutation.addedNodes);\n            }\n            if (mutation.removedNodes) {\n                mutation.removedNodes.forEach((node) => {\n                    DOM.disconnect(node);\n                });\n            }\n            break;\n        }\n        case 'attributes': {\n            let attributeName = mutation.attributeName;\n            if (attributeName === 'is') {\n                break;\n            }\n            let node = mutation.target;\n            DOM.update(\n                node,\n                attributeName,\n                mutation.oldValue,\n                node.getAttribute(attributeName)\n            );\n            break;\n        }\n        }\n    });\n});\n\nOBSERVER.observe(document.body, {\n    attributes: true,\n    childList: true,\n    subtree: true,\n});\n","/**\n * DNA\n * (c) 2015-2016 Chialab (http://www.chialab.com) <dev@chialab.io>\n * http://dna.chialab.io\n *\n * Just another components pattern.\n * Use with MutationObserver API.\n */\nimport './observer.js';\nexport * from '@dnajs/core';\n"],"names":["isFunction","obj","isString","isObject","Object","prototype","toString","call","isUndefined","isArray","Array","registry","name","Ctr","config","components","toLowerCase","k","desc","getDescriptor","COMPONENT_SYMBOL","CONNECTED","DISCONNECTED","UPDATED","getComponent","element","full","node","nodeType","Node","ELEMENT_NODE","getAttribute","tagName","get","isComponent","connect","disconnect","update","oldValue","newValue","bind","__proto__","defineProperty","createElement","is","appendChild","parent","parentNode","lastElementChild","removeChild","insertBefore","refNode","nextSibling","replaceChild","setAttribute","value","attrs","constructor","observedAttributes","indexOf","removeAttribute","ComponentMixin","SuperClass","connectedCallback","disconnectedCallback","attributeChangedCallback","localName","CustomEvent","ev","self","ex","event","params","undefined","evt","document","createEvent","initCustomEvent","bubbles","cancelable","detail","dispatch","evName","data","TypeError","dispatchEvent","define","Property","ctrs","_","validator","_setter","val","getterFn","setterFn","validateType","changed","scope","observe","callback","push","unobserve","io","splice","i","len","length","clb","accepts","named","attrRequested","attrName","default","initValue","defaultValue","freeze","attribute","eventName","getter","setter","validate","init","prop","String","Boolean","Number","getValue","property","attrVal","JSON","parse","context","attr","currentAttrValue","PropertiesMixin","props","properties","reduce","res","partialProps","observed","hasAttribute","oldVal","newVal","observeProperty","propName","unobserveProperty","ELEM_PROTO","Element","matches","matchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector","webkitMatchesSelector","SPLIT_SELECTOR","EventsMixin","events","rule","match","selector","trim","delegate","addEventListener","target","trigger","rootDoc","createStyle","doc","ownerDocument","styleElem","type","head","firstElementChild","StyleMixin","updateCSS","classList","add","style","css","textContent","TemplateMixin","autoRender","template","render","tpl","innerHTML","t","arguments","Mixin","superclass","with","args","slice","c","mixin","mix","superClass","isNew","outerHTML","shim","Original","Polyfilled","extends","create","DOM","DOM_HELPERS","MIXINS","Component","BaseComponent","HTMLElement","onCreation","nodes","forEach","children","OBSERVER","MutationObserver","mutations","mutation","addedNodes","removedNodes","attributeName","body"],"mappings":"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","preExisting":"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjpudWxsLCJzb3VyY2VzIjpbIi9Vc2Vycy9lZG9hcmRvY2F2YXp6YS9Qcm9qZWN0cy9kbmEvZG5hLWNvbXBvbmVudHMvbm9kZV9tb2R1bGVzL0BkbmFqcy9jb3JlL3NyYy9saWIvdHlwZW9mLmpzIiwiL1VzZXJzL2Vkb2FyZG9jYXZhenphL1Byb2plY3RzL2RuYS9kbmEtY29tcG9uZW50cy9ub2RlX21vZHVsZXMvQGRuYWpzL2NvcmUvc3JjL2xpYi9yZWdpc3RyeS5qcyIsIi9Vc2Vycy9lZG9hcmRvY2F2YXp6YS9Qcm9qZWN0cy9kbmEvZG5hLWNvbXBvbmVudHMvbm9kZV9tb2R1bGVzL0BkbmFqcy9jb3JlL3NyYy9saWIvc3ltYm9scy5qcyIsIi9Vc2Vycy9lZG9hcmRvY2F2YXp6YS9Qcm9qZWN0cy9kbmEvZG5hLWNvbXBvbmVudHMvbm9kZV9tb2R1bGVzL0BkbmFqcy9jb3JlL3NyYy9saWIvZG9tLmpzIiwiL1VzZXJzL2Vkb2FyZG9jYXZhenphL1Byb2plY3RzL2RuYS9kbmEtY29tcG9uZW50cy9ub2RlX21vZHVsZXMvQGRuYWpzL2NvcmUvc3JjL21peGlucy9jb21wb25lbnQuanMiLCIvVXNlcnMvZWRvYXJkb2NhdmF6emEvUHJvamVjdHMvZG5hL2RuYS1jb21wb25lbnRzL25vZGVfbW9kdWxlcy9AZG5hanMvY29yZS9zcmMvcG9seWZpbGxzL2N1c3RvbS1ldmVudC5qcyIsIi9Vc2Vycy9lZG9hcmRvY2F2YXp6YS9Qcm9qZWN0cy9kbmEvZG5hLWNvbXBvbmVudHMvbm9kZV9tb2R1bGVzL0BkbmFqcy9jb3JlL3NyYy9saWIvZGlzcGF0Y2guanMiLCIvVXNlcnMvZWRvYXJkb2NhdmF6emEvUHJvamVjdHMvZG5hL2RuYS1jb21wb25lbnRzL25vZGVfbW9kdWxlcy9AZG5hanMvY29yZS9zcmMvbGliL3Byb3BlcnR5LmpzIiwiL1VzZXJzL2Vkb2FyZG9jYXZhenphL1Byb2plY3RzL2RuYS9kbmEtY29tcG9uZW50cy9ub2RlX21vZHVsZXMvQGRuYWpzL2NvcmUvc3JjL21peGlucy9wcm9wZXJ0aWVzLWNvbXBvbmVudC5qcyIsIi9Vc2Vycy9lZG9hcmRvY2F2YXp6YS9Qcm9qZWN0cy9kbmEvZG5hLWNvbXBvbmVudHMvbm9kZV9tb2R1bGVzL0BkbmFqcy9jb3JlL3NyYy9wb2x5ZmlsbHMvbWF0Y2hlcy5qcyIsIi9Vc2Vycy9lZG9hcmRvY2F2YXp6YS9Qcm9qZWN0cy9kbmEvZG5hLWNvbXBvbmVudHMvbm9kZV9tb2R1bGVzL0BkbmFqcy9jb3JlL3NyYy9taXhpbnMvZXZlbnRzLWNvbXBvbmVudC5qcyIsIi9Vc2Vycy9lZG9hcmRvY2F2YXp6YS9Qcm9qZWN0cy9kbmEvZG5hLWNvbXBvbmVudHMvbm9kZV9tb2R1bGVzL0BkbmFqcy9jb3JlL3NyYy9saWIvc3R5bGUuanMiLCIvVXNlcnMvZWRvYXJkb2NhdmF6emEvUHJvamVjdHMvZG5hL2RuYS1jb21wb25lbnRzL25vZGVfbW9kdWxlcy9AZG5hanMvY29yZS9zcmMvbWl4aW5zL3N0eWxlLWNvbXBvbmVudC5qcyIsIi9Vc2Vycy9lZG9hcmRvY2F2YXp6YS9Qcm9qZWN0cy9kbmEvZG5hLWNvbXBvbmVudHMvbm9kZV9tb2R1bGVzL0BkbmFqcy9jb3JlL3NyYy9taXhpbnMvdGVtcGxhdGUtY29tcG9uZW50LmpzIiwiL1VzZXJzL2Vkb2FyZG9jYXZhenphL1Byb2plY3RzL2RuYS9kbmEtY29tcG9uZW50cy9ub2RlX21vZHVsZXMvQGRuYWpzL2NvcmUvc3JjL3BvbHlmaWxscy9yZWR1Y2UuanMiLCIvVXNlcnMvZWRvYXJkb2NhdmF6emEvUHJvamVjdHMvZG5hL2RuYS1jb21wb25lbnRzL25vZGVfbW9kdWxlcy9AZG5hanMvY29yZS9zcmMvbGliL21peGlucy5qcyIsIi9Vc2Vycy9lZG9hcmRvY2F2YXp6YS9Qcm9qZWN0cy9kbmEvZG5hLWNvbXBvbmVudHMvbm9kZV9tb2R1bGVzL0BkbmFqcy9jb3JlL3NyYy9saWIvc2hpbS5qcyIsIi9Vc2Vycy9lZG9hcmRvY2F2YXp6YS9Qcm9qZWN0cy9kbmEvZG5hLWNvbXBvbmVudHMvbm9kZV9tb2R1bGVzL0BkbmFqcy9jb3JlL3NyYy9jb3JlLmpzIiwiL1VzZXJzL2Vkb2FyZG9jYXZhenphL1Byb2plY3RzL2RuYS9kbmEtY29tcG9uZW50cy9ub2RlX21vZHVsZXMvQGRuYWpzL2NvcmUvaW5kZXguanMiLCIvVXNlcnMvZWRvYXJkb2NhdmF6emEvUHJvamVjdHMvZG5hL2RuYS1jb21wb25lbnRzL3BhY2thZ2VzL2RuYS1tdXRhdGlvbi9vYnNlcnZlci5qcyIsIi9Vc2Vycy9lZG9hcmRvY2F2YXp6YS9Qcm9qZWN0cy9kbmEvZG5hLWNvbXBvbmVudHMvcGFja2FnZXMvZG5hLW11dGF0aW9uL2luZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQ2hlY2sgaWYgYW4gdmFsdWUgaXMgYSBmdW5jdGlvbi5cbiAqIEBtZXRob2QgaXNGdW5jdGlvblxuICogQG1lbWJlcm9mISBETkEuXG4gKiBAc3RhdGljXG4gKlxuICogQHBhcmFtIHsqfSBvYmogVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybiB7Qm9vbGVhbn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzRnVuY3Rpb24ob2JqKSB7XG4gICAgcmV0dXJuIHR5cGVvZiBvYmogPT09ICdmdW5jdGlvbic7XG59XG4vKipcbiAqIENoZWNrIGlmIGFuIHZhbHVlIGlzIGEgc3RyaW5nLlxuICogQG1ldGhvZCBpc1N0cmluZ1xuICogQG1lbWJlcm9mISBETkEuXG4gKiBAc3RhdGljXG4gKlxuICogQHBhcmFtIHsqfSBvYmogVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybiB7Qm9vbGVhbn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzU3RyaW5nKG9iaikge1xuICAgIHJldHVybiB0eXBlb2Ygb2JqID09PSAnc3RyaW5nJztcbn1cbi8qKlxuICogQ2hlY2sgaWYgYW4gdmFsdWUgaXMgYW4gb2JqZWN0LlxuICogQG1ldGhvZCBpc09iamVjdFxuICogQG1lbWJlcm9mISBETkEuXG4gKiBAc3RhdGljXG4gKlxuICogQHBhcmFtIHsqfSBvYmogVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybiB7Qm9vbGVhbn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzT2JqZWN0KG9iaikge1xuICAgIHJldHVybiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwob2JqKSA9PT0gJ1tvYmplY3QgT2JqZWN0XSc7XG59XG4vKipcbiAqIENoZWNrIGlmIGFuIHZhbHVlIGlzIHVuZGVmaW5lZC5cbiAqIEBtZXRob2QgaXNVbmRlZmluZWRcbiAqIEBtZW1iZXJvZiEgRE5BLlxuICogQHN0YXRpY1xuICpcbiAqIEBwYXJhbSB7Kn0gb2JqIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm4ge0Jvb2xlYW59XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc1VuZGVmaW5lZChvYmopIHtcbiAgICByZXR1cm4gdHlwZW9mIG9iaiA9PT0gJ3VuZGVmaW5lZCc7XG59XG4vKipcbiAqIENoZWNrIGlmIGFuIHZhbHVlIGlzIGFuIGFycmF5LlxuICogQG1ldGhvZCBpc0FycmF5XG4gKiBAbWVtYmVyb2YhIEROQS5cbiAqIEBzdGF0aWNcbiAqXG4gKiBAcGFyYW0geyp9IG9iaiBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJuIHtCb29sZWFufVxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNBcnJheShvYmopIHtcbiAgICByZXR1cm4gQXJyYXkuaXNBcnJheShvYmopO1xufVxuIiwiaW1wb3J0IHsgaXNGdW5jdGlvbiwgaXNTdHJpbmcgfSBmcm9tICcuL3R5cGVvZi5qcyc7XG5cbi8qKlxuICogQSBjdXN0b20gY29tcG9uZW50cyByZWdpc3RyeS5cbiAqIEl0IHJlcGxpY2F0ZXMgdGhlIFtDdXN0b21FbGVtZW50UmVnaXN0cnkgaW50ZXJmYWNlXShodHRwczovL3d3dy53My5vcmcvVFIvY3VzdG9tLWVsZW1lbnRzLyNjdXN0b20tZWxlbWVudHMtYXBpKS5cbiAqIEBuYW1lIHJlZ2lzdHJ5XG4gKiBAbmFtZXNwYWNlIHJlZ2lzdHJ5XG4gKiBAbWVtYmVyb2YhIEROQS5cbiAqIEBzdGF0aWNcbiAqL1xuZXhwb3J0IGNvbnN0IHJlZ2lzdHJ5ID0ge1xuICAgIC8qKlxuICAgICAqIFRoZSBsaXN0IG9mIGRlZmluZWQgY29tcG9uZW50cy5cbiAgICAgKiBAdHlwZSB7T2JqZWN0fVxuICAgICAqL1xuICAgIGNvbXBvbmVudHM6IHt9LFxuICAgIC8qKlxuICAgICAqIFJlZ2lzdGVyIGEgbmV3IGNvbXBvbmVudC5cbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gbmFtZSBUaGUgaWQgb2YgdGhlIGNvbXBvbmVudC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBDdHIgVGhlIGNvbXBvbmVudCBjb25zdHJ1Y3Rvci5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gY29uZmlnIE9wdGlvbmFsIGNvbXBvbmVudCBjb25maWd1cmF0aW9uLlxuICAgICAqL1xuICAgIGRlZmluZShuYW1lLCBDdHIsIGNvbmZpZyA9IHt9KSB7XG4gICAgICAgIHRoaXMuY29tcG9uZW50c1tuYW1lLnRvTG93ZXJDYXNlKCldID0ge1xuICAgICAgICAgICAgaXM6IG5hbWUsXG4gICAgICAgICAgICBDdHIsXG4gICAgICAgICAgICBjb25maWcsXG4gICAgICAgIH07XG4gICAgfSxcbiAgICAvKipcbiAgICAgKiBSZXRyaWV2ZSBhIGNvbXBvbmVudCBkZXNjcmlwdG9yIGJ5IGlkLlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IG5hbWUgVGhlIGNvbXBvbmVudCBpZC5cbiAgICAgKiBAcmV0dXJuIHtPYmplY3R9IFRoZSBjb21wb25lbnQgZGVzY3JpcHRvci5cbiAgICAgKi9cbiAgICBnZXREZXNjcmlwdG9yKG5hbWUpIHtcbiAgICAgICAgaWYgKGlzU3RyaW5nKG5hbWUpKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5jb21wb25lbnRzW25hbWUudG9Mb3dlckNhc2UoKV07XG4gICAgICAgIH0gZWxzZSBpZiAoaXNGdW5jdGlvbihuYW1lKSkge1xuICAgICAgICAgICAgZm9yIChsZXQgayBpbiB0aGlzLmNvbXBvbmVudHMpIHtcbiAgICAgICAgICAgICAgICBsZXQgZGVzYyA9IHRoaXMuY29tcG9uZW50c1trXTtcbiAgICAgICAgICAgICAgICBpZiAoZGVzYy5DdHIgPT09IG5hbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRlc2M7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSxcbiAgICAvKipcbiAgICAgKiBSZXRyaWV2ZSBhIGNvbXBvbmVudCBjb25zdHJ1Y3RvciBieSBpZC5cbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gbmFtZSBUaGUgY29tcG9uZW50IGlkLlxuICAgICAqIEByZXR1cm4ge0Z1bmN0aW9ufSBUaGUgY29tcG9uZW50IGNvbnN0cnVjdG9yLlxuICAgICAqL1xuICAgIGdldChuYW1lKSB7XG4gICAgICAgIGxldCBkZXNjID0gdGhpcy5nZXREZXNjcmlwdG9yKG5hbWUpO1xuICAgICAgICBpZiAoZGVzYykge1xuICAgICAgICAgICAgcmV0dXJuIGRlc2MuQ3RyO1xuICAgICAgICB9XG4gICAgfSxcbn07XG4iLCJleHBvcnQgY29uc3QgQ09NUE9ORU5UX1NZTUJPTCA9ICdfX2NvbXBvbmVudCc7XG4iLCJpbXBvcnQgeyBpc0Z1bmN0aW9uIH0gZnJvbSAnLi90eXBlb2YuanMnO1xuaW1wb3J0IHsgcmVnaXN0cnkgfSBmcm9tICcuL3JlZ2lzdHJ5LmpzJztcbmltcG9ydCB7IENPTVBPTkVOVF9TWU1CT0wgfSBmcm9tICcuL3N5bWJvbHMuanMnO1xuXG4vKipcbiAqIFRoZSBgY29ubmVjdGVkQ2FsbGJhY2tgIG5hbWUuXG4gKiBAcHJpdmF0ZVxuICpcbiAqIEB0eXBlIHtTdHJpbmd9XG4gKiBAc2VlIFtXM0Mgc3BlY10oaHR0cHM6Ly93d3cudzMub3JnL1RSL2N1c3RvbS1lbGVtZW50cy8jY3VzdG9tLWVsZW1lbnQtcmVhY3Rpb25zKVxuICovXG5jb25zdCBDT05ORUNURUQgPSAnY29ubmVjdGVkQ2FsbGJhY2snO1xuLyoqXG4gKiBUaGUgYGRpc2Nvbm5lY3RlZENhbGxiYWNrYCBuYW1lLlxuICogQHByaXZhdGVcbiAqXG4gKiBAdHlwZSB7U3RyaW5nfVxuICogQHNlZSBbVzNDIHNwZWNdKGh0dHBzOi8vd3d3LnczLm9yZy9UUi9jdXN0b20tZWxlbWVudHMvI2N1c3RvbS1lbGVtZW50LXJlYWN0aW9ucylcbiAqL1xuY29uc3QgRElTQ09OTkVDVEVEID0gJ2Rpc2Nvbm5lY3RlZENhbGxiYWNrJztcbi8qKlxuICogVGhlIGBhdHRyaWJ1dGVDaGFuZ2VkQ2FsbGJhY2tgIG5hbWUuXG4gKiBAcHJpdmF0ZVxuICpcbiAqIEB0eXBlIHtTdHJpbmd9XG4gKiBAc2VlIFtXM0Mgc3BlY10oaHR0cHM6Ly93d3cudzMub3JnL1RSL2N1c3RvbS1lbGVtZW50cy8jY3VzdG9tLWVsZW1lbnQtcmVhY3Rpb25zKVxuICovXG5jb25zdCBVUERBVEVEID0gJ2F0dHJpYnV0ZUNoYW5nZWRDYWxsYmFjayc7XG4vKipcbiAqIFJldHJpZXZlIGEgY29tcG9uZW50IGNvbnN0cnVjdG9yIGZyb20gYW4gRWxlbWVudCBvciBmcm9tIGEgdGFnIG5hbWUuXG4gKiBAbWV0aG9kIGdldENvbXBvbmVudFxuICogQG1lbWJlcm9mIEROQS5ET01cbiAqIEBzdGF0aWNcbiAqXG4gKiBAcGFyYW0ge0NvbXBvbmVudHxTdHJpbmd9IGVsZW1lbnQgVGhlIGVsZW1lbnQgb3IgdGhlIHRhZyBuYW1lLlxuICogQHBhcmFtIHtCb29sZWFufSBmdWxsIFJldHJpZXZlIGZ1bGwgY29tcG9uZW50IGluZm9ybWF0aW9uLlxuICogQHJldHVybiB7RnVuY3Rpb259IFRoZSBjb21wb25lbnQgY29uc3RydWN0b3IgZm9yIHRoZSBnaXZlbiBwYXJhbS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldENvbXBvbmVudChlbGVtZW50LCBmdWxsID0gZmFsc2UpIHtcbiAgICBpZiAoZWxlbWVudC5ub2RlKSB7XG4gICAgICAgIGVsZW1lbnQgPSBlbGVtZW50Lm5vZGU7XG4gICAgfVxuICAgIGlmIChlbGVtZW50Lm5vZGVUeXBlID09PSBOb2RlLkVMRU1FTlRfTk9ERSkge1xuICAgICAgICBlbGVtZW50ID0gZWxlbWVudC5nZXRBdHRyaWJ1dGUoJ2lzJykgfHwgZWxlbWVudC50YWdOYW1lO1xuICAgIH1cbiAgICByZXR1cm4gZnVsbCA/IHJlZ2lzdHJ5LmdldERlc2NyaXB0b3IoZWxlbWVudCkgOiByZWdpc3RyeS5nZXQoZWxlbWVudCk7XG59XG4vKipcbiAqIENoZWNrIGlmIGEgbm9kZSBpcyBhbiBpbnN0YW5jZSBvZiBhIGNvbXBvbmVudC5cbiAqIEBtZXRob2QgaXNDb21wb25lbnRcbiAqIEBtZW1iZXJvZiBETkEuRE9NXG4gKiBAc3RhdGljXG4gKlxuICogQHBhcmFtIHtDb21wb25lbnR9IGVsZW1lbnQgVGhlIGVsZW1lbnQgdG8gY2hlY2suXG4gKiBAcmV0dXJuIHtCb29sZWFufVxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNDb21wb25lbnQoZWxlbWVudCkge1xuICAgIGxldCBDdHIgPSBnZXRDb21wb25lbnQoZWxlbWVudCk7XG4gICAgcmV0dXJuIEN0ciAmJiAoZWxlbWVudCBpbnN0YW5jZW9mIEN0cik7XG59XG4vKipcbiAqIEFuIGhlbHBlciBmb3IgZHluYW1pY2FsbHkgdHJpZ2dlciB0aGUgYGNvbm5lY3RlZENhbGxiYWNrYCByZWFjdGlvbiBvbiBjb21wb25lbnRzLlxuICogQG1ldGhvZCBjb25uZWN0XG4gKiBAbWVtYmVyb2YgRE5BLkRPTVxuICogQHN0YXRpY1xuICpcbiAqIEBwYXJhbSB7Q29tcG9uZW50fSBlbGVtZW50IFRoZSBhdHRhY2hlZCBub2RlLlxuICogQHJldHVybiB7Qm9vbGVhbn0gVGhlIGNhbGxiYWNrIGhhcyBiZWVuIHRyaWdnZXJlZC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNvbm5lY3QoZWxlbWVudCkge1xuICAgIGlmIChpc0NvbXBvbmVudChlbGVtZW50KSkge1xuICAgICAgICBlbGVtZW50W0NPTk5FQ1RFRF0uY2FsbChlbGVtZW50KTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxufVxuLyoqXG4gKiBBbiBoZWxwZXIgZm9yIGR5bmFtaWNhbGx5IHRyaWdnZXIgdGhlIGBkaXNjb25uZWN0ZWRDYWxsYmFja2AgcmVhY3Rpb24gb24gY29tcG9uZW50cy5cbiAqIEBtZXRob2QgZGlzY29ubmVjdFxuICogQG1lbWJlcm9mIEROQS5ET01cbiAqIEBzdGF0aWNcbiAqXG4gKiBAcGFyYW0ge0NvbXBvbmVudH0gZWxlbWVudCBUaGUgZGV0YWNoZWQgbm9kZS5cbiAqIEByZXR1cm4ge0Jvb2xlYW59IFRoZSBjYWxsYmFjayBoYXMgYmVlbiB0cmlnZ2VyZWQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBkaXNjb25uZWN0KGVsZW1lbnQpIHtcbiAgICBpZiAoaXNDb21wb25lbnQoZWxlbWVudCkpIHtcbiAgICAgICAgZWxlbWVudFtESVNDT05ORUNURURdLmNhbGwoZWxlbWVudCk7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbn1cbi8qKlxuICogQW4gaGVscGVyIGZvciBkeW5hbWljYWxseSB0cmlnZ2VyIHRoZSBgYXR0cmlidXRlQ2hhbmdlZENhbGxiYWNrYCByZWFjdGlvbiBvbiBjb21wb25lbnRzLlxuICogQG1ldGhvZCB1cGRhdGVcbiAqIEBtZW1iZXJvZiBETkEuRE9NXG4gKiBAc3RhdGljXG4gKlxuICogQHBhcmFtIHtDb21wb25lbnR9IGVsZW1lbnQgVGhlIHVwZGF0ZWQgZWxlbWVudC5cbiAqIEByZXR1cm4ge0Jvb2xlYW59IFRoZSBjYWxsYmFjayBoYXMgYmVlbiB0cmlnZ2VyZWQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB1cGRhdGUoZWxlbWVudCwgbmFtZSwgb2xkVmFsdWUsIG5ld1ZhbHVlKSB7XG4gICAgaWYgKGlzQ29tcG9uZW50KGVsZW1lbnQpKSB7XG4gICAgICAgIGVsZW1lbnRbVVBEQVRFRF0uY2FsbChlbGVtZW50LCBuYW1lLCBvbGRWYWx1ZSwgbmV3VmFsdWUpO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG59XG4vKipcbiAqIEF0dGFjaCBhIGNvbXBvbmVudCBwcm90b3R5cGUgdG8gYW4gYWxyZWFkeSBpbnN0YW50aWF0ZWQgSFRNTEVsZW1lbnQuXG4gKiBAbWV0aG9kIGJpbmRcbiAqIEBtZW1iZXJvZiBETkEuRE9NXG4gKiBAc3RhdGljXG4gKlxuICogQHBhcmFtIHtIVE1MRWxlbWVudH0gbm9kZSBUaGUgbm9kZSB0byB1cGRhdGUuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBDdHIgVGhlIGNvbXBvbmVudCBjbGFzcyB0byB1c2UgKGxlYXZlIGVtcHR5IGZvciBhdXRvIGRldGVjdCkuXG4gKiBAcmV0dXJuIHtCb29sZWFufSBUaGUgcHJvdG90eXBlIGhhcyBiZWVuIGF0dGFjaGVkLlxuICovXG5leHBvcnQgZnVuY3Rpb24gYmluZChub2RlLCBDdHIpIHtcbiAgICBpZiAoIWlzRnVuY3Rpb24oQ3RyKSkge1xuICAgICAgICBDdHIgPSBnZXRDb21wb25lbnQobm9kZSk7XG4gICAgfVxuICAgIGlmIChpc0Z1bmN0aW9uKEN0cikpIHtcbiAgICAgICAgbm9kZS5fX3Byb3RvX18gPSBDdHIucHJvdG90eXBlO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkobm9kZSwgJ2NvbnN0cnVjdG9yJywge1xuICAgICAgICAgICAgdmFsdWU6IEN0cixcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICB9KTtcbiAgICAgICAgQ3RyLmNhbGwobm9kZSk7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG59XG4vKipcbiAqIENyZWF0ZSBhIGNvbXBvbmVudCBpbnN0YW5jZS5cbiAqIEBtZXRob2QgY3JlYXRlRWxlbWVudFxuICogQG1lbWJlcm9mIEROQS5ET01cbiAqIEBzdGF0aWNcbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gaXMgVGhlIGNvbXBvbmVudCB0YWcgbmFtZS5cbiAqIEByZXR1cm4ge0hUTUxFbGVtZW50fSBUaGUgY29tcG9uZW50IGluc3RhbmNlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlRWxlbWVudChpcykge1xuICAgIGxldCBDdHIgPSBnZXRDb21wb25lbnQoaXMpO1xuICAgIGlmIChDdHIpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBDdHIoKTtcbiAgICB9XG59XG4vKipcbiAqIER5bmFtaWNhbGx5IGFwcGVuZCBhIG5vZGUgYW5kIGNhbGwgdGhlIGBjb25uZWN0ZWRDYWxsYmFja2AuXG4gKiAtIGRpc2Nvbm5lY3QgdGhlIG5vZGUgaWYgYWxyZWFkeSBpbiB0aGUgdHJlZVxuICogLSBjb25uZWN0IHRoZSBub2RlIGFmdGVyIHRoZSBpbnNlcnRpb25cbiAqIEBtZXRob2QgYXBwZW5kQ2hpbGRcbiAqIEBtZW1iZXJvZiBETkEuRE9NXG4gKiBAc3RhdGljXG4gKlxuICogQHBhcmFtIHtIVE1MRWxlbWVudH0gcGFyZW50IFRoZSBwYXJlbnQgZWxlbWVudC5cbiAqIEBwYXJhbSB7Q29tcG9uZW50fSBlbGVtZW50IFRoZSBlbGVtZW50IHRvIGFwcGVuZC5cbiAqIEByZXR1cm4ge0Jvb2xlYW59IFRoZSBub2RlIGhhcyBiZWVuIGFwcGVuZGVkLlxuICovXG5leHBvcnQgZnVuY3Rpb24gYXBwZW5kQ2hpbGQocGFyZW50LCBlbGVtZW50KSB7XG4gICAgaWYgKGVsZW1lbnQubm9kZSkge1xuICAgICAgICBsZXQgbm9kZSA9IGVsZW1lbnQubm9kZTtcbiAgICAgICAgaWYgKHBhcmVudCAhPT0gbm9kZS5wYXJlbnROb2RlIHx8IHBhcmVudC5sYXN0RWxlbWVudENoaWxkICE9PSBub2RlKSB7XG4gICAgICAgICAgICBpZiAobm9kZS5wYXJlbnROb2RlKSB7XG4gICAgICAgICAgICAgICAgcmVtb3ZlQ2hpbGQobm9kZS5wYXJlbnROb2RlLCBlbGVtZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHBhcmVudC5hcHBlbmRDaGlsZChub2RlKTtcbiAgICAgICAgICAgIHJldHVybiBjb25uZWN0KGVsZW1lbnQpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbn1cbi8qKlxuICogRHluYW1pY2FsbHkgcmVtb3ZlIGEgbm9kZSBhbmQgY2FsbCB0aGUgYGRpc2Nvbm5lY3RlZENhbGxiYWNrYC5cbiAqIEBtZXRob2QgcmVtb3ZlQ2hpbGRcbiAqIEBtZW1iZXJvZiBETkEuRE9NXG4gKiBAc3RhdGljXG4gKlxuICogQHBhcmFtIHtIVE1MRWxlbWVudH0gcGFyZW50IFRoZSBwYXJlbnQgZWxlbWVudC5cbiAqIEBwYXJhbSB7Q29tcG9uZW50fSBlbGVtZW50IFRoZSBlbGVtZW50IHRvIHJlbW92ZS5cbiAqIEByZXR1cm4ge0Jvb2xlYW59IFRoZSBub2RlIGhhcyBiZWVuIHJlbW92ZWQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByZW1vdmVDaGlsZChwYXJlbnQsIGVsZW1lbnQpIHtcbiAgICBpZiAoZWxlbWVudC5ub2RlKSB7XG4gICAgICAgIHBhcmVudC5yZW1vdmVDaGlsZChlbGVtZW50Lm5vZGUpO1xuICAgICAgICByZXR1cm4gZGlzY29ubmVjdChlbGVtZW50KTtcbiAgICB9XG59XG4vKipcbiAqIER5bmFtaWNhbGx5IGluc2VydCBhIG5vZGUgYmVmb3JlIGFub3RoZXIgYW5kIGNhbGwgYWxsIHRoZSByZWFjdGlvbnMuXG4gKiAtIGRpc2Nvbm5lY3QgdGhlIG5vZGUgaWYgYWxyZWFkeSBpbiB0aGUgdHJlZVxuICogLSBjb25uZWN0IHRoZSBub2RlIGFmdGVyIHRoZSBpbnNlcnRpb25cbiAqIEBtZXRob2QgaW5zZXJ0QmVmb3JlXG4gKiBAbWVtYmVyb2YgRE5BLkRPTVxuICogQHN0YXRpY1xuICpcbiAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IHBhcmVudCBUaGUgcGFyZW50IGVsZW1lbnQuXG4gKiBAcGFyYW0ge0NvbXBvbmVudH0gZWxlbWVudCBUaGUgZWxlbWVudCB0byBpbnNlcnQuXG4gKiBAcGFyYW0ge0hUTUxFbGVtZW50fSByZWZOb2RlIFRoZSBub2RlIGZvciBwb3NpdGlvbmluZy5cbiAqIEByZXR1cm4ge0Jvb2xlYW59IFRoZSBub2RlIGhhcyBiZWVuIGFwcGVuZGVkLlxuICovXG5leHBvcnQgZnVuY3Rpb24gaW5zZXJ0QmVmb3JlKHBhcmVudCwgZWxlbWVudCwgcmVmTm9kZSkge1xuICAgIGlmIChlbGVtZW50Lm5vZGUpIHtcbiAgICAgICAgbGV0IG5vZGUgPSBlbGVtZW50Lm5vZGU7XG4gICAgICAgIGlmIChub2RlLm5leHRTaWJsaW5nICE9PSByZWZOb2RlKSB7XG4gICAgICAgICAgICBpZiAobm9kZS5wYXJlbnROb2RlKSB7XG4gICAgICAgICAgICAgICAgZGlzY29ubmVjdChlbGVtZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHBhcmVudC5pbnNlcnRCZWZvcmUobm9kZSwgcmVmTm9kZSk7XG4gICAgICAgICAgICByZXR1cm4gY29ubmVjdChlbGVtZW50KTtcbiAgICAgICAgfVxuICAgIH1cbn1cbi8qKlxuICogRHluYW1pY2FsbHkgcmVwbGFjZSBhIG5vZGUgd2l0aCBhbm90aGVyIGFuZCBjYWxsIGFsbCB0aGUgcmVhY3Rpb25zLlxuICogLSBkaXNjb25uZWN0IHRoZSBub2RlIGlmIGFscmVhZHkgaW4gdGhlIHRyZWVcbiAqIC0gZGlzY29ubmVjdCB0aGUgcmVwbGFjZWQgbm9kZVxuICogLSBjb25uZWN0IHRoZSBmaXJzdCBub2RlIGFmdGVyIHRoZSBpbnNlcnRpb25cbiAqIEBtZXRob2QgcmVwbGFjZUNoaWxkXG4gKiBAbWVtYmVyb2YgRE5BLkRPTVxuICogQHN0YXRpY1xuICpcbiAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IHBhcmVudCBUaGUgcGFyZW50IGVsZW1lbnQuXG4gKiBAcGFyYW0ge0NvbXBvbmVudH0gZWxlbWVudCBUaGUgZWxlbWVudCB0byBpbnNlcnQuXG4gKiBAcGFyYW0ge0hUTUxFbGVtZW50fSByZWZOb2RlIFRoZSBub2RlIHRvIHJlcGxhY2UuXG4gKiBAcmV0dXJuIHtCb29sZWFufSBUaGUgbm9kZSBoYXMgYmVlbiBhcHBlbmRlZC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJlcGxhY2VDaGlsZChwYXJlbnQsIGVsZW1lbnQsIHJlZk5vZGUpIHtcbiAgICBpZiAoZWxlbWVudC5ub2RlKSB7XG4gICAgICAgIGxldCBub2RlID0gZWxlbWVudC5ub2RlO1xuICAgICAgICBpZiAobm9kZS5wYXJlbnROb2RlKSB7XG4gICAgICAgICAgICBkaXNjb25uZWN0KGVsZW1lbnQpO1xuICAgICAgICB9XG4gICAgICAgIHBhcmVudC5yZXBsYWNlQ2hpbGQobm9kZSwgcmVmTm9kZSk7XG4gICAgICAgIGlmIChyZWZOb2RlW0NPTVBPTkVOVF9TWU1CT0xdKSB7XG4gICAgICAgICAgICBkaXNjb25uZWN0KHJlZk5vZGVbQ09NUE9ORU5UX1NZTUJPTF0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjb25uZWN0KG5vZGUpO1xuICAgIH1cbn1cbi8qKlxuICogRHluYW1pY2FsbHkgdXBkYXRlIGEgbm9kZSBhdHRyaWJ1dGUgYW5kIGNhbGwgYWxsIHRoZSByZWFjdGlvbnMuXG4gKiBAbWV0aG9kIHNldEF0dHJpYnV0ZVxuICogQG1lbWJlcm9mIEROQS5ET01cbiAqIEBzdGF0aWNcbiAqXG4gKiBAcGFyYW0ge0NvbXBvbmVudH0gZWxlbWVudCBUaGUgZWxlbWVudCB0byB1cGRhdGUuXG4gKiBAcGFyYW0ge1N0cmluZ30gbmFtZSBUaGUgYXR0cmlidXRlIG5hbWUuXG4gKiBAcGFyYW0ge1N0cmluZ30gdmFsdWUgVGhlIGF0dHJpYnV0ZSB2YWx1ZS5cbiAqIEByZXR1cm4ge0Jvb2xlYW59IFRoZSBub2RlIGhhcyBiZWVuIHVwZGF0ZWQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzZXRBdHRyaWJ1dGUoZWxlbWVudCwgbmFtZSwgdmFsdWUpIHtcbiAgICBpZiAoZWxlbWVudC5ub2RlKSB7XG4gICAgICAgIGxldCBub2RlID0gZWxlbWVudC5ub2RlO1xuICAgICAgICBsZXQgb2xkVmFsdWUgPSBub2RlLmdldEF0dHJpYnV0ZShuYW1lKTtcbiAgICAgICAgbm9kZS5zZXRBdHRyaWJ1dGUobmFtZSwgdmFsdWUpO1xuICAgICAgICBsZXQgYXR0cnMgPSBlbGVtZW50LmNvbnN0cnVjdG9yLm9ic2VydmVkQXR0cmlidXRlcyB8fCBbXTtcbiAgICAgICAgaWYgKGF0dHJzLmluZGV4T2YobmFtZSkgIT09IC0xKSB7XG4gICAgICAgICAgICByZXR1cm4gdXBkYXRlKGVsZW1lbnQsIG5hbWUsIG9sZFZhbHVlLCB2YWx1ZSk7XG4gICAgICAgIH1cbiAgICB9XG59XG4vKipcbiAqIER5bmFtaWNhbGx5IHJlbW92ZSBhIG5vZGUgYXR0cmlidXRlIGFuZCBjYWxsIGFsbCB0aGUgcmVhY3Rpb25zLlxuICogQG1ldGhvZCByZW1vdmVBdHRyaWJ1dGVcbiAqIEBtZW1iZXJvZiBETkEuRE9NXG4gKiBAc3RhdGljXG4gKlxuICogQHBhcmFtIHtDb21wb25lbnR9IGVsZW1lbnQgVGhlIGVsZW1lbnQgdG8gdXBkYXRlLlxuICogQHBhcmFtIHtTdHJpbmd9IG5hbWUgVGhlIGF0dHJpYnV0ZSBuYW1lLlxuICogQHJldHVybiB7Qm9vbGVhbn0gVGhlIG5vZGUgaGFzIGJlZW4gdXBkYXRlZC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJlbW92ZUF0dHJpYnV0ZShlbGVtZW50LCBuYW1lKSB7XG4gICAgaWYgKGVsZW1lbnQubm9kZSkge1xuICAgICAgICBsZXQgbm9kZSA9IGVsZW1lbnQubm9kZTtcbiAgICAgICAgbGV0IG9sZFZhbHVlID0gbm9kZS5nZXRBdHRyaWJ1dGUobmFtZSk7XG4gICAgICAgIG5vZGUucmVtb3ZlQXR0cmlidXRlKG5hbWUpO1xuICAgICAgICBsZXQgYXR0cnMgPSBlbGVtZW50LmNvbnN0cnVjdG9yLm9ic2VydmVkQXR0cmlidXRlcyB8fCBbXTtcbiAgICAgICAgaWYgKGF0dHJzLmluZGV4T2YobmFtZSkgIT09IC0xKSB7XG4gICAgICAgICAgICByZXR1cm4gdXBkYXRlKGVsZW1lbnQsIG5hbWUsIG9sZFZhbHVlLCBudWxsKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbiIsImltcG9ydCB7IENPTVBPTkVOVF9TWU1CT0wgfSBmcm9tICcuLi9saWIvc3ltYm9scy5qcyc7XG5cbi8qKlxuICogVEhlIGJhc2UgY3VzdG9tIGNvbXBvbmVudCBtaXhpbnMuIEp1c3QgYWRkIGxpZmUgY3ljbGVzIGNhbGxiYWNrIGFuZCBgaXNgIGdldHRlci5cbiAqIEBtaXhpbiBDb21wb25lbnRNaXhpblxuICogQG1lbWJlcm9mIEROQS5NSVhJTlNcbiAqIEBzdGF0aWNcbiAqL1xuZXhwb3J0IGNvbnN0IENvbXBvbmVudE1peGluID0gKFN1cGVyQ2xhc3MpID0+IGNsYXNzIGV4dGVuZHMgU3VwZXJDbGFzcyB7XG4gICAgLyoqXG4gICAgICogQHByb3BlcnR5IHtTdHJpbmd9IGlzIEdldCBjb21wb25lbnQgaWQuXG4gICAgICogQG5hbWUgaXNcbiAgICAgKiBAdHlwZSB7U3RyaW5nfVxuICAgICAqIEBtZW1iZXJvZiBETkEuTUlYSU5TLkNvbXBvbmVudE1peGluXG4gICAgICogQGluc3RhbmNlXG4gICAgICovXG4gICAgZ2V0IGlzKCkge1xuICAgICAgICByZXR1cm4gKHRoaXMuZ2V0QXR0cmlidXRlKCdpcycpIHx8IHRoaXMubG9jYWxOYW1lKS50b0xvd2VyQ2FzZSgpO1xuICAgIH1cbiAgICBnZXQgbm9kZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEZpcmVzIHdoZW4gYW4gaW5zdGFuY2Ugd2FzIGluc2VydGVkIGludG8gdGhlIGRvY3VtZW50LlxuICAgICAqIEBtZXRob2QgY29ubmVjdGVkQ2FsbGJhY2tcbiAgICAgKiBAbWVtYmVyb2YgRE5BLk1JWElOUy5Db21wb25lbnRNaXhpblxuICAgICAqIEBpbnN0YW5jZVxuICAgICAqL1xuICAgIGNvbm5lY3RlZENhbGxiYWNrKCkge1xuICAgICAgICB0aGlzLm5vZGVbQ09NUE9ORU5UX1NZTUJPTF0gPSB0aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBGaXJlcyB3aGVuIGFuIGluc3RhbmNlIHdhcyBkZXRhY2hlZCBmcm9tIHRoZSBkb2N1bWVudC5cbiAgICAgKiBAbWV0aG9kIGRpc2Nvbm5lY3RlZENhbGxiYWNrXG4gICAgICogQG1lbWJlcm9mIEROQS5NSVhJTlMuQ29tcG9uZW50TWl4aW5cbiAgICAgKiBAaW5zdGFuY2VcbiAgICAgKi9cbiAgICBkaXNjb25uZWN0ZWRDYWxsYmFjaygpIHt9XG4gICAgLyoqXG4gICAgICogRmlyZXMgd2hlbiBhbiBhdHRyaWJ1dGUgd2FzIGFkZGVkLCByZW1vdmVkLCBvciB1cGRhdGVkLlxuICAgICAqIEBtZXRob2QgYXR0cmlidXRlQ2hhbmdlZENhbGxiYWNrXG4gICAgICogQG1lbWJlcm9mIEROQS5NSVhJTlMuQ29tcG9uZW50TWl4aW5cbiAgICAgKiBAaW5zdGFuY2VcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBhdHRyTmFtZSBUaGUgY2hhbmdlZCBhdHRyaWJ1dGUgbmFtZS5cbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gb2xkVmFsIFRoZSB2YWx1ZSBvZiB0aGUgYXR0cmlidXRlIGJlZm9yZSB0aGUgY2hhbmdlLlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBuZXdWYWwgVGhlIHZhbHVlIG9mIHRoZSBhdHRyaWJ1dGUgYWZ0ZXIgdGhlIGNoYW5nZS5cbiAgICAgKi9cbiAgICBhdHRyaWJ1dGVDaGFuZ2VkQ2FsbGJhY2soKSB7fVxufTtcbiIsImxldCBDdXN0b21FdmVudDtcblxudHJ5IHtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmVcbiAgICBsZXQgZXYgPSBuZXcgc2VsZi5DdXN0b21FdmVudCgndGVzdCcpO1xuICAgIEN1c3RvbUV2ZW50ID0gc2VsZi5DdXN0b21FdmVudDtcbn0gY2F0Y2goZXgpIHtcbiAgICBDdXN0b21FdmVudCA9IGZ1bmN0aW9uKGV2ZW50LCBwYXJhbXMpIHtcbiAgICAgICAgcGFyYW1zID0gcGFyYW1zIHx8IHtcbiAgICAgICAgICAgIGJ1YmJsZXM6IGZhbHNlLFxuICAgICAgICAgICAgY2FuY2VsYWJsZTogZmFsc2UsXG4gICAgICAgICAgICBkZXRhaWw6IHVuZGVmaW5lZCxcbiAgICAgICAgfTtcbiAgICAgICAgbGV0IGV2dCA9IGRvY3VtZW50LmNyZWF0ZUV2ZW50KCdDdXN0b21FdmVudCcpO1xuICAgICAgICBldnQuaW5pdEN1c3RvbUV2ZW50KGV2ZW50LCBwYXJhbXMuYnViYmxlcywgcGFyYW1zLmNhbmNlbGFibGUsIHBhcmFtcy5kZXRhaWwpO1xuICAgICAgICByZXR1cm4gZXZ0O1xuICAgIH07XG4gICAgQ3VzdG9tRXZlbnQucHJvdG90eXBlID0gc2VsZi5DdXN0b21FdmVudC5wcm90b3R5cGU7XG59XG5cbmV4cG9ydCB7IEN1c3RvbUV2ZW50IH07XG4iLCJpbXBvcnQgeyBpc1N0cmluZyB9IGZyb20gJy4vdHlwZW9mLmpzJztcbmltcG9ydCB7IEN1c3RvbUV2ZW50IH0gZnJvbSAnLi4vcG9seWZpbGxzL2N1c3RvbS1ldmVudC5qcyc7XG5cbi8qKlxuICogVHJpZ2dlciBhIGN1c3RvbSBET00gRXZlbnQuXG4gKiBAcHJpdmF0ZVxuICpcbiAqIEBwYXJhbSB7Tm9kZX0gbm9kZSBUaGUgZXZlbnQgdGFyZ2V0LlxuICogQHBhcmFtIHtTdHJpbmd9IGV2TmFtZSBUaGUgY3VzdG9tIGV2ZW50IG5hbWUuXG4gKiBAcGFyYW0ge09iamVjdH0gZGF0YSBFeHRyYSBkYXRhIHRvIHBhc3MgdG8gdGhlIGV2ZW50LlxuICogQHBhcmFtIHtCb29sZWFufSBidWJibGVzIEVuYWJsZSBldmVudCBidWJibGluZy5cbiAqIEBwYXJhbSB7Qm9vbGVhbn0gY2FuY2VsYWJsZSBNYWtlIGV2ZW50IGNhbmNlbGFibGUuXG4gKiBAcmV0dXJuIHtCb29sZWFufSBUcnVlIGlmIGV2ZW50IHByb3BhZ2F0aW9uIGhhcyBub3QgYmUgc3RvcHBlZC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGRpc3BhdGNoKG5vZGUsIGV2TmFtZSwgZGF0YSwgYnViYmxlcyA9IHRydWUsIGNhbmNlbGFibGUgPSB0cnVlKSB7XG4gICAgaWYgKCFpc1N0cmluZyhldk5hbWUpKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0V2ZW50IG5hbWUgaXMgdW5kZWZpbmVkJyk7XG4gICAgfVxuICAgIGxldCBldiA9IG5ldyBDdXN0b21FdmVudChldk5hbWUsIHtcbiAgICAgICAgZGV0YWlsOiBkYXRhLFxuICAgICAgICBidWJibGVzLFxuICAgICAgICBjYW5jZWxhYmxlLFxuICAgIH0pO1xuICAgIHJldHVybiBub2RlLmRpc3BhdGNoRXZlbnQoZXYpO1xufVxuIiwiaW1wb3J0IHsgaXNVbmRlZmluZWQsIGlzRnVuY3Rpb24sIGlzQXJyYXksIGlzT2JqZWN0LCBpc1N0cmluZyB9IGZyb20gJy4vdHlwZW9mLmpzJztcblxuLyoqXG4gKiBTaG9ydGN1dCB0byBgT2JqZWN0LmRlZmluZVByb3BlcnR5YC5cbiAqIEB0eXBlIHtGdW5jdGlvbn1cbiAqIEBwcml2YXRlXG4gKi9cbmNvbnN0IGRlZmluZSA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eTtcblxuLyoqXG4gKiBQb3dlciB0byB0aGUgY29tcG9uZW50J3MgcHJvcGVydGllcy5cbiAqIFR5cGUgY2hlY2tpbmcsIHZhbGlkYXRpb24sIGNhbGxiYWNrcywgZXZlbnRzIGFuZCBhdHRyaWJ1dGUgc3luY2luZy5cbiAqIEBwcml2YXRlXG4gKi9cbmNsYXNzIFByb3BlcnR5IHtcbiAgICAvKipcbiAgICAgKiBDcmVhdGUgYSBQcm9wZXJ0eSBpbnN0YW5jZS5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufEFycmF5fSBBIHNpbmdsZSBvciBhIGxpc3Qgb2YgdmFsaWQgY29uc3RydWN0b3JzIGZvciB0aGUgcHJvcGVydHkgdmFsdWUuXG4gICAgICogQHJldHVybiB7UHJvcGVydHl9XG4gICAgICovXG4gICAgY29uc3RydWN0b3IoY3Rycykge1xuICAgICAgICB0aGlzLl8gPSBbXTtcbiAgICAgICAgY3RycyA9IGN0cnMgfHwgW107XG4gICAgICAgIGlmICghaXNBcnJheShjdHJzKSkge1xuICAgICAgICAgICAgY3RycyA9IFtjdHJzXTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmN0cnMgPSBjdHJzO1xuICAgICAgICB0aGlzLnZhbGlkYXRvciA9ICgpID0+IHRydWU7XG4gICAgICAgIHRoaXMuX3NldHRlciA9ICh2YWwpID0+IHZhbDtcbiAgICAgICAgdGhpcy5nZXR0ZXJGbiA9ICgpID0+IHRoaXMudmFsdWU7XG4gICAgICAgIHRoaXMuc2V0dGVyRm4gPSAodmFsKSA9PiB7XG4gICAgICAgICAgICB2YWwgPSB0aGlzLl9zZXR0ZXIodmFsKTtcbiAgICAgICAgICAgIGlmICgodmFsID09PSBudWxsIHx8IHZhbCA9PT0gdW5kZWZpbmVkKSB8fFxuICAgICAgICAgICAgICAgIHRoaXMudmFsaWRhdGVUeXBlKHZhbCkgJiYgdGhpcy52YWxpZGF0b3IodmFsKSkge1xuICAgICAgICAgICAgICAgIGxldCBvbGRWYWx1ZSA9IHRoaXMudmFsdWU7XG4gICAgICAgICAgICAgICAgaWYgKG9sZFZhbHVlICE9PSB2YWwpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy52YWx1ZSA9IHZhbDtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jaGFuZ2VkKHZhbCwgb2xkVmFsdWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcbiAgICAgICAgICAgICAgICAgICAgYEludmFsaWQgXFxgJHt2YWx9XFxgIHZhbHVlIGZvciBcXGAke3RoaXMubmFtZX1cXGAgcHJvcGVydHkgZm9yIFxcYCR7dGhpcy5zY29wZS5pc31cXGAuYFxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEFkZCBhIGNhbGxiYWNrIHdoZW4gdGhlIHByb3BlcnR5IGNoYW5nZXMuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgVGhlIGNhbGxiYWNrIHRvIHRyaWdnZXIuXG4gICAgICogQHJldHVybiB7UHJvcGVydHl9IFRoZSBwcm9wZXJ0eSBpbnN0YW5jZSBmb3IgY2hhaW5pbmcuXG4gICAgICovXG4gICAgb2JzZXJ2ZShjYWxsYmFjaykge1xuICAgICAgICBpZiAoaXNGdW5jdGlvbihjYWxsYmFjaykgfHwgaXNTdHJpbmcoY2FsbGJhY2spKSB7XG4gICAgICAgICAgICB0aGlzLl8ucHVzaChjYWxsYmFjayk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlbW92ZSBhIGNhbGxiYWNrIG9uIHByb3BlcnR5IGNoYW5nZXMuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgVGhlIGNhbGxiYWNrIHRvIHJlbW92ZS5cbiAgICAgKiBAcmV0dXJuIHtQcm9wZXJ0eX0gVGhlIHByb3BlcnR5IGluc3RhbmNlIGZvciBjaGFpbmluZy5cbiAgICAgKi9cbiAgICB1bm9ic2VydmUoY2FsbGJhY2spIHtcbiAgICAgICAgbGV0IGlvID0gdGhpcy5fLmluZGV4T2YoY2FsbGJhY2spO1xuICAgICAgICBpZiAoaW8gIT09IC0xKSB7XG4gICAgICAgICAgICB0aGlzLl8uc3BsaWNlKGlvLCAxKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogVHJpZ2dlciBjYWxsYmFja3MgYWZ0ZXIgYSBjaGFuZ2UuXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IG5ld1ZhbHVlIFRoZSBjdXJyZW50IHByb3BlcnR5IHZhbHVlLlxuICAgICAqIEBwYXJhbSB7Kn0gb2xkVmFsdWUgVGhlIHByZXZpb3VzIHByb3BlcnR5IHZhbHVlLlxuICAgICAqL1xuICAgIGNoYW5nZWQobmV3VmFsdWUsIG9sZFZhbHVlKSB7XG4gICAgICAgIGZvciAobGV0IGkgPSAwLCBsZW4gPSB0aGlzLl8ubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgICAgIGxldCBjbGIgPSB0aGlzLl9baV07XG4gICAgICAgICAgICBpZiAoaXNTdHJpbmcoY2xiKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuc2NvcGVbY2xiXS5jYWxsKHRoaXMuc2NvcGUsIHRoaXMsIG5ld1ZhbHVlLCBvbGRWYWx1ZSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGNsYih0aGlzLCBuZXdWYWx1ZSwgb2xkVmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENoZWNrIGlmIGEgcHJvcGVydHkgYWNjZXB0cyBhIGdpdmVuIHR5cGUgYXMgdmFsdWUuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gQ3RyIFRoZSBjb25zdHJ1Y3RvciBmb3IgdGhlIGdpdmVuIHR5cGUuXG4gICAgICogQHJldHVybiB7Qm9vbGVhbn1cbiAgICAgKi9cbiAgICBhY2NlcHRzKEN0cikge1xuICAgICAgICByZXR1cm4gdGhpcy5jdHJzLmluZGV4T2YoQ3RyKSAhPT0gLTE7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNldCB0aGUgcHJvcGVydHkgbmFtZS5cbiAgICAgKiBJdCBhbHNvIHNldCB0aGUgYXR0ck5hbWUgaWYgYC5hdHRyaWJ1dGVgIG1ldGhvZCBhcyBiZWVuIHByZXZpb3VzbHlcbiAgICAgKiBpbnZva2VkIHdpdGhvdXQgYXJndW1lbnRzLlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBuYW1lIFRoZSBwcm9wZXJ0eSBuYW1lLlxuICAgICAqIEByZXR1cm4ge1Byb3BlcnR5fSBUaGUgcHJvcGVydHkgaW5zdGFuY2UgZm9yIGNoYWluaW5nLlxuICAgICAqL1xuICAgIG5hbWVkKG5hbWUpIHtcbiAgICAgICAgdGhpcy5uYW1lID0gbmFtZTtcbiAgICAgICAgaWYgKHRoaXMuYXR0clJlcXVlc3RlZCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgdGhpcy5hdHRyTmFtZSA9IHRoaXMubmFtZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2V0IHRoZSBwcm9wZXJ0eSBpbml0aWFsIHZhbHVlLlxuICAgICAqIEBwYXJhbSB7Kn0gaW5pdFZhbHVlIFRoZSBwcm9wZXJ0eSBpbml0aWFsIHZhbHVlLlxuICAgICAqIEByZXR1cm4ge1Byb3BlcnR5fSBUaGUgcHJvcGVydHkgaW5zdGFuY2UgZm9yIGNoYWluaW5nLlxuICAgICAqL1xuICAgIGRlZmF1bHQoaW5pdFZhbHVlKSB7XG4gICAgICAgIHRoaXMuZGVmYXVsdFZhbHVlID0gaXNPYmplY3QoaW5pdFZhbHVlKSA/XG4gICAgICAgICAgICBPYmplY3QuZnJlZXplKGluaXRWYWx1ZSkgOlxuICAgICAgICAgICAgaW5pdFZhbHVlO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2V0IHRoZSBhdHRyaWJ1dGUgbmFtZSB0byBzeW5jLlxuICAgICAqIEludm9rZWQgd2l0aG91dCBhcmd1bWVudHMsIGl0IHJldHJpZXZlIHRoZSBuYW1lIG9mIHRoZSBwcm9wZXJ0eS5cbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gYXR0ck5hbWUgVGhlIGF0dHJpYnV0ZSBuYW1lLlxuICAgICAqIEByZXR1cm4ge1Byb3BlcnR5fSBUaGUgcHJvcGVydHkgaW5zdGFuY2UgZm9yIGNoYWluaW5nLlxuICAgICAqL1xuICAgIGF0dHJpYnV0ZShhdHRyTmFtZSA9IHRydWUpIHtcbiAgICAgICAgaWYgKGlzU3RyaW5nKGF0dHJOYW1lKSkge1xuICAgICAgICAgICAgdGhpcy5hdHRyUmVxdWVzdGVkID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLmF0dHJOYW1lID0gYXR0ck5hbWU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmF0dHJSZXF1ZXN0ZWQgPSAhIWF0dHJOYW1lO1xuICAgICAgICAgICAgdGhpcy5hdHRyTmFtZSA9IHRoaXMubmFtZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogQWRkIGEgRE9NIGV2ZW50IG5hbWUgdG8gZGlzcGF0Y2ggb24gY2hhbmdlcy5cbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gZXZOYW1lIFRoZSBldmVudCBuYW1lLlxuICAgICAqIEByZXR1cm4ge1Byb3BlcnR5fSBUaGUgcHJvcGVydHkgaW5zdGFuY2UgZm9yIGNoYWluaW5nLlxuICAgICAqL1xuICAgIGRpc3BhdGNoKGV2TmFtZSkge1xuICAgICAgICB0aGlzLmV2ZW50TmFtZSA9IGV2TmFtZTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNldCBhIGdldHRlciBmdW5jdGlvbiBmb3IgdGhlIHByb3BlcnR5LlxuICAgICAqIEJ5IGRlZmF1bHQsIHRoZSBwcm9wZXJ0eSB2YWx1ZSB3aWxsIGJlIHJldHVybi5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayBUaGUgcHJvcGVydHkgZ2V0dGVyLlxuICAgICAqIEByZXR1cm4ge1Byb3BlcnR5fSBUaGUgcHJvcGVydHkgaW5zdGFuY2UgZm9yIGNoYWluaW5nLlxuICAgICAqL1xuICAgIGdldHRlcihjYWxsYmFjaykge1xuICAgICAgICBpZiAoaXNGdW5jdGlvbihjYWxsYmFjaykpIHtcbiAgICAgICAgICAgIHRoaXMuZ2V0dGVyRm4gPSAoKSA9PiBjYWxsYmFjayh0aGlzLnZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2V0IGEgc2V0dGVyIGZ1bmN0aW9uIGZvciB0aGUgcHJvcGVydHkuXG4gICAgICogQnkgZGVmYXVsdCwgdGhlIHByb3BlcnR5IHZhbHVlIHdpbGwgYmUgdXBkYXRlZCB3aXRoIGdpdmVuIHZhbHVlXG4gICAgICogd2l0aG91dCBhbnkgbW9kaWZpY2F0aW9uLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrIFRoZSBwcm9wZXJ0eSBzZXR0ZXIuXG4gICAgICogQHJldHVybiB7UHJvcGVydHl9IFRoZSBwcm9wZXJ0eSBpbnN0YW5jZSBmb3IgY2hhaW5pbmcuXG4gICAgICovXG4gICAgc2V0dGVyKGNhbGxiYWNrKSB7XG4gICAgICAgIGlmIChpc0Z1bmN0aW9uKGNhbGxiYWNrKSkge1xuICAgICAgICAgICAgdGhpcy5fc2V0dGVyID0gY2FsbGJhY2s7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNldCB0aGUgcHJvcGVydHkgdmFsaWRhdG9yLlxuICAgICAqIEEgdmFsaWRhdG9yIHNob3VsZCByZXR1cm4gYHRydWVgIGlmIHRoZSB2YWx1ZSBpcyBhY2NlcHRhYmxlXG4gICAgICogb3IgYGZhbHNlYCBpZiB1bmFjY2FwdGFibGUuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgVGhlIHByb3BlcnR5IHZhbGlkdG9yLlxuICAgICAqIEByZXR1cm4ge1Byb3BlcnR5fSBUaGUgcHJvcGVydHkgaW5zdGFuY2UgZm9yIGNoYWluaW5nLlxuICAgICAqL1xuICAgIHZhbGlkYXRlKGNhbGxiYWNrKSB7XG4gICAgICAgIGlmIChpc0Z1bmN0aW9uKGNhbGxiYWNrKSkge1xuICAgICAgICAgICAgdGhpcy52YWxpZGF0b3IgPSBjYWxsYmFjaztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2hlY2sgaWYgdGhlIGdpdmVuIHZhbHVlIGlzIGEgdmFsaWQgdHlwZS5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJuIHtCb29sZWFufVxuICAgICAqL1xuICAgIHZhbGlkYXRlVHlwZSh2YWwpIHtcbiAgICAgICAgbGV0IGkgPSAwO1xuICAgICAgICBsZXQgY3RycyA9IHRoaXMuY3RycztcbiAgICAgICAgaWYgKGN0cnMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICB3aGlsZSAoaSA8IGN0cnMubGVuZ3RoKSB7XG4gICAgICAgICAgICBpZiAodmFsIGluc3RhbmNlb2YgY3Ryc1tpXSB8fCAoXG4gICAgICAgICAgICAgICAgdmFsLmNvbnN0cnVjdG9yICYmIHZhbC5jb25zdHJ1Y3RvciA9PT0gY3Ryc1tpXVxuICAgICAgICAgICAgKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaSsrO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQXR0YWNoIHRoZSBwcm9wZXJ0eSB0byBhIHNjb3BlIChhIGNvbXBvbmVudCBpbnN0YW5jZSkuXG4gICAgICogU2V0IHRoZSBkZWZhdWx0IHZhbHVlIGlmIHByb3ZpZGVkLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBzY29wZSBUaGUgc2NvcGUgd2hpY2ggbmVlZHMgdG8gYmUgYm91bmQgd2l0aCB0aGUgcHJvcGVydHkuXG4gICAgICovXG4gICAgaW5pdChzY29wZSkge1xuICAgICAgICB0aGlzLnNjb3BlID0gc2NvcGU7XG4gICAgICAgIGRlZmluZShzY29wZSwgdGhpcy5uYW1lLCB7XG4gICAgICAgICAgICBnZXQ6IHRoaXMuZ2V0dGVyRm4uYmluZCh0aGlzKSxcbiAgICAgICAgICAgIHNldDogdGhpcy5zZXR0ZXJGbi5iaW5kKHRoaXMpLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKCFpc1VuZGVmaW5lZCh0aGlzLmRlZmF1bHRWYWx1ZSkpIHtcbiAgICAgICAgICAgIHNjb3BlW3RoaXMubmFtZV0gPSB0aGlzLmRlZmF1bHRWYWx1ZTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuLyoqXG4gKiBIZWxwZXIgbWV0aG9kIGZvciBQcm9wZXJ0eSBjcmVhdGlvbi5cbiAqIEBtZXRob2QgcHJvcFxuICogQG1lbWJlcm9mISBETkEuXG4gKiBAc3RhdGljXG4gKlxuICogQHByb3BlcnR5IHtQcm9wZXJ0eX0gQU5ZIEEgcHJvcGVydHkgd2l0aG91dCB0eXBlIHZhbGlkYXRpb24uXG4gKiBAcHJvcGVydHkge1Byb3BlcnR5fSBTVFJJTkcgQSBwcm9wZXJ0eSB3aGljaCBhY2NlcHRzIG9ubHkgc3RyaW5ncy5cbiAqIEBwcm9wZXJ0eSB7UHJvcGVydHl9IEJPT0xFQU4gQSBwcm9wZXJ0eSB3aGljaCBhY2NlcHRzIG9ubHkgYm9vbGVhbnMuXG4gKiBAcHJvcGVydHkge1Byb3BlcnR5fSBOVU1CRVIgQSBwcm9wZXJ0eSB3aGljaCBhY2NlcHRzIG9ubHkgbnVtYmVycy5cbiAqXG4gKiBAcGFyYW0ge1Byb3BlcnR5fEZ1bmN0aW9ufEFycmF5fSBjdHJzIEEgUHJvcGVydHkgdG8gY2xvbmUgb3IgYSBzaW5nbGUgb3IgYSBsaXN0IG9mIHZhbGlkIGNvbnN0cnVjdG9ycyBmb3IgdGhlIHByb3BlcnR5IHZhbHVlLlxuICogQHJldHVybiB7UHJvcGVydHl9IFRoZSBuZXcgcHJvcGVydHkuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBwcm9wKGN0cnMpIHtcbiAgICBpZiAoY3RycyBpbnN0YW5jZW9mIFByb3BlcnR5KSB7XG4gICAgICAgIHJldHVybiBjdHJzO1xuICAgIH1cbiAgICByZXR1cm4gbmV3IFByb3BlcnR5KGN0cnMpO1xufVxuXG4vLyBEZWZpbmUgc29tZSBoZWxwZXJzIGZvciBkZWZhdWx0IHR5cGVzXG5kZWZpbmUocHJvcCwgJ0FOWScsIHsgZ2V0KCkgeyByZXR1cm4gcHJvcCgpOyB9IH0pO1xuZGVmaW5lKHByb3AsICdTVFJJTkcnLCB7IGdldCgpIHsgcmV0dXJuIHByb3AoU3RyaW5nKTsgfSB9KTtcbmRlZmluZShwcm9wLCAnQk9PTEVBTicsIHsgZ2V0KCkgeyByZXR1cm4gcHJvcChCb29sZWFuKTsgfSB9KTtcbmRlZmluZShwcm9wLCAnTlVNQkVSJywgeyBnZXQoKSB7IHJldHVybiBwcm9wKE51bWJlcik7IH0gfSk7XG4iLCJpbXBvcnQgeyBpc0FycmF5IH0gZnJvbSAnLi4vbGliL3R5cGVvZi5qcyc7XG5pbXBvcnQgeyBkaXNwYXRjaCB9IGZyb20gJy4uL2xpYi9kaXNwYXRjaC5qcyc7XG5pbXBvcnQgeyBpc1VuZGVmaW5lZCB9IGZyb20gJy4uL2xpYi90eXBlb2YuanMnO1xuaW1wb3J0IHsgcHJvcCB9IGZyb20gJy4uL2xpYi9wcm9wZXJ0eS5qcyc7XG5cbi8qKlxuICogVHJ5IHRvIHBhcnNlIGF0dHJpYnV0ZSB2YWx1ZSBjaGVja2luZyB0aGUgcHJvcGVydHkgdmFsaWRhdGlvbiB0eXBlcy5cbiAqIEBwcml2YXRlXG4gKlxuICogQHBhcmFtIHtQcm9wZXJ0eX0gcHJvcGVydHkgVGhlIHByb3BlcnR5IHRvIHVwZGF0ZS5cbiAqIEBwYXJhbSB7U3RyaW5nfSBhdHRyVmFsIFRoZSBhdHRyaWJ1dGUgdmFsdWUuXG4gKiBAcmV0dXJuIHsqfSBUaGUgcGFyc2VkIHZhbHVlLlxuICovXG5mdW5jdGlvbiBnZXRWYWx1ZShwcm9wZXJ0eSwgYXR0clZhbCkge1xuICAgIGlmIChhdHRyVmFsID09PSAnJyAmJiBwcm9wZXJ0eS5hY2NlcHRzKEJvb2xlYW4pKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBpZiAoIXByb3BlcnR5LmFjY2VwdHMoU3RyaW5nKSkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgcmV0dXJuIEpTT04ucGFyc2UoYXR0clZhbCk7XG4gICAgICAgIH0gY2F0Y2ggKGV4KSB7XG4gICAgICAgICAgICAvL1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBhdHRyVmFsO1xufVxuXG4vKipcbiAqIFNldCBhbiBhdHRyaWJ1dGUgdmFsdWUgY2hlY2tpbmcgaXRzIHR5cGUuXG4gKiBAcHJpdmF0ZVxuICpcbiAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IGNvbnRleHQgVGhlIG5vZGUgdG8gdXBkYXRlLlxuICogQHBhcmFtIHtTdHJpbmd9IGF0dHIgVGhlIGF0dHJpYnV0ZSBuYW1lIHRvIHVwZGF0ZS5cbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHNldC5cbiAqL1xuZnVuY3Rpb24gc2V0QXR0cmlidXRlKGNvbnRleHQsIGF0dHIsIHZhbHVlKSB7XG4gICAgbGV0IGN1cnJlbnRBdHRyVmFsdWUgPSBjb250ZXh0LmdldEF0dHJpYnV0ZShhdHRyKTtcbiAgICBpZiAoY3VycmVudEF0dHJWYWx1ZSAhPT0gdmFsdWUpIHtcbiAgICAgICAgaWYgKHZhbHVlICE9PSBudWxsICYmIHZhbHVlICE9PSB1bmRlZmluZWQgJiYgdmFsdWUgIT09IGZhbHNlKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKHR5cGVvZiB2YWx1ZSkge1xuICAgICAgICAgICAgY2FzZSAnc3RyaW5nJzpcbiAgICAgICAgICAgIGNhc2UgJ251bWJlcic6XG4gICAgICAgICAgICAgICAgY29udGV4dC5zZXRBdHRyaWJ1dGUoYXR0ciwgdmFsdWUpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnYm9vbGVhbic6XG4gICAgICAgICAgICAgICAgY29udGV4dC5zZXRBdHRyaWJ1dGUoYXR0ciwgJycpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKGN1cnJlbnRBdHRyVmFsdWUgIT09IG51bGwpIHtcbiAgICAgICAgICAgIGNvbnRleHQucmVtb3ZlQXR0cmlidXRlKGF0dHIpO1xuICAgICAgICB9XG4gICAgfVxufVxuXG4vKipcbiAqIFNpbXBsZSBDdXN0b20gQ29tcG9uZW50IGZvciBwcm9wZXJ0aWVzIGluaXRpYWxpemF0aW9uIHZpYSBhdHRyaWJ1dGVzLlxuICogQG1peGluIFByb3BlcnRpZXNNaXhpblxuICogQG1lbWJlcm9mIEROQS5NSVhJTlNcbiAqIEBzdGF0aWNcbiAqXG4gKiBAZXhhbXBsZVxuICogYGBganNcbiAqIC8vIG15LWNvbXBvbmVudC5qc1xuICogaW1wb3J0IHsgQmFzZUNvbXBvbmVudCB9IGZyb20gJ0BkbmFqcy9jb3JlJztcbiAqIGV4cG9ydCBjbGFzcyBNeUNvbXBvbmVudCBleHRlbmRzIEJhc2VDb21wb25lbnQge1xuICogICBnZXQgcHJvcGVydGllcygpIHtcbiAqICAgICByZXR1cm4geyBuYW1lOiBTdHJpbmcgfTtcbiAqICAgfVxuICogfVxuICogYGBgXG4gKiBgYGBqc1xuICogLy8gYXBwLmpzXG4gKiBpbXBvcnQgeyBkZWZpbmUgfSBmcm9tICdAZG5hanMvY29yZSc7XG4gKiBpbXBvcnQgeyBNeUNvbXBvbmVudCB9IGZyb20gJy4vbXktY29tcG9uZW50LmpzJztcbiAqIGRlZmluZSgnbXktY29tcG9uZW50JywgTXlDb21wb25lbnQpO1xuICogdmFyIHRlbXAgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAqIHRlbXAuaW5uZXJIVE1MID0gJzxteS1jb21wb25lbnQgbmFtZT1cIkFsYmVydFwiPjwvbXktY29tcG9uZW50Pic7XG4gKiB2YXIgZWxlbWVudCA9IHRlbXAuZmlyc3RDaGlsZDtcbiAqIGNvbnNvbGUubG9nKGVsZW1lbnQubmFtZSk7IC8vIGxvZ3MgXCJBbGJlcnRcIlxuICogYGBgXG4gKi9cbmV4cG9ydCBjb25zdCBQcm9wZXJ0aWVzTWl4aW4gPSAoU3VwZXJDbGFzcykgPT4gY2xhc3MgZXh0ZW5kcyBTdXBlckNsYXNzIHtcbiAgICAvKipcbiAgICAgKiBBdHRhY2ggcHJvcGVydGllcyBvbiBjb21wb25lbnQgY3JlYXRpb24uXG4gICAgICogQG1ldGhvZCBjb25zdHJ1Y3RvclxuICAgICAqIEBtZW1iZXJvZiBETkEuTUlYSU5TLlByb3BlcnRpZXNNaXhpblxuICAgICAqIEBpbnN0YW5jZVxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICBsZXQgcHJvcHMgPSB0aGlzLnByb3BlcnRpZXM7XG4gICAgICAgIGlmIChwcm9wcykge1xuICAgICAgICAgICAgaWYgKCFpc0FycmF5KHByb3BzKSkge1xuICAgICAgICAgICAgICAgIHByb3BzID0gW3Byb3BzXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHByb3BzID0gcHJvcHMucmVkdWNlKChyZXMsIHBhcnRpYWxQcm9wcykgPT4ge1xuICAgICAgICAgICAgICAgIGZvciAobGV0IGsgaW4gcGFydGlhbFByb3BzKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc1trXSA9IHByb3AocGFydGlhbFByb3BzW2tdKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlcztcbiAgICAgICAgICAgIH0sIHt9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHByb3BzID0ge307XG4gICAgICAgIH1cbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsICdwcm9wZXJ0aWVzJywge1xuICAgICAgICAgICAgdmFsdWU6IHByb3BzLFxuICAgICAgICAgICAgd3JpdGFibGU6IGZhbHNlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICB9KTtcbiAgICAgICAgbGV0IG9ic2VydmVkID0gdGhpcy5jb25zdHJ1Y3Rvci5vYnNlcnZlZEF0dHJpYnV0ZXMgfHwgW107XG4gICAgICAgIGZvciAobGV0IGsgaW4gcHJvcHMpIHtcbiAgICAgICAgICAgIGxldCBwcm9wID0gcHJvcHNba107XG4gICAgICAgICAgICBwcm9wLm5hbWVkKGspLmluaXQodGhpcyk7XG4gICAgICAgICAgICBsZXQgeyBhdHRyTmFtZSwgZXZlbnROYW1lIH0gPSBwcm9wO1xuICAgICAgICAgICAgaWYgKCFhdHRyTmFtZSAmJiBvYnNlcnZlZC5pbmRleE9mKGspICE9PSAtMSkge1xuICAgICAgICAgICAgICAgIHByb3AuYXR0cmlidXRlKCk7XG4gICAgICAgICAgICAgICAgYXR0ck5hbWUgPSBrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGF0dHJOYW1lIHx8IGV2ZW50TmFtZSkge1xuICAgICAgICAgICAgICAgIHByb3Aub2JzZXJ2ZSgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChhdHRyTmFtZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2V0QXR0cmlidXRlKHRoaXMubm9kZSwgYXR0ck5hbWUsIHRoaXNbcHJvcC5uYW1lXSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKGV2ZW50TmFtZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGlzcGF0Y2godGhpcy5ub2RlLCBldmVudE5hbWUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogU3luYyBpbml0aWFsIGF0dHJpYnV0ZXMgd2l0aCBwcm9wZXJ0aWVzLlxuICAgICAqIEBtZXRob2QgY29ubmVjdGVkQ2FsbGJhY2tcbiAgICAgKiBAbWVtYmVyb2YgRE5BLk1JWElOUy5Qcm9wZXJ0aWVzTWl4aW5cbiAgICAgKiBAaW5zdGFuY2VcbiAgICAgKi9cbiAgICBjb25uZWN0ZWRDYWxsYmFjaygpIHtcbiAgICAgICAgc3VwZXIuY29ubmVjdGVkQ2FsbGJhY2soKTtcbiAgICAgICAgbGV0IHByb3BzID0gdGhpcy5wcm9wZXJ0aWVzO1xuICAgICAgICBmb3IgKGxldCBrIGluIHByb3BzKSB7XG4gICAgICAgICAgICBsZXQgcHJvcCA9IHByb3BzW2tdO1xuICAgICAgICAgICAgbGV0IHsgYXR0ck5hbWUgfSA9IHByb3A7XG4gICAgICAgICAgICBpZiAoYXR0ck5hbWUpIHtcbiAgICAgICAgICAgICAgICBpZiAoaXNVbmRlZmluZWQodGhpc1twcm9wLm5hbWVdKSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5ub2RlLmhhc0F0dHJpYnV0ZShhdHRyTmFtZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXNbcHJvcC5uYW1lXSA9IGdldFZhbHVlKHByb3AsIHRoaXMubm9kZS5nZXRBdHRyaWJ1dGUoYXR0ck5hbWUpKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHNldEF0dHJpYnV0ZSh0aGlzLm5vZGUsIGF0dHJOYW1lLCB0aGlzW3Byb3AubmFtZV0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBTeW5jIGF0dHJpYnV0ZXMgd2l0aCBwcm9wZXJ0aWVzLlxuICAgICAqIEBtZXRob2QgYXR0cmlidXRlQ2hhbmdlZENhbGxiYWNrXG4gICAgICogQG1lbWJlcm9mIEROQS5NSVhJTlMuUHJvcGVydGllc01peGluXG4gICAgICogQGluc3RhbmNlXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gYXR0ck5hbWUgVGhlIGNoYW5nZWQgYXR0cmlidXRlIG5hbWUuXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IG9sZFZhbCBUaGUgdmFsdWUgb2YgdGhlIGF0dHJpYnV0ZSBiZWZvcmUgdGhlIGNoYW5nZS5cbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gbmV3VmFsIFRoZSB2YWx1ZSBvZiB0aGUgYXR0cmlidXRlIGFmdGVyIHRoZSBjaGFuZ2UuXG4gICAgICovXG4gICAgYXR0cmlidXRlQ2hhbmdlZENhbGxiYWNrKGF0dHIsIG9sZFZhbCwgbmV3VmFsKSB7XG4gICAgICAgIHN1cGVyLmF0dHJpYnV0ZUNoYW5nZWRDYWxsYmFjayhhdHRyLCBvbGRWYWwsIG5ld1ZhbCk7XG4gICAgICAgIGxldCBwcm9wcyA9IHRoaXMucHJvcGVydGllcztcbiAgICAgICAgZm9yIChsZXQgayBpbiBwcm9wcykge1xuICAgICAgICAgICAgbGV0IHByb3AgPSBwcm9wc1trXTtcbiAgICAgICAgICAgIGlmIChwcm9wLmF0dHJOYW1lID09PSBhdHRyKSB7XG4gICAgICAgICAgICAgICAgdGhpc1twcm9wLm5hbWVdID0gZ2V0VmFsdWUocHJvcCwgbmV3VmFsKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogQ3JlYXRlIGEgbGlzdGVuZXIgZm9yIG5vZGUncyBwcm9wZXJ0eSBjaGFuZ2VzLlxuICAgICAqIEBtZXRob2Qgb2JzZXJ2ZVByb3BlcnR5XG4gICAgICogQG1lbWJlcm9mIEROQS5NSVhJTlMuUHJvcGVydGllc01peGluXG4gICAgICogQGluc3RhbmNlXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gcHJvcE5hbWUgVGhlIHByb3BlcnR5IG5hbWUgdG8gb2JzZXJ2ZS5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayBUaGUgY2FsbGJhY2sgdG8gZmlyZS5cbiAgICAgKiBAcmV0dXJuIHtPYmplY3R9IEFuIG9iamVjdCB3aXRoIGBjYW5jZWxgIG1ldGhvZC5cbiAgICAgKi9cbiAgICBvYnNlcnZlUHJvcGVydHkocHJvcE5hbWUsIGNhbGxiYWNrKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnByb3BlcnRpZXNbcHJvcE5hbWVdLm9ic2VydmUoY2FsbGJhY2spO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZW1vdmUgYSBsaXN0ZW5lciBmb3Igbm9kZSdzIHByb3BlcnR5IGNoYW5nZXMuXG4gICAgICogQG1ldGhvZCB1bm9ic2VydmVQcm9wZXJ0eVxuICAgICAqIEBtZW1iZXJvZiBETkEuTUlYSU5TLlByb3BlcnRpZXNNaXhpblxuICAgICAqIEBpbnN0YW5jZVxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHByb3BOYW1lIFRoZSBwcm9wZXJ0eSBuYW1lIHRvIHVub2JzZXJ2ZS5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayBUaGUgY2FsbGJhY2sgdG8gcmVtb3ZlLlxuICAgICAqL1xuICAgIHVub2JzZXJ2ZVByb3BlcnR5KHByb3BOYW1lLCBjYWxsYmFjaykge1xuICAgICAgICB0aGlzLnByb3BlcnRpZXNbcHJvcE5hbWVdLnVub2JzZXJ2ZShjYWxsYmFjayk7XG4gICAgfVxufTtcbiIsImNvbnN0IEVMRU1fUFJPVE8gPSBFbGVtZW50LnByb3RvdHlwZTtcblxuZXhwb3J0IGNvbnN0IG1hdGNoZXMgPSBFTEVNX1BST1RPLm1hdGNoZXMgfHxcbiAgICBFTEVNX1BST1RPLm1hdGNoZXNTZWxlY3RvciB8fFxuICAgIEVMRU1fUFJPVE8ubW96TWF0Y2hlc1NlbGVjdG9yIHx8XG4gICAgRUxFTV9QUk9UTy5tc01hdGNoZXNTZWxlY3RvciB8fFxuICAgIEVMRU1fUFJPVE8ub01hdGNoZXNTZWxlY3RvciB8fFxuICAgIEVMRU1fUFJPVE8ud2Via2l0TWF0Y2hlc1NlbGVjdG9yO1xuIiwiaW1wb3J0IHsgaXNTdHJpbmcsIGlzRnVuY3Rpb24gfSBmcm9tICcuLi9saWIvdHlwZW9mLmpzJztcbmltcG9ydCB7IG1hdGNoZXMgfSBmcm9tICcuLi9wb2x5ZmlsbHMvbWF0Y2hlcy5qcyc7XG5pbXBvcnQgeyBkaXNwYXRjaCB9IGZyb20gJy4uL2xpYi9kaXNwYXRjaC5qcyc7XG5cbmNvbnN0IFNQTElUX1NFTEVDVE9SID0gLyhbXlxcc10rKSguKik/LztcblxuLyoqXG4gKiBTaW1wbGUgQ3VzdG9tIENvbXBvbmVudCB3aXRoIGV2ZW50cyBkZWxlZ2F0aW9uLFxuICogSXQgYWxzbyBpbXBsZW1lbnQgYSBgZGlzcGF0Y2hFdmVudGAgd3JhcHBlciBuYW1lZCBgdHJpZ2dlcmAuXG4gKiBAbWl4aW4gRXZlbnRzTWl4aW5cbiAqIEBtZW1iZXJvZiBETkEuTUlYSU5TLlxuICogQHN0YXRpY1xuICpcbiAqIEBleGFtcGxlXG4gKiBgYGBqc1xuICogLy8gbXktY29tcG9uZW50LmpzXG4gKiBpbXBvcnQgeyBCYXNlQ29tcG9uZW50IH0gZnJvbSAnQGRuYWpzL2NvcmUnO1xuICogZXhwb3J0IGNsYXNzIE15Q29tcG9uZW50IGV4dGVuZHMgQmFzZUNvbXBvbmVudCB7XG4gKiAgIGdldCBldmVudHMoKSB7XG4gKiAgICAgcmV0dXJuIHtcbiAqICAgICAgICdjbGljayBidXR0b24nOiAnb25CdXR0b25DbGljaydcbiAqICAgICB9XG4gKiAgIH1cbiAqICAgb25CdXR0b25DbGljaygpIHtcbiAqICAgICBjb25zb2xlLmxvZygnYnV0dG9uIGNsaWNrZWQnKTtcbiAqICAgfVxuICogfVxuICogYGBgXG4gKiBgYGBqc1xuICogLy8gYXBwLmpzXG4gKiBpbXBvcnQgeyBkZWZpbmUgfSBmcm9tICdAZG5hanMvY29yZSc7XG4gKiBpbXBvcnQgeyBNeUNvbXBvbmVudCB9IGZyb20gJy4vbXktY29tcG9uZW50LmpzJztcbiAqIGRlZmluZSgnbXktY29tcG9uZW50JywgTXlDb21wb25lbnQpO1xuICogdmFyIGVsZW1lbnQgPSBuZXcgTXlDb21wb25lbnQoKTtcbiAqIHZhciBidXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcbiAqIGJ1dHRvbi5pbm5lclRleHQgPSAnQ2xpY2sgbWUnO1xuICogZWxlbWVudC5hcHBlbmRDaGlsZChidXR0b24pO1xuICogYnV0dG9uLmNsaWNrKCk7IC8vIGxvZ3MgXCJidXR0b24gY2xpY2tlZFwiXG4gKiBgYGBcbiAqL1xuZXhwb3J0IGNvbnN0IEV2ZW50c01peGluID0gKFN1cGVyQ2xhc3MpID0+IGNsYXNzIGV4dGVuZHMgU3VwZXJDbGFzcyB7XG4gICAgLyoqXG4gICAgICogQXR0YWNoIGFuZCBkZWxlZ2F0ZSBldmVudHMgdG8gdGhlIGNvbXBvbmVudC5cbiAgICAgKiBAbWV0aG9kIGNvbnN0cnVjdG9yXG4gICAgICogQG1lbWJlcm9mIEROQS5NSVhJTlMuRXZlbnRzTWl4aW5cbiAgICAgKiBAaW5zdGFuY2VcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgLy8gYmluZCBldmVudHNcbiAgICAgICAgbGV0IGV2ZW50cyA9IHRoaXMuZXZlbnRzIHx8IHt9O1xuICAgICAgICBmb3IgKGxldCBrIGluIGV2ZW50cykge1xuICAgICAgICAgICAgbGV0IGNhbGxiYWNrID0gaXNTdHJpbmcoZXZlbnRzW2tdKSA/XG4gICAgICAgICAgICAgICAgdGhpc1tldmVudHNba11dIDpcbiAgICAgICAgICAgICAgICBldmVudHNba107XG4gICAgICAgICAgICBpZiAoaXNGdW5jdGlvbihjYWxsYmFjaykpIHtcbiAgICAgICAgICAgICAgICBsZXQgcnVsZSA9IGsubWF0Y2goU1BMSVRfU0VMRUNUT1IpO1xuICAgICAgICAgICAgICAgIGxldCBldk5hbWUgPSBydWxlWzFdO1xuICAgICAgICAgICAgICAgIGxldCBzZWxlY3RvciA9IChydWxlWzJdIHx8ICcnKS50cmltKCk7XG4gICAgICAgICAgICAgICAgaWYgKHNlbGVjdG9yKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGVsZWdhdGUoZXZOYW1lLCBzZWxlY3RvciwgY2FsbGJhY2spO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubm9kZS5hZGRFdmVudExpc3RlbmVyKGV2TmFtZSwgKGV2KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFjay5jYWxsKHRoaXMsIGV2LCB0aGlzKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdJbnZhbGlkIGNhbGxiYWNrIGZvciBldmVudC4nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBEZWxlZ2F0ZSBldmVudHMgdG8gdGhlIGNvbXBvbmVudCBkZXNjZW5kZW50cy5cbiAgICAgKiBAbWV0aG9kIGRlbGVnYXRlXG4gICAgICogQG1lbWJlcm9mIEROQS5NSVhJTlMuRXZlbnRzTWl4aW5cbiAgICAgKiBAaW5zdGFuY2VcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBldk5hbWUgVGhlIG5hbWUgb2YgdGhlIGV2ZW50IHRvIGRlbGVnYXRlLlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBzZWxlY3RvciBBIENTUyBzZWxlY3RvciBmb3IgZGVzY2VuZGVudHMuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgVGhlIGNhbGxiYWNrIHRvIGZpcmUgd2hlbiB0aGUgZXZlbnQgZmlyZXMuXG4gICAgICovXG4gICAgZGVsZWdhdGUoZXZOYW1lLCBzZWxlY3RvciwgY2FsbGJhY2spIHtcbiAgICAgICAgdGhpcy5ub2RlLmFkZEV2ZW50TGlzdGVuZXIoZXZOYW1lLCAoZXZlbnQpID0+IHtcbiAgICAgICAgICAgIGxldCB0YXJnZXQgPSBldmVudC50YXJnZXQ7XG4gICAgICAgICAgICB3aGlsZSAodGFyZ2V0ICYmIHRhcmdldCAhPT0gdGhpcykge1xuICAgICAgICAgICAgICAgIGlmIChtYXRjaGVzLmNhbGwodGFyZ2V0LCBzZWxlY3RvcikpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2suY2FsbCh0aGlzLCBldmVudCwgdGFyZ2V0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGFyZ2V0ID0gdGFyZ2V0LnBhcmVudE5vZGU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBgTm9kZS5wcm90b3R5cGUuZGlzcGF0Y2hFdmVudGAgd3JhcHBlci5cbiAgICAgKiBAbWV0aG9kIHRyaWdnZXJcbiAgICAgKiBAbWVtYmVyb2YgRE5BLk1JWElOUy5FdmVudHNNaXhpblxuICAgICAqIEBpbnN0YW5jZVxuICAgICAqXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IGV2TmFtZSBUaGUgbmFtZSBvZiB0aGUgZXZlbnQgdG8gZmlyZS5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gZGF0YSBBIHNldCBvZiBjdXN0b20gZGF0YSB0byBwYXNzIHRvIHRoZSBldmVudC5cbiAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IGJ1YmJsZXMgU2hvdWxkIHRoZSBldmVudCBidWJibGUgdGhyb3cgdGhlIERPTSB0cmVlLlxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gY2FuY2VsYWJsZSBDYW4gYmUgdGhlIGV2ZW50IGNhbmNlbCBieSBhIGNhbGxiYWNrLlxuICAgICAqIEByZXR1cm4ge0Jvb2xlYW59IFRydWUgaWYgZXZlbnQgcHJvcGFnYXRpb24gaGFzIG5vdCBiZSBzdG9wcGVkLlxuICAgICAqL1xuICAgIHRyaWdnZXIoZXZOYW1lLCBkYXRhLCBidWJibGVzID0gdHJ1ZSwgY2FuY2VsYWJsZSA9IHRydWUpIHtcbiAgICAgICAgcmV0dXJuIGRpc3BhdGNoKHRoaXMsIGV2TmFtZSwgZGF0YSwgYnViYmxlcywgY2FuY2VsYWJsZSk7XG4gICAgfVxufTtcbiIsImNvbnN0IHJvb3REb2MgPSBkb2N1bWVudDtcbi8qKlxuICogQ3JlYXRlIGFuZCBhdHRhY2ggYSBzdHlsZSBlbGVtZW50IGZvciBhIGNvbXBvbmVudC5cbiAqIEBwcml2YXRlXG4gKlxuICogQHBhcmFtIHtIVE1MRWxlbWVudH0gbm9kZSBBIGNvbXBvbmVudCBpbnN0YW5jZS5cbiAqIEByZXR1cm4ge0hUTUxFbGVtZW50fSBUaGUgY3JlYXRlZCBzdHlsZSBlbGVtZW50LlxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlU3R5bGUobm9kZSkge1xuICAgIGxldCBkb2MgPSBub2RlLm93bmVyRG9jdW1lbnQgfHwgcm9vdERvYztcbiAgICBsZXQgc3R5bGVFbGVtID0gZG9jLmNyZWF0ZUVsZW1lbnQoJ3N0eWxlJyk7XG4gICAgc3R5bGVFbGVtLnR5cGUgPSAndGV4dC9jc3MnO1xuICAgIHN0eWxlRWxlbS5zZXRBdHRyaWJ1dGUoJ2lkJywgYHN0eWxlLSR7bm9kZS5pc31gKTtcbiAgICBsZXQgaGVhZCA9IGRvYy5oZWFkO1xuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlICovXG4gICAgaWYgKGhlYWQuZmlyc3RFbGVtZW50Q2hpbGQpIHtcbiAgICAgICAgaGVhZC5pbnNlcnRCZWZvcmUoc3R5bGVFbGVtLCBoZWFkLmZpcnN0RWxlbWVudENoaWxkKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBoZWFkLmFwcGVuZENoaWxkKHN0eWxlRWxlbSk7XG4gICAgfVxuICAgIHJldHVybiBzdHlsZUVsZW07XG59XG4iLCJpbXBvcnQgeyBpc1N0cmluZyB9IGZyb20gJy4uL2xpYi90eXBlb2YuanMnO1xuaW1wb3J0IHsgY3JlYXRlU3R5bGUgfSBmcm9tICcuLi9saWIvc3R5bGUuanMnO1xuXG4vKipcbiAqIFNpbXBsZSBDdXN0b20gQ29tcG9uZW50IHdpdGggY3NzIHN0eWxlIGhhbmRsaW5nIHVzaW5nIHRoZSBgY3NzYCBwcm9wZXJ0eS5cbiAqIEBtaXhpbiBTdHlsZU1peGluXG4gKiBAbWVtYmVyb2YgRE5BLk1JWElOU1xuICogQHN0YXRpY1xuICpcbiAqIEBleGFtcGxlXG4gKiBgYGBqc1xuICogLy8gbXktY29tcG9uZW50LmpzXG4gKiBpbXBvcnQgeyBCYXNlQ29tcG9uZW50IH0gZnJvbSAnQGRuYWpzL2NvcmUnO1xuICogZXhwb3J0IGNsYXNzIE15Q29tcG9uZW50IGV4dGVuZHMgQmFzZUNvbXBvbmVudCB7XG4gKiAgIGdldCBjc3MoKSB7XG4gKiAgICAgcmV0dXJuICcubXktY29tcG9uZW50IHAgeyBjb2xvcjogcmVkOyB9J1xuICogICB9XG4gKiB9XG4gKiBgYGBcbiAqIGBgYGpzXG4gKiAvLyBhcHAuanNcbiAqIGltcG9ydCB7IGRlZmluZSB9IGZyb20gJ0BkbmFqcy9jb3JlJztcbiAqIGltcG9ydCB7IE15Q29tcG9uZW50IH0gZnJvbSAnLi9teS1jb21wb25lbnQuanMnO1xuICogZGVmaW5lKCdteS1jb21wb25lbnQnLCBNeUNvbXBvbmVudCk7XG4gKiB2YXIgZWxlbWVudCA9IG5ldyBNeUNvbXBvbmVudCgpO1xuICogdmFyIHAgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdwJyk7XG4gKiBwLmlubmVyVGV4dCA9ICdQYXJhZ3JhcGgnO1xuICogZWxlbWVudC5hcHBlbmRDaGlsZChwKTsgLy8gdGV4dCBpbnNpZGUgYHBgIGdldHMgdGhlIHJlZCBjb2xvclxuICogYGBgXG4gKi9cbmV4cG9ydCBjb25zdCBTdHlsZU1peGluID0gKFN1cGVyQ2xhc3MpID0+IGNsYXNzIGV4dGVuZHMgU3VwZXJDbGFzcyB7XG4gICAgLyoqXG4gICAgICogRmlyZXMgd2hlbiBhbiBpbnN0YW5jZSBvZiB0aGUgZWxlbWVudCBpcyBjcmVhdGVkLlxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICBpZiAoIXRoaXMuY29uc3RydWN0b3Iuc3R5bGVFbGVtKSB7XG4gICAgICAgICAgICBsZXQgQ3RyID0gdGhpcy5jb25zdHJ1Y3RvcjtcbiAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShDdHIsICdzdHlsZUVsZW0nLCB7XG4gICAgICAgICAgICAgICAgdmFsdWU6IGNyZWF0ZVN0eWxlKHRoaXMpLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy51cGRhdGVDU1MoKTtcbiAgICB9XG5cbiAgICBjb25uZWN0ZWRDYWxsYmFjaygpIHtcbiAgICAgICAgc3VwZXIuY29ubmVjdGVkQ2FsbGJhY2soKTtcbiAgICAgICAgdGhpcy5ub2RlLmNsYXNzTGlzdC5hZGQodGhpcy5pcyk7XG4gICAgfVxuXG4gICAgdXBkYXRlQ1NTKCkge1xuICAgICAgICBsZXQgc3R5bGUgPSB0aGlzLmNzcztcbiAgICAgICAgaWYgKGlzU3RyaW5nKHN0eWxlKSkge1xuICAgICAgICAgICAgdGhpcy5jb25zdHJ1Y3Rvci5zdHlsZUVsZW0udGV4dENvbnRlbnQgPSBzdHlsZTtcbiAgICAgICAgfVxuICAgIH1cbn07XG4iLCJpbXBvcnQgeyBpc1VuZGVmaW5lZCwgaXNGdW5jdGlvbiwgaXNTdHJpbmcgfSBmcm9tICcuLi9saWIvdHlwZW9mLmpzJztcblxuLyoqXG4gKiBTaW1wbGUgQ3VzdG9tIENvbXBvbmVudCB3aXRoIHRlbXBsYXRlIGhhbmRsaW5nIHVzaW5nIHRoZSBgdGVtcGxhdGVgIHByb3BlcnR5LlxuICogQG1lbWJlcm9mIEROQS5NSVhJTlNcbiAqIEBtaXhpbiBUZW1wbGF0ZU1peGluXG4gKiBAc3RhdGljXG4gKlxuICogQHBhcmFtIHtGdW5jdGlvbn0gU3VwZXJDbGFzcyBUaGUgY2xhc3MgdG8gZXh0ZW5kLlxuICogQHJldHVybiB7RnVuY3Rpb259IFRoZSBleHRlbmRlZCBjbGFzcy5cbiAqXG4gKiBAZXhhbXBsZVxuICogYGBganNcbiAqIC8vIG15LWNvbXBvbmVudC5qc1xuICogaW1wb3J0IHsgQmFzZUNvbXBvbmVudCB9IGZyb20gJ0BkbmFqcy9jb3JlJztcbiAqIGV4cG9ydCBjbGFzcyBNeUNvbXBvbmVudCBleHRlbmRzIEJhc2VDb21wb25lbnQge1xuICogICBnZXQgdGVtcGxhdGUoKSB7XG4gKiAgICAgcmV0dXJuIGA8aDE+JHt0aGlzLm5hbWV9PC9oMT5gO1xuICogICB9XG4gKiAgIGdldCBuYW1lKCkge1xuICogICAgIHJldHVybiAnTmV3dG9uJztcbiAqICAgfVxuICogfVxuICogYGBgXG4gKiBgYGBqc1xuICogLy8gYXBwLmpzXG4gKiBpbXBvcnQgeyBkZWZpbmUgfSBmcm9tICdAZG5hanMvY29yZSc7XG4gKiBpbXBvcnQgeyBNeUNvbXBvbmVudCB9IGZyb20gJy4vbXktY29tcG9uZW50LmpzJztcbiAqIGRlZmluZSgnbXktY29tcG9uZW50JywgTXlDb21wb25lbnQpO1xuICogdmFyIGVsZW1lbnQgPSBuZXcgTXlDb21wb25lbnQoKTtcbiAqIGNvbnNvbGUubG9nKGVsZW1lbnQuaW5uZXJIVE1MKTsgLy8gbG9ncyBcIjxoMT5OZXd0b248L2gxPlwiXG4gKiBgYGBcbiAqL1xuZXhwb3J0IGNvbnN0IFRlbXBsYXRlTWl4aW4gPSAoU3VwZXJDbGFzcykgPT4gY2xhc3MgZXh0ZW5kcyBTdXBlckNsYXNzIHtcbiAgICBnZXQgYXV0b1JlbmRlcigpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEF0dGFjaCBwcm9wZXJ0aWVzIG9ic2VydmVycyBpbiBvcmRlciB0byB1cGRhdGUgY2hpbGRyZW4uXG4gICAgICogQG1ldGhvZCBjb25zdHJ1Y3RvclxuICAgICAqIEBtZW1iZXJvZiBETkEuTUlYSU5TLlRlbXBsYXRlTWl4aW5cbiAgICAgKiBAaW5zdGFuY2VcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgaWYgKHRoaXMuYXV0b1JlbmRlciAmJiAhaXNVbmRlZmluZWQodGhpcy50ZW1wbGF0ZSkpIHtcbiAgICAgICAgICAgIGxldCBwcm9wcyA9IHRoaXMucHJvcGVydGllcztcbiAgICAgICAgICAgIGlmIChwcm9wcykge1xuICAgICAgICAgICAgICAgIGxldCBjYWxsYmFjayA9ICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZW5kZXIoKTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIGZvciAobGV0IGsgaW4gcHJvcHMpIHtcbiAgICAgICAgICAgICAgICAgICAgcHJvcHNba10ub2JzZXJ2ZShjYWxsYmFjayk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlbmRlciB0aGUgY29tcG9uZW50IHdoZW4gY29ubmVjdGVkLlxuICAgICAqIEBtZXRob2QgY29ubmVjdGVkQ2FsbGJhY2tcbiAgICAgKiBAbWVtYmVyb2YgRE5BLk1JWElOUy5UZW1wbGF0ZU1peGluXG4gICAgICogQGluc3RhbmNlXG4gICAgICovXG4gICAgY29ubmVjdGVkQ2FsbGJhY2soKSB7XG4gICAgICAgIHN1cGVyLmNvbm5lY3RlZENhbGxiYWNrKCk7XG4gICAgICAgIGlmICghaXNVbmRlZmluZWQodGhpcy50ZW1wbGF0ZSkpIHtcbiAgICAgICAgICAgIHRoaXMucmVuZGVyKCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogVXBkYXRlIENvbXBvbmVudCBjaGlsZCBub2Rlcy5cbiAgICAgKiBAbWV0aG9kIHJlbmRlclxuICAgICAqIEBtZW1iZXJvZiBETkEuTUlYSU5TLlRlbXBsYXRlTWl4aW5cbiAgICAgKiBAaW5zdGFuY2VcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb258c3RyaW5nfSB0cGwgQSB0ZW1wbGF0ZSB0byB1c2UgaW5zdGVhZCBvZiBgdGhpcy50ZW1wbGF0ZWAuXG4gICAgICpcbiAgICAgKiBAdGhyb3dzIHtUeXBlRXJyb3J9IFdpbGwgdGhyb3cgaWYgdGhlIHRlbXBsYXRlIHR5cGUgaXMgbm90IHN1cHBvcnRlZC5cbiAgICAgKi9cbiAgICByZW5kZXIodHBsKSB7XG4gICAgICAgIHRwbCA9IHRwbCB8fCB0aGlzLnRlbXBsYXRlO1xuICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZSAqL1xuICAgICAgICBpZiAoaXNGdW5jdGlvbih0cGwpKSB7XG4gICAgICAgICAgICB0cGwuY2FsbCh0aGlzKTtcbiAgICAgICAgfSBlbHNlIGlmIChpc1N0cmluZyh0cGwpKSB7XG4gICAgICAgICAgICB0aGlzLm5vZGUuaW5uZXJIVE1MID0gdHBsO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignSW52YWxpZCB0ZW1wbGF0ZSBwcm9wZXJ0eS4nKTtcbiAgICAgICAgfVxuICAgIH1cbn07XG4iLCIvKiBlc2xpbnQtZGlzYWJsZSBwcmVmZXItcmVzdC1wYXJhbXMgKi9cbmV4cG9ydCBjb25zdCByZWR1Y2UgPSBBcnJheS5wcm90b3R5cGUucmVkdWNlIHx8IGZ1bmN0aW9uKGNhbGxiYWNrIC8qLCBpbml0aWFsVmFsdWUqLyApIHtcbiAgICAndXNlIHN0cmljdCc7XG4gICAgbGV0IHQgPSB0aGlzO1xuICAgIGxldCBsZW4gPSB0Lmxlbmd0aDtcbiAgICBsZXQgayA9IDA7XG4gICAgbGV0IHZhbHVlO1xuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAyKSB7XG4gICAgICAgIHZhbHVlID0gYXJndW1lbnRzWzFdO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHdoaWxlIChrIDwgbGVuICYmICEoayBpbiB0KSkge1xuICAgICAgICAgICAgaysrO1xuICAgICAgICB9XG4gICAgICAgIHZhbHVlID0gdFtrKytdO1xuICAgIH1cbiAgICBmb3IgKDsgayA8IGxlbjsgaysrKSB7XG4gICAgICAgIGlmIChrIGluIHQpIHtcbiAgICAgICAgICAgIHZhbHVlID0gY2FsbGJhY2sodmFsdWUsIHRba10sIGssIHQpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiB2YWx1ZTtcbn07XG4iLCIvKipcbiAqIEBhdXRob3IgSnVzdGluIEZhZ25hbmlcbiAqIEBzZWUgaHR0cHM6Ly9naXRodWIuY29tL2p1c3RpbmZhZ25hbmkvbWl4d2l0aC5qc1xuICovXG5pbXBvcnQgeyByZWR1Y2UgfSBmcm9tICcuLi9wb2x5ZmlsbHMvcmVkdWNlLmpzJztcblxuLyoqXG4gKiBNaXggYSBjbGFzcyB3aXRoIGEgbWl4aW4uXG4gKiBAbWV0aG9kIG1peCguLi4pLndpdGgoLi4uKVxuICogQG1lbWJlcm9mISBETkEuXG4gKiBAc3RhdGljXG4gKlxuICogQHBhcmFtIHtGdW5jdGlvbn0gc3VwZXJDbGFzcyBUaGUgY2xhc3MgdG8gZXh0ZW5kLlxuICogQHJldHVybiB7RnVuY3Rpb259IEEgbWl4ZWQgY2xhc3MuXG4gKlxuICogQGV4YW1wbGVcbiAqIGBgYGpzXG4gKiAvLyBteS1zdXBlci5qc1xuICogZXhwb3J0IGNsYXNzIE15U3VwZXJDbGFzcyB7XG4gKiAgICAgY29uc3RydWN0b3IoKSB7XG4gKiAgICAgICAgIC8vIGRvIHNvbWV0aGluZ1xuICogICAgIH1cbiAqIH1cbiAqIGBgYFxuICogYGBganNcbiAqIC8vIG1peGluLmpzXG4gKiBleHBvcnQgY29uc3QgTWl4aW4gPSAoc3VwZXJDbGFzcykgPT4gY2xhc3MgZXh0ZW5kIHN1cGVyQ2xhc3Mge1xuICogICAgIGNvbnN0cnVjdG9yKCkge1xuICogICAgICAgICBzdXBlcigpO1xuICogICAgICAgICAvLyBkbyBzb21ldGhpbmcgZWxzZVxuICogICAgIH1cbiAqIH07XG4gKiBgYGBcbiAqIGBgYGpzXG4gKiBpbXBvcnQgeyBtaXggfSBmcm9tICdAZG5hanMvY29yZSc7XG4gKiBpbXBvcnQgeyBNeVN1cGVyQ2xhc3MgfSBmcm9tICcuL215LXN1cGVyLmpzJztcbiAqIGltcG9ydCB7IE1peGluIH0gZnJvbSAnLi9taXhpbi5qcyc7XG4gKlxuICogZXhwb3J0IGNsYXNzIE1peGVkQ2xhc3MgZXh0ZW5kcyBtaXgoTXlTdXBlckNsYXNzKS53aXRoKE1peGluKSB7XG4gKiAgICAgLi4uXG4gKiB9XG4gKiBgYGBcbiAqL1xuXG4vKipcbiAqIEEgTWl4aW4gaGVscGVyIGNsYXNzLlxuICogQGlnbm9yZVxuICovXG5jbGFzcyBNaXhpbiB7XG4gICAgLyoqXG4gICAgICogQ3JlYXRlIGEgbWl4YWJsZSBjbGFzcy5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBzdXBlckNsYXNzIFRoZSBjbGFzcyB0byBleHRlbmQuXG4gICAgICovXG4gICAgY29uc3RydWN0b3Ioc3VwZXJjbGFzcykge1xuICAgICAgICBzdXBlcmNsYXNzID0gc3VwZXJjbGFzcyB8fCBjbGFzcyB7fTtcbiAgICAgICAgdGhpcy5zdXBlcmNsYXNzID0gc3VwZXJjbGFzcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogTWl4IHRoZSBzdXBlciBjbGFzcyB3aXRoIGEgbGlzdCBvZiBtaXhpbnMuXG4gICAgICogQHBhcmFtIHsuLi5GdW5jdGlvbn0gbWl4aW5zICpOKiBtaXhpbiBmdW5jdGlvbnMuXG4gICAgICogQHJldHVybiB7RnVuY3Rpb259IFRoZSBleHRlbmRlZCBjbGFzcy5cbiAgICAgKi9cbiAgICB3aXRoKCkge1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmVcbiAgICAgICAgbGV0IGFyZ3MgPSBbXS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMCk7XG4gICAgICAgIHJldHVybiByZWR1Y2UuY2FsbChhcmdzLCAoYywgbWl4aW4pID0+IG1peGluKGMpLCB0aGlzLnN1cGVyY2xhc3MpO1xuICAgIH1cbn1cblxuLyoqXG4gKiBDcmVhdGUgYSBNaXhpbiBpbnN0YW5jZS5cbiAqIEBpZ25vcmVcbiAqL1xuZXhwb3J0IGNvbnN0IG1peCA9IChzdXBlckNsYXNzKSA9PiBuZXcgTWl4aW4oc3VwZXJDbGFzcyk7XG4iLCJpbXBvcnQgeyByZWdpc3RyeSB9IGZyb20gJy4vcmVnaXN0cnkuanMnO1xuaW1wb3J0IHsgaXNTdHJpbmcgfSBmcm9tICcuL3R5cGVvZi5qcyc7XG5cbi8qKlxuICogQ2hlY2sgaWYgYSBub2RlIGlzIGFscmVhZHkgaW5zdGFudGlhdGVkIEhUTUxFbGVtZW50IGZvciBwcm9ncmFtbWF0aWNhbGx5IGBjb25zdHJ1Y3RvcmAgY2FsbHMuXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtIVE1MRWxlbWVudH0gbm9kZSBUaGUgbm9kZSB0byBjaGVjay5cbiAqIEByZXR1cm4ge0Jvb2xlYW59IFRoZSBub2RlIHNob3VsZCBiZSBpbnN0YW50aWF0ZWQuXG4gKi9cbmZ1bmN0aW9uIGlzTmV3KG5vZGUpIHtcbiAgICB0cnkge1xuICAgICAgICByZXR1cm4gIWlzU3RyaW5nKG5vZGUub3V0ZXJIVE1MKTtcbiAgICB9IGNhdGNoIChleCkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG59XG5cbi8qKlxuICogU2hpbSBvcmlnaW5hbCBFbGVtZW50IGNvbnN0cnVjdG9ycyBpbiBvcmRlciB0byBiZSB1c2VkIHdpdGggYG5ld2AuXG4gKiBAbWV0aG9kIHNoaW1cbiAqIEBtZW1iZXJvZiEgRE5BLlxuICogQHN0YXRpY1xuICpcbiAqIEBwYXJhbSB7RnVuY3Rpb259IE9yaWdpbmFsIFRoZSBvcmlnaW5hbCBjb25zdHJ1Y3RvciB0byBzaGltLlxuICogQHJldHVybiB7RnVuY3Rpb259IFRoZSBzaGltbWVkIGNvbnN0cnVjdG9yLlxuICpcbiAqIEBleGFtcGxlXG4gKiBgYGBqc1xuICogLy8gc2hpbSBhdWRpbyBlbGVtZW50XG4gKiBpbXBvcnQgeyBzaGltIH0gZnJvbSAnQGRuYWpzL2NvcmUnO1xuICpcbiAqIGNsYXNzIE15QXVkaW8gZXh0ZW5kcyBzaGltKEhUTUxBdWRpb0VsZW1lbnQpIHtcbiAqICAgICAuLi5cbiAqIH1cbiAqXG4gKiBsZXQgYXVkaW8gPSBuZXcgTXlBdWRpbygpO1xuICogYGBgXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzaGltKE9yaWdpbmFsKSB7XG4gICAgY2xhc3MgUG9seWZpbGxlZCB7XG4gICAgICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICAgICAgaWYgKCFpc05ldyh0aGlzKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGV0IGRlc2MgPSByZWdpc3RyeS5nZXREZXNjcmlwdG9yKHRoaXMuY29uc3RydWN0b3IpO1xuICAgICAgICAgICAgbGV0IGNvbmZpZyA9IGRlc2MuY29uZmlnO1xuICAgICAgICAgICAgLy8gRmluZCB0aGUgdGFnbmFtZSBvZiB0aGUgY29uc3RydWN0b3IgYW5kIGNyZWF0ZSBhIG5ldyBlbGVtZW50IHdpdGggaXRcbiAgICAgICAgICAgIGxldCBlbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICBjb25maWcuZXh0ZW5kcyA/IGNvbmZpZy5leHRlbmRzIDogZGVzYy5pc1xuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGVsZW1lbnQuX19wcm90b19fID0gZGVzYy5DdHIucHJvdG90eXBlO1xuICAgICAgICAgICAgaWYgKGNvbmZpZy5leHRlbmRzKSB7XG4gICAgICAgICAgICAgICAgZWxlbWVudC5zZXRBdHRyaWJ1dGUoJ2lzJywgZGVzYy5pcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gZWxlbWVudDtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvLyBDbG9uZSB0aGUgcHJvdG90eXBlIG92ZXJyaWRpbmcgdGhlIGNvbnN0cnVjdG9yLlxuICAgIFBvbHlmaWxsZWQucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShPcmlnaW5hbC5wcm90b3R5cGUsIHtcbiAgICAgICAgY29uc3RydWN0b3I6IHtcbiAgICAgICAgICAgIHZhbHVlOiBQb2x5ZmlsbGVkLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgIH0sXG4gICAgfSk7XG4gICAgcmV0dXJuIFBvbHlmaWxsZWQ7XG59XG4iLCJpbXBvcnQgKiBhcyBET01fSEVMUEVSUyBmcm9tICcuL2xpYi9kb20uanMnO1xuaW1wb3J0IHsgQ29tcG9uZW50TWl4aW4gfSBmcm9tICcuL21peGlucy9jb21wb25lbnQuanMnO1xuaW1wb3J0IHsgUHJvcGVydGllc01peGluIH0gZnJvbSAnLi9taXhpbnMvcHJvcGVydGllcy1jb21wb25lbnQuanMnO1xuaW1wb3J0IHsgRXZlbnRzTWl4aW4gfSBmcm9tICcuL21peGlucy9ldmVudHMtY29tcG9uZW50LmpzJztcbmltcG9ydCB7IFN0eWxlTWl4aW4gfSBmcm9tICcuL21peGlucy9zdHlsZS1jb21wb25lbnQuanMnO1xuaW1wb3J0IHsgVGVtcGxhdGVNaXhpbiB9IGZyb20gJy4vbWl4aW5zL3RlbXBsYXRlLWNvbXBvbmVudC5qcyc7XG5cbi8qKlxuICogQSBzZXQgb2YgRE9NIGhlbHBlcnMgZm9yIGNhbGxiYWNrcyB0cmlnZ2VyIHdoZW4gQ3VzdG9tIEVsZW1lbnRzXG4gKiBhcmUgbm90IHN1cHBvcnRlZCBieSB0aGUgYnJvd3Nlci5cbiAqIEBuYW1lIERPTVxuICogQG5hbWVzcGFjZSBET01cbiAqIEBtZW1iZXJvZiEgRE5BLlxuICogQHN0YXRpY1xuICovXG5leHBvcnQgY29uc3QgRE9NID0gRE9NX0hFTFBFUlM7XG4vKipcbiAqIEEgc2V0IG9mIGNvcmUgbWl4aW5zLlxuICogQG5hbWUgTUlYSU5TXG4gKiBAbmFtZXNwYWNlIE1JWElOU1xuICogQG1lbWJlcm9mISBETkEuXG4gKiBAc3RhdGljXG4gKi9cbmV4cG9ydCBjb25zdCBNSVhJTlMgPSB7XG4gICAgQ29tcG9uZW50TWl4aW4sXG4gICAgUHJvcGVydGllc01peGluLFxuICAgIEV2ZW50c01peGluLFxuICAgIFN0eWxlTWl4aW4sXG4gICAgVGVtcGxhdGVNaXhpbixcbn07XG5leHBvcnQgeyBtaXggfSBmcm9tICcuL2xpYi9taXhpbnMuanMnO1xuZXhwb3J0IHsgcHJvcCB9IGZyb20gJy4vbGliL3Byb3BlcnR5LmpzJztcbmV4cG9ydCB7IHNoaW0gfSBmcm9tICcuL2xpYi9zaGltLmpzJztcbmV4cG9ydCAqIGZyb20gJy4vbGliL3N5bWJvbHMuanMnO1xuZXhwb3J0ICogZnJvbSAnLi9saWIvdHlwZW9mLmpzJztcbiIsIi8qKlxuICogRE5BXG4gKiAoYykgMjAxNS0yMDE2IENoaWFsYWIgKGh0dHA6Ly93d3cuY2hpYWxhYi5jb20pIDxkZXZAY2hpYWxhYi5pbz5cbiAqIGh0dHA6Ly9kbmEuY2hpYWxhYi5pb1xuICpcbiAqIEp1c3QgYW5vdGhlciBjb21wb25lbnRzIHBhdHRlcm4uXG4gKiBVc2Ugd2l0aCBDdXN0b20gRWxlbWVudHMgc3BlY3MuXG4gKi9cbmltcG9ydCB7IG1peCwgcHJvcCwgc2hpbSwgRE9NLCBNSVhJTlMgfSBmcm9tICcuL3NyYy9jb3JlLmpzJztcbmltcG9ydCB7IHJlZ2lzdHJ5IH0gZnJvbSAnLi9zcmMvbGliL3JlZ2lzdHJ5LmpzJztcblxuLyoqXG4gKiBAbmFtZXNwYWNlIEROQVxuICovXG5leHBvcnQgeyBtaXgsIHByb3AsIHNoaW0sIERPTSwgTUlYSU5TIH07XG5leHBvcnQgeyByZWdpc3RyeSB9O1xuXG4vKipcbiAqIFJlZ2lzdGVyIGEgbmV3IGNvbXBvbmVudC5cbiAqIEBtZXRob2QgZGVmaW5lXG4gKiBAbWVtYmVyb2YhIEROQS5cbiAqIEBzdGF0aWNcbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gbmFtZSBUaGUgaWQgb2YgdGhlIGNvbXBvbmVudC5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IEN0ciBUaGUgY29tcG9uZW50IGNvbnN0cnVjdG9yLlxuICogQHBhcmFtIHtPYmplY3R9IGNvbmZpZyBPcHRpb25hbCBjb21wb25lbnQgY29uZmlndXJhdGlvbi5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGRlZmluZSh0YWdOYW1lLCBDb21wb25lbnQsIGNvbmZpZykge1xuICAgIHJldHVybiByZWdpc3RyeS5kZWZpbmUodGFnTmFtZSwgQ29tcG9uZW50LCBjb25maWcpO1xufVxuLyoqXG4gKiBDcmVhdGUgYW5kIGFwcGVuZCBhIG5ldyBjb21wb25lbnQgaW5zdGFuY2UuXG4gKiBAbWV0aG9kIHJlbmRlclxuICogQG1lbWJlcm9mISBETkEuXG4gKiBAc3RhdGljXG4gKlxuICogQHBhcmFtIHtIVE1MRWxlbWVudH0gbm9kZSBUaGUgcGFyZW50IG5vZGUuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBDb21wb25lbnQgVGhlIGNvbXBvbmVudCBjb25zdHJ1Y3Rvci5cbiAqIEBwYXJhbSB7T2JqZWN0fSBwcm9wcyBPcHRpb25hbCBzZXQgb2YgcHJvcGVydGllcyB0byBzZXQgdG8gdGhlIGNvbXBvbmVudC5cbiAqIEByZXR1cm4ge0hUTUxFbGVtZW50fSBUaGUgbmV3IGNvbXBvbmVudCBpbnN0YW5jZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJlbmRlcihub2RlLCBDb21wb25lbnQsIHByb3BzKSB7XG4gICAgbGV0IGVsZW1lbnQgPSBuZXcgQ29tcG9uZW50KCk7XG4gICAgZm9yIChsZXQgayBpbiBwcm9wcykge1xuICAgICAgICBlbGVtZW50W2tdID0gcHJvcHNba107XG4gICAgfVxuICAgIERPTS5hcHBlbmRDaGlsZChub2RlLCBlbGVtZW50KTtcbiAgICByZXR1cm4gZWxlbWVudDtcbn1cblxuLyoqXG4gKiBTaW1wbGUgQ3VzdG9tIENvbXBvbmVudCB3aXRoIHNvbWUgYmVoYXZpb3JzLlxuICogQGNsYXNzIEJhc2VDb21wb25lbnRcbiAqIEBleHRlbmRzIEhUTUxFbGVtZW50XG4gKiBAbWVtYmVyb2YgRE5BLlxuICogQHN0YXRpY1xuICpcbiAqIEBleGFtcGxlXG4gKiBgYGBqc1xuICogLy8gbXktY29tcG9uZW50LmpzXG4gKiBpbXBvcnQgeyBCYXNlQ29tcG9uZW50IH0gZnJvbSAnQGRuYWpzL2NvcmUnO1xuICogZXhwb3J0IGNsYXNzIE15Q29tcG9uZW50IGV4dGVuZHMgQmFzZUNvbXBvbmVudCB7XG4gKiAgIHN0YXRpYyBnZXQgb2JzZXJ2ZWRBdHRyaWJ1dGVzKCkge1xuICogICAgIHJldHVybiBbJy4uLicsICcuLi4nXTtcbiAqICAgfVxuICogICBnZXQgY3NzKCkge1xuICogICAgIHJldHVybiAnLi4uJztcbiAqICAgfVxuICogICBnZXQgZXZlbnRzKCkge1xuICogICAgIHJldHVybiB7XG4gKiAgICAgICAnLi4uJzogJy4uLidcbiAqICAgICB9O1xuICogICB9XG4gKiAgIGdldCB0ZW1wbGF0ZSgpIHtcbiAqICAgICByZXR1cm4gJy4uLic7XG4gKiAgIH1cbiAqICAgZ2V0IHByb3BlcnRpZXMoKSB7XG4gKiAgICAgcmV0dXJuIHsgLi4uIH07XG4gKiAgIH1cbiAqIH1cbiAqIGBgYFxuICovXG5leHBvcnQgY2xhc3MgQmFzZUNvbXBvbmVudCBleHRlbmRzIG1peChcbiAgICBzaGltKHNlbGYuSFRNTEVsZW1lbnQpXG4pLndpdGgoXG4gICAgTUlYSU5TLkNvbXBvbmVudE1peGluLFxuICAgIE1JWElOUy5Qcm9wZXJ0aWVzTWl4aW4sXG4gICAgTUlYSU5TLlN0eWxlTWl4aW4sXG4gICAgTUlYSU5TLkV2ZW50c01peGluLFxuICAgIE1JWElOUy5UZW1wbGF0ZU1peGluXG4pIHt9XG4iLCJpbXBvcnQgeyBET00gfSBmcm9tICdAZG5hanMvY29yZSc7XG5cbmZ1bmN0aW9uIG9uQ3JlYXRpb24obm9kZXMpIHtcbiAgICBbXS5mb3JFYWNoLmNhbGwobm9kZXMsIChub2RlKSA9PiB7XG4gICAgICAgIGlmICghbm9kZS5pcykge1xuICAgICAgICAgICAgaWYoRE9NLmJpbmQobm9kZSkpIHtcbiAgICAgICAgICAgICAgICBET00uY29ubmVjdChub2RlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIERPTS5jb25uZWN0KG5vZGUpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChub2RlLmNoaWxkcmVuKSB7XG4gICAgICAgICAgICBvbkNyZWF0aW9uKG5vZGUuY2hpbGRyZW4pO1xuICAgICAgICB9XG4gICAgfSk7XG59XG5cbmNvbnN0IE9CU0VSVkVSID0gbmV3IE11dGF0aW9uT2JzZXJ2ZXIoKG11dGF0aW9ucykgPT4ge1xuICAgIG11dGF0aW9ucy5mb3JFYWNoKChtdXRhdGlvbikgPT4ge1xuICAgICAgICBzd2l0Y2ggKG11dGF0aW9uLnR5cGUpIHtcbiAgICAgICAgY2FzZSAnY2hpbGRMaXN0Jzoge1xuICAgICAgICAgICAgaWYgKG11dGF0aW9uLmFkZGVkTm9kZXMpIHtcbiAgICAgICAgICAgICAgICBvbkNyZWF0aW9uKG11dGF0aW9uLmFkZGVkTm9kZXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG11dGF0aW9uLnJlbW92ZWROb2Rlcykge1xuICAgICAgICAgICAgICAgIG11dGF0aW9uLnJlbW92ZWROb2Rlcy5mb3JFYWNoKChub2RlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIERPTS5kaXNjb25uZWN0KG5vZGUpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSAnYXR0cmlidXRlcyc6IHtcbiAgICAgICAgICAgIGxldCBhdHRyaWJ1dGVOYW1lID0gbXV0YXRpb24uYXR0cmlidXRlTmFtZTtcbiAgICAgICAgICAgIGlmIChhdHRyaWJ1dGVOYW1lID09PSAnaXMnKSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsZXQgbm9kZSA9IG11dGF0aW9uLnRhcmdldDtcbiAgICAgICAgICAgIERPTS51cGRhdGUoXG4gICAgICAgICAgICAgICAgbm9kZSxcbiAgICAgICAgICAgICAgICBhdHRyaWJ1dGVOYW1lLFxuICAgICAgICAgICAgICAgIG11dGF0aW9uLm9sZFZhbHVlLFxuICAgICAgICAgICAgICAgIG5vZGUuZ2V0QXR0cmlidXRlKGF0dHJpYnV0ZU5hbWUpXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0pO1xufSk7XG5cbk9CU0VSVkVSLm9ic2VydmUoZG9jdW1lbnQuYm9keSwge1xuICAgIGF0dHJpYnV0ZXM6IHRydWUsXG4gICAgY2hpbGRMaXN0OiB0cnVlLFxuICAgIHN1YnRyZWU6IHRydWUsXG59KTtcbiIsIi8qKlxuICogRE5BXG4gKiAoYykgMjAxNS0yMDE2IENoaWFsYWIgKGh0dHA6Ly93d3cuY2hpYWxhYi5jb20pIDxkZXZAY2hpYWxhYi5pbz5cbiAqIGh0dHA6Ly9kbmEuY2hpYWxhYi5pb1xuICpcbiAqIEp1c3QgYW5vdGhlciBjb21wb25lbnRzIHBhdHRlcm4uXG4gKiBVc2Ugd2l0aCBNdXRhdGlvbk9ic2VydmVyIEFQSS5cbiAqL1xuaW1wb3J0ICcuL29ic2VydmVyLmpzJztcbmV4cG9ydCAqIGZyb20gJ0BkbmFqcy9jb3JlJztcbiJdLCJuYW1lcyI6WyJpc0Z1bmN0aW9uIiwib2JqIiwiaXNTdHJpbmciLCJpc09iamVjdCIsIk9iamVjdCIsInByb3RvdHlwZSIsInRvU3RyaW5nIiwiY2FsbCIsImlzVW5kZWZpbmVkIiwiaXNBcnJheSIsIkFycmF5IiwicmVnaXN0cnkiLCJuYW1lIiwiQ3RyIiwiY29uZmlnIiwiY29tcG9uZW50cyIsInRvTG93ZXJDYXNlIiwiayIsImRlc2MiLCJnZXREZXNjcmlwdG9yIiwiQ09NUE9ORU5UX1NZTUJPTCIsIkNPTk5FQ1RFRCIsIkRJU0NPTk5FQ1RFRCIsIlVQREFURUQiLCJnZXRDb21wb25lbnQiLCJlbGVtZW50IiwiZnVsbCIsIm5vZGUiLCJub2RlVHlwZSIsIk5vZGUiLCJFTEVNRU5UX05PREUiLCJnZXRBdHRyaWJ1dGUiLCJ0YWdOYW1lIiwiZ2V0IiwiaXNDb21wb25lbnQiLCJjb25uZWN0IiwiZGlzY29ubmVjdCIsInVwZGF0ZSIsIm9sZFZhbHVlIiwibmV3VmFsdWUiLCJiaW5kIiwiX19wcm90b19fIiwiZGVmaW5lUHJvcGVydHkiLCJjcmVhdGVFbGVtZW50IiwiaXMiLCJhcHBlbmRDaGlsZCIsInBhcmVudCIsInBhcmVudE5vZGUiLCJsYXN0RWxlbWVudENoaWxkIiwicmVtb3ZlQ2hpbGQiLCJpbnNlcnRCZWZvcmUiLCJyZWZOb2RlIiwibmV4dFNpYmxpbmciLCJyZXBsYWNlQ2hpbGQiLCJzZXRBdHRyaWJ1dGUiLCJ2YWx1ZSIsImF0dHJzIiwiY29uc3RydWN0b3IiLCJvYnNlcnZlZEF0dHJpYnV0ZXMiLCJpbmRleE9mIiwicmVtb3ZlQXR0cmlidXRlIiwiQ29tcG9uZW50TWl4aW4iLCJTdXBlckNsYXNzIiwiY29ubmVjdGVkQ2FsbGJhY2siLCJkaXNjb25uZWN0ZWRDYWxsYmFjayIsImF0dHJpYnV0ZUNoYW5nZWRDYWxsYmFjayIsImxvY2FsTmFtZSIsIkN1c3RvbUV2ZW50IiwiZXYiLCJzZWxmIiwiZXgiLCJldmVudCIsInBhcmFtcyIsInVuZGVmaW5lZCIsImV2dCIsImRvY3VtZW50IiwiY3JlYXRlRXZlbnQiLCJpbml0Q3VzdG9tRXZlbnQiLCJidWJibGVzIiwiY2FuY2VsYWJsZSIsImRldGFpbCIsImRpc3BhdGNoIiwiZXZOYW1lIiwiZGF0YSIsIlR5cGVFcnJvciIsImRpc3BhdGNoRXZlbnQiLCJkZWZpbmUiLCJQcm9wZXJ0eSIsImN0cnMiLCJfIiwidmFsaWRhdG9yIiwiX3NldHRlciIsInZhbCIsImdldHRlckZuIiwic2V0dGVyRm4iLCJ2YWxpZGF0ZVR5cGUiLCJjaGFuZ2VkIiwic2NvcGUiLCJvYnNlcnZlIiwiY2FsbGJhY2siLCJwdXNoIiwidW5vYnNlcnZlIiwiaW8iLCJzcGxpY2UiLCJpIiwibGVuIiwibGVuZ3RoIiwiY2xiIiwiYWNjZXB0cyIsIm5hbWVkIiwiYXR0clJlcXVlc3RlZCIsImF0dHJOYW1lIiwiZGVmYXVsdCIsImluaXRWYWx1ZSIsImRlZmF1bHRWYWx1ZSIsImZyZWV6ZSIsImF0dHJpYnV0ZSIsImV2ZW50TmFtZSIsImdldHRlciIsInNldHRlciIsInZhbGlkYXRlIiwiaW5pdCIsInByb3AiLCJTdHJpbmciLCJCb29sZWFuIiwiTnVtYmVyIiwiZ2V0VmFsdWUiLCJwcm9wZXJ0eSIsImF0dHJWYWwiLCJKU09OIiwicGFyc2UiLCJjb250ZXh0IiwiYXR0ciIsImN1cnJlbnRBdHRyVmFsdWUiLCJQcm9wZXJ0aWVzTWl4aW4iLCJwcm9wcyIsInByb3BlcnRpZXMiLCJyZWR1Y2UiLCJyZXMiLCJwYXJ0aWFsUHJvcHMiLCJvYnNlcnZlZCIsImhhc0F0dHJpYnV0ZSIsIm9sZFZhbCIsIm5ld1ZhbCIsIm9ic2VydmVQcm9wZXJ0eSIsInByb3BOYW1lIiwidW5vYnNlcnZlUHJvcGVydHkiLCJFTEVNX1BST1RPIiwiRWxlbWVudCIsIm1hdGNoZXMiLCJtYXRjaGVzU2VsZWN0b3IiLCJtb3pNYXRjaGVzU2VsZWN0b3IiLCJtc01hdGNoZXNTZWxlY3RvciIsIm9NYXRjaGVzU2VsZWN0b3IiLCJ3ZWJraXRNYXRjaGVzU2VsZWN0b3IiLCJTUExJVF9TRUxFQ1RPUiIsIkV2ZW50c01peGluIiwiZXZlbnRzIiwicnVsZSIsIm1hdGNoIiwic2VsZWN0b3IiLCJ0cmltIiwiZGVsZWdhdGUiLCJhZGRFdmVudExpc3RlbmVyIiwidGFyZ2V0IiwidHJpZ2dlciIsInJvb3REb2MiLCJjcmVhdGVTdHlsZSIsImRvYyIsIm93bmVyRG9jdW1lbnQiLCJzdHlsZUVsZW0iLCJ0eXBlIiwiaGVhZCIsImZpcnN0RWxlbWVudENoaWxkIiwiU3R5bGVNaXhpbiIsInVwZGF0ZUNTUyIsImNsYXNzTGlzdCIsImFkZCIsInN0eWxlIiwiY3NzIiwidGV4dENvbnRlbnQiLCJUZW1wbGF0ZU1peGluIiwiYXV0b1JlbmRlciIsInRlbXBsYXRlIiwicmVuZGVyIiwidHBsIiwiaW5uZXJIVE1MIiwidCIsImFyZ3VtZW50cyIsIk1peGluIiwic3VwZXJjbGFzcyIsIndpdGgiLCJhcmdzIiwic2xpY2UiLCJjIiwibWl4aW4iLCJtaXgiLCJzdXBlckNsYXNzIiwiaXNOZXciLCJvdXRlckhUTUwiLCJzaGltIiwiT3JpZ2luYWwiLCJQb2x5ZmlsbGVkIiwiZXh0ZW5kcyIsImNyZWF0ZSIsIkRPTSIsIkRPTV9IRUxQRVJTIiwiTUlYSU5TIiwiQ29tcG9uZW50IiwiQmFzZUNvbXBvbmVudCIsIkhUTUxFbGVtZW50Iiwib25DcmVhdGlvbiIsIm5vZGVzIiwiZm9yRWFjaCIsImNoaWxkcmVuIiwiT0JTRVJWRVIiLCJNdXRhdGlvbk9ic2VydmVyIiwibXV0YXRpb25zIiwibXV0YXRpb24iLCJhZGRlZE5vZGVzIiwicmVtb3ZlZE5vZGVzIiwiYXR0cmlidXRlTmFtZSIsImJvZHkiXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBOzs7Ozs7Ozs7QUFTQSxBQUFPLFNBQVNBLFVBQVQsQ0FBb0JDLEdBQXBCLEVBQXlCO1NBQ3JCLE9BQU9BLEdBQVAsS0FBZSxVQUF0Qjs7Ozs7Ozs7Ozs7QUFXSixBQUFPLFNBQVNDLFFBQVQsQ0FBa0JELEdBQWxCLEVBQXVCO1NBQ25CLE9BQU9BLEdBQVAsS0FBZSxRQUF0Qjs7Ozs7Ozs7Ozs7QUFXSixBQUFPLFNBQVNFLFFBQVQsQ0FBa0JGLEdBQWxCLEVBQXVCO1NBQ25CRyxPQUFPQyxTQUFQLENBQWlCQyxRQUFqQixDQUEwQkMsSUFBMUIsQ0FBK0JOLEdBQS9CLE1BQXdDLGlCQUEvQzs7Ozs7Ozs7Ozs7QUFXSixBQUFPLFNBQVNPLFdBQVQsQ0FBcUJQLEdBQXJCLEVBQTBCO1NBQ3RCLE9BQU9BLEdBQVAsS0FBZSxXQUF0Qjs7Ozs7Ozs7Ozs7QUFXSixBQUFPLFNBQVNRLE9BQVQsQ0FBaUJSLEdBQWpCLEVBQXNCO1NBQ2xCUyxNQUFNRCxPQUFOLENBQWNSLEdBQWQsQ0FBUDs7O0FDeERKOzs7Ozs7OztBQVFBLEFBQU8sSUFB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"}