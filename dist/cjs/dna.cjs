var pn=Object.create;var ve=Object.defineProperty;var an=Object.getOwnPropertyDescriptor;var cn=Object.getOwnPropertyNames;var un=Object.getPrototypeOf,dn=Object.prototype.hasOwnProperty;var Ke=e=>ve(e,"__esModule",{value:!0});var mn=(e,t)=>{Ke(e);for(var r in t)ve(e,r,{get:t[r],enumerable:!0})},fn=(e,t,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let n of cn(t))!dn.call(e,n)&&n!=="default"&&ve(e,n,{get:()=>t[n],enumerable:!(r=an(t,n))||r.enumerable});return e},yn=e=>fn(Ke(ve(e!=null?pn(un(e)):{},"default",e&&e.__esModule&&"default"in e?{get:()=>e.default,enumerable:!0}:{value:e,enumerable:!0})),e);mn(exports,{Component:()=>tn,DOM:()=>y,Fragment:()=>Je,compile:()=>$e,connect:()=>$,css:()=>De,customElement:()=>nn,customElements:()=>R,defineListeners:()=>Ae,defineProperties:()=>Oe,defineProperty:()=>fe,delegateEventListener:()=>Me,disconnect:()=>pe,dispatchAsyncEvent:()=>Se,dispatchEvent:()=>Te,extend:()=>Qe,getProperties:()=>Q,getProperty:()=>j,h:()=>ne,html:()=>Yt,isComponent:()=>S,isComponentConstructor:()=>te,listen:()=>St,observe:()=>Nt,parseDOM:()=>sn,property:()=>Pt,render:()=>Zt,state:()=>kt,undelegateEventListener:()=>we,until:()=>ln,window:()=>U});var et=yn(require("jsdom")),U;typeof window!="undefined"?U=window:U=new et.default.JSDOM().window;var Tn=0,P=e=>typeof Symbol!="undefined"?Symbol(e):`__dna${Tn++}`,{Node:K,HTMLElement:w,Event:gn,CustomEvent:bn,document:B}=U,{DOCUMENT_NODE:Cn,TEXT_NODE:hn,COMMENT_NODE:Gn,ELEMENT_NODE:En}=K,ce=Array.isArray,ue=Array.prototype.indexOf,ie=Object.getOwnPropertyDescriptor,Pe=Object.getPrototypeOf,ke=Object.setPrototypeOf||((e,t)=>{e.__proto__=t});var de=Object.prototype.hasOwnProperty,le=Object.defineProperty,tt=K.prototype.appendChild,nt=K.prototype.removeChild,rt=K.prototype.insertBefore,ot=K.prototype.replaceChild,st=w.prototype.insertAdjacentElement,it=ie(K.prototype,"isConnected"),lt=w.prototype.getAttribute,pt=w.prototype.hasAttribute,ee=w.prototype.setAttribute,Ne=w.prototype.removeAttribute,at=w.prototype.matches||w.prototype.webkitMatchesSelector||w.prototype.msMatchesSelector,ct=B.createDocumentFragment.bind(B),He=B.createElement.bind(B),ut=B.createElementNS.bind(B),dt=B.createTextNode.bind(B),mt=B.createComment.bind(B),Le=(e,t={})=>{let r;try{r=new bn(e,t)}catch{r=B.createEvent("CustomEvent"),r.initCustomEvent(e,t.bubbles||!1,t.cancelable||!1,t.detail)}return r},_e=e=>e instanceof K,xn=e=>e&&e.nodeType===Cn,We=e=>e&&e.nodeType===hn,F=e=>e&&e.nodeType===En,ft=e=>e instanceof gn,z=it?it.get:function(){if(F(this)||We(this)){let e=this.parentNode;return e?z.call(e):!1}return!!xn(this)},yt=P(),me=e=>!!e[yt],$=e=>{if(!F(e))return;me(e)&&e.connectedCallback();let t=Z(e.childNodes);for(let r=0,n=t.length;r<n;r++)$(t[r])},pe=e=>{if(!F(e))return;me(e)&&e.disconnectedCallback();let t=Z(e.childNodes);for(let r=0,n=t.length;r<n;r++)pe(t[r])},Tt=typeof U.customElements=="undefined",gt=e=>{Tt=!0,e[yt]=!0},G=()=>Tt,Z=e=>{let t=[];t.item=r=>t[r];for(let r=e.length;r--;t.unshift(e.item(r)));return t};var Ue=P(),bt=P(),Q=e=>{let t=e[Ue]||{};return de.call(e,Ue)?t:{__proto__:t}},j=(e,t,r=!1)=>{let n=Q(e)[t];if(r&&!n)throw new Error(`Missing property ${t}`);return n},vn=e=>{let t=e.type;return t?ce(t)?t:[t]:[]},Pn=e=>{let t=e.observers||[];return e.observe?[e.observe,...t]:t},fe=(e,t,r,n)=>{let s=n,o=r.attribute||(r.attribute==null?!r.state:!1),i=e[Ue]=Q(e),p=o?typeof r.attribute=="string"?r.attribute:t:void 0,a=r.event?r.event===!0?`${t}change`:r.event:void 0,u=!!r.state,c=vn(r),m=i[t]={fromAttribute(l){if(c.indexOf(Boolean)!==-1&&(!l||l===p))return l===""||l===p;if(l){if(c.indexOf(Number)!==-1&&!isNaN(l))return parseFloat(l);if(c.indexOf(String)===-1)try{return JSON.parse(l)}catch{}}return l},toAttribute(l){if(l==null||l===!1)return null;if(typeof l!="object")return l===!0?"":`${l}`},...r,name:t,symbol:s,state:u,type:c,observers:Pn(r),attribute:p,event:a},{get:T,set:N,getter:h,setter:b}=m,M=typeof m.validate=="function"&&m.validate,L={configurable:!0,enumerable:!0,get(){let l=this[s];return T&&(l=T.call(this)),h&&(l=h.call(this,l)),l},set(l){if(!ye(this)){this[s]=l;return}let v=this[s];if(b&&(l=b.call(this,l)),N&&(N.call(this,l),l=this[s]),v===l)return;if(l!=null&&l!==!1){let f=!0;if(c.length&&(f=c.some(q=>l instanceof q||l.constructor===q)),f&&M&&(f=M.call(this,l)),!f)throw new TypeError(`Invalid \`${l}\` value for \`${String(t)}\` property`)}this[s]=l;let g=je(this,t);for(let f=0,q=g.length;f<q;f++)g[f].call(this,v,l,t);a&&this.dispatchEvent(a,{newValue:l,oldValue:v}),u?this.stateChangedCallback(t,v,l):this.propertyChangedCallback(t,v,l),this.isConnected&&this.forceUpdate()}};return le(e,t,L),L},Oe=e=>{let t={},r=e.constructor,n=r;for(;n&&n!==w;){let s=ie(n,"properties");if(s){let o=s.get?s.get.call(r)||{}:s.value;for(let i in o){if(i in t)continue;let p=o[i],a=typeof p=="function"||ce(p)?{type:p}:p,u=a.symbol||P(i);fe(e,i,a,u),t[i]=!0}}n=Pe(n)}},Ct=(e,t)=>{let r=Q(e);for(let n in r){let s=r[n];if(s.attribute===t)return s}return null},Be=(e,t,r)=>{let n=j(e,t,!0),{attribute:s,toAttribute:o}=n;if(s&&o){let i=o.call(e,r);i===null?e.removeAttribute(s):i!==void 0&&i!==e.getAttribute(s)&&e.setAttribute(s,i)}},ht=(e,t,r)=>{e.initializer=r,e.get=t.get,e.set=t.set,t.get||(e.defaultValue=t.value)},Et=(e,t,r,n)=>{let s=t.symbol||P(r);if(r!==void 0)return n=n||ie(e,r),n&&ht(t,n),fe(e,r,t,s);let o=e,i=String(o.key);return o.kind!=="field"||o.placement!=="own"?o:(o.descriptor&&ht(t,o.descriptor,o.initializer),{kind:o.kind,key:s,placement:o.placement,descriptor:{configurable:!1,writable:!0,enumerable:!1},initializer(){return this[s]},finisher(p){fe(p.prototype,i,t,s)}})},kn=(e,t,r)=>{if(r!==void 0){j(e,t,!0).observers.push(e[r]);return}let n=e;if(!n.descriptor)return n;let s=n.descriptor.value;return n.finisher=o=>{j(o.prototype,t,!0).observers.push(s)},n},Nn=e=>e[bt]=e[bt]||{},je=(e,t)=>{if(!j(e,t))throw new Error(`Missing property ${t}`);let r=Nn(e);return r[t]=r[t]||[]},xt=(e,t,r)=>{je(e,t).push(r)},vt=(e,t,r)=>{let n=je(e,t),s=n.indexOf(r);s!==-1&&n.splice(s,1)};function Pt(e={}){return(t,r,n)=>Et(t,e,r,n)}function kt(e={}){return(t,r,n)=>Et(t,{...e,state:!0},r,n)}function Nt(e){return(t,r)=>kn(t,e,r)}var y={createDocumentFragment:ct,createElement(e,t){let n=t&&t.is||e.toLowerCase(),s=He(e),o=R.get(n);return o&&te(o)&&!(s instanceof o)&&o.upgrade(s),s},createElementNS(e,t){return e==="http://www.w3.org/1999/xhtml"?this.createElement(t):ut(e,t)},createTextNode:dt,createComment(e){return mt(e||"")},createEvent(e,t={}){return Le(e,t)},appendChild(e,t,r=!0){let n=t.parentNode;if(r&&S(e)&&e.slotChildNodes){let s=e.slotChildNodes,o=s.indexOf(t);return o!==-1?s.splice(o,1):n&&y.removeChild(n,t,r),e.slotChildNodes.push(t),e.forceUpdate(),t}return G()&&n&&y.removeChild(n,t,r),tt.call(e,t),G()&&z.call(t)&&$(t),t},removeChild(e,t,r=!0){if(r&&S(e)&&e.slotChildNodes){let s=e.slotChildNodes,o=s.indexOf(t);return o!==-1&&(s.splice(o,1),e.forceUpdate()),t}let n=z.call(t);return nt.call(e,t),G()&&n&&pe(t),t},insertBefore(e,t,r,n=!0){let s=t.parentNode;if(n&&S(e)&&e.slotChildNodes){let o=e.slotChildNodes,i=o.indexOf(t);if(i!==-1?o.splice(i,1):s&&y.removeChild(s,t,n),r){let p=o.indexOf(r);p!==-1&&o.splice(p,0,t)}else o.push(t);return e.forceUpdate(),t}return G()&&s&&y.removeChild(s,t,n),rt.call(e,t,r),G()&&z.call(t)&&$(t),t},replaceChild(e,t,r,n=!0){let s=t.parentNode;if(n&&S(e)&&e.slotChildNodes){let o=e.slotChildNodes,i=o.indexOf(r);return o.splice(i,1,t),e.forceUpdate(),r}return G()&&(s&&t!==r&&y.removeChild(s,t,n),z.call(r)&&pe(r)),ot.call(e,t,r),G()&&z.call(t)&&$(t),r},insertAdjacentElement(e,t,r,n=!0){if(t==="afterbegin"){let s=S(e)&&e.slotChildNodes?e.slotChildNodes[0]:e.firstChild;return y.insertBefore(e,r,s,n)}return t==="beforeend"?y.insertBefore(e,r,null,n):st.call(e,t,r)},getAttribute(e,t){return lt.call(e,t)},hasAttribute(e,t){return pt.call(e,t)},setAttribute(e,t,r){if(me(e)){let s=e.constructor.observedAttributes;if(!(s&&s.indexOf(t)!==-1))return ee.call(e,t,r);let i=y.getAttribute(e,t);ee.call(e,t,r),e.attributeChangedCallback(t,i,r);return}return ee.call(e,t,r)},removeAttribute(e,t){if(me(e)){let n=e.constructor.observedAttributes;if(!(n&&n.indexOf(t)!==-1))return Ne.call(e,t);let o=y.getAttribute(e,t);Ne.call(e,t),e.attributeChangedCallback(t,o,null)}return Ne.call(e,t)}};var Ye=P(),qe=e=>{if(!F(e))throw new TypeError("The provided element must be a Node")},Hn=e=>{if(!ft(e))throw new TypeError("The provided object must be an Event")},Ht=e=>{if(typeof e!="string")throw new TypeError("The provided event name must be a string")},Lt=e=>{if(e!==null&&typeof e!="string")throw new TypeError("The provided selector must be a string or null")},Ot=e=>{if(typeof e!="function")throw new TypeError("The provided callback must be a function")},Ln=e=>{if(typeof e!="boolean")throw new TypeError("The provided bubbles option must be a boolean")},On=e=>{if(typeof e!="boolean")throw new TypeError("The provided cancelable option must be a boolean")},Mn=e=>{if(typeof e!="undefined"&&typeof e!="boolean")throw new TypeError("The provided composed option must be a boolean")},Me=(e,t,r,n,s)=>{let o=e;qe(e),Ht(t),Lt(r),Ot(n);let i=o[Ye]=o[Ye]||{},p=i[t]=i[t]||{descriptors:[]},a=p.descriptors;p.listener||(p.listener=u=>{if(!u.target)return;let c=u.target,m=u.stopPropagation,T=u.stopImmediatePropagation,N=!1,h=!1;u.stopPropagation=()=>(N=!0,m.call(u)),u.stopImmediatePropagation=()=>(N=!0,h=!0,T.call(u));let b=[];for(let L=0;L<a.length;L++){let{selector:l,callback:v}=a[L],g;if(l){let f=c;for(;f&&f!==e;){if(F(f)&&at.call(f,l)){g=f;break}f=f.parentNode}}else g=e;g&&b.push({target:g,callback:v})}let M;b.slice(0).sort((L,l)=>L.target===l.target?b.indexOf(L)-b.indexOf(l):L.target.contains(l.target)?b.length:-b.length).some(({callback:L,target:l})=>h||N&&l!==M?!0:(M=l,L.call(e,u,l)===!1))},e.addEventListener(t,p.listener,s)),a.push({event:t,callback:n,selector:r,target:null})},we=(e,t,r,n)=>{qe(e),Ht(t),Lt(r),Ot(n);let o=e[Ye];if(!o||!(t in o))return;let{descriptors:i,listener:p}=o[t];for(let a=0;a<i.length;a++){let u=i[a];u.selector===r&&u.callback===n&&(i.splice(a,1),i.length===0&&e.removeEventListener(t,p))}};function Mt(e,t,r,n,s){return typeof e!="string"?(Hn(e),e):(Ln(r),On(n),Mn(s),Le(e,{detail:t,bubbles:r,cancelable:n,composed:s}))}var Te=(e,t,r,n=!0,s=!0,o=!1)=>(qe(e),t=Mt(t,r,n,s,o),w.prototype.dispatchEvent.call(e,t)),Se=async(e,t,r,n=!0,s=!0,o=!1)=>{let i=Mt(t,r,n,s,o),p=[];if(i.respondWith=function(a){p.push(a())},!Te(e,i))throw new Error("Event has been canceled");return await Promise.all(p)},Ie=P(),ge=e=>{let t=e[Ie];return t?de.call(e,Ie)?t:t.slice(0):[]};function ze(e,t,r,n,s,o={}){(e[Ie]=ge(e)).push({event:t,selector:n,callback:s,target:r,options:o})}var Ae=e=>{let t=e.constructor,r=t;for(;r&&r.prototype&&r!==w&&!de.call(r.prototype,Ie);){let n=ie(r,"listeners"),s=n&&n.get;if(s){let o=s.call(t)||{};for(let i in o){let p=i.trim().split(" "),a=p.shift(),u=p.length?p.join(" "):null,c=o[i],{callback:m,target:T=null,...N}=typeof c=="object"?c:{callback:c};ze(e,a,T,u,m,N)}}r=Pe(r)}},wn=(e,t,r,n,s,o)=>{if(o!==void 0){ze(e,t,r,n,e[o],s);return}let i=e;return{...i,finisher(p){ze(p.prototype,t,r,n,p.prototype[i.key],s)}}},wt=e=>typeof e=="object"&&"addEventListener"in e;function St(e,t,r){return(n,s)=>wn(n,e,wt(t)?t:null,typeof t=="string"?t:null,(!wt(t)&&typeof t!="string"?t:r)||{},s)}var It=function(e,t,r,n){var s;t[0]=0;for(var o=1;o<t.length;o++){var i=t[o++],p=t[o]?(t[0]|=i?1:2,r[t[o++]]):t[++o];i===3?n[0]=p:i===4?n[1]=Object.assign(n[1]||{},p):i===5?(n[1]=n[1]||{})[t[++o]]=p:i===6?n[1][t[++o]]+=p+"":i?(s=e.apply(p,It(e,p,r,["",null])),n.push(s),p[0]?t[0]|=2:(t[o-2]=0,t[o]=s)):n.push(p)}return n},At=new Map;function Dt(e){var t=At.get(this);return t||(t=new Map,At.set(this,t)),(t=It(this,t.get(e)||(t.set(e,t=function(r){for(var n,s,o=1,i="",p="",a=[0],u=function(T){o===1&&(T||(i=i.replace(/^\s*\n\s*|\s*\n\s*$/g,"")))?a.push(0,T,i):o===3&&(T||i)?(a.push(3,T,i),o=2):o===2&&i==="..."&&T?a.push(4,T,0):o===2&&i&&!T?a.push(5,0,!0,i):o>=5&&((i||!T&&o===5)&&(a.push(o,0,i,s),o=6),T&&(a.push(o,T,0,s),o=6)),i=""},c=0;c<r.length;c++){c&&(o===1&&u(),u(c));for(var m=0;m<r[c].length;m++)n=r[c][m],o===1?n==="<"?(u(),a=[a],o=3):i+=n:o===4?i==="--"&&n===">"?(o=1,i=""):i=n+i[0]:p?n===p?p="":i+=n:n==='"'||n==="'"?p=n:n===">"?(u(),o=1):o&&(n==="="?(o=5,s=i,i=""):n==="/"&&(o<5||r[c][m+1]===">")?(u(),o===3&&(a=a[0]),o=a,(a=a[0]).push(2,0,o),o=0):n===" "||n==="	"||n===`
`||n==="\r"?(u(),o=2):i+=n),o===3&&i==="!--"&&(o=4,a=a[0])}return u(),a}(e)),t),arguments,[])).length>1?t:t[0]}var Ft=P(),Rt=e=>typeof e.then=="function",be=e=>{let t=e[Ft];if(t)return t;let r=e[Ft]={pending:!0};return e.then(n=>{r.result=n,r.pending=!1}).catch(n=>{r.result=n,r.pending=!1}),r};var _t=P(),Wt=e=>typeof e.subscribe=="function",Ut=e=>{let t=e[_t];if(t)return t;let r=e[_t]={complete:!1,errored:!1};return e.subscribe(n=>{r.current=n,r.errored=!1},n=>{r.current=n,r.errored=!0},()=>{r.complete=!0}),r};var Bt={},Sn=/:host(\(([^({)]+(\([^)]*\))?)+\))?/g,In=/\s*\/\*[^*]*\*+([^/*][^*]*\*+)*\/\s*/g,An=/(#|\*|\.|@|\[|[a-zA-Z])([^{;}]*){/g,De=(e,t,r)=>{if(typeof e!="string")throw new TypeError("The provided name must be a string");if(typeof t!="string")throw new TypeError("The provided CSS text must be a string");let n=Bt[e]=Bt[e]||{},s=r&&r!==e?`${r}[is="${e}"]`:e;return t in n?n[t]:n[t]=t.replace(In,`
`).replace(Sn,(o,i)=>`${s}${i?i.slice(1,-1).replace(":defined","[:defined]"):""}`).replace(An,o=>(o=o.trim(),o[0]==="@"?o:o.split(",").map(i=>(i=i.trim(),i.indexOf(s)===0?i:`${s} ${i}`)).join(",")))};var jt=Dt.bind(ne),$e=e=>{let t=[e];return t.raw=[e],jt(t)};function Yt(e,...t){return typeof e=="string"?$e(e):jt(e,...t)}var J=P(),Je=P(),Dn=e=>typeof e=="object"&&!!e[J],Fn=e=>!!e.isFragment,Rn=e=>!!e.Function,Xe=e=>!!e.Component,_n=e=>!!e.node,Wn=e=>!!e.isSlot,Un=e=>!!e.tag;function ne(e,t=null,...r){let{is:n,key:s,xmlns:o}=t||{};if(e===Je)return{isFragment:!0,children:r,[J]:!0};if(_e(e))return{node:e,key:s,namespaceURI:o,properties:t||{},children:r,[J]:!0};if(typeof e=="string"){if(e==="svg")return{tag:e,key:s,namespaceURI:"http://www.w3.org/2000/svg",properties:t,children:r,[J]:!0};if(e==="slot")return{tag:e,isSlot:!0,key:s,properties:t||{},children:r,[J]:!0};let i=R.get(n||e);return i?{Component:i,key:s,namespaceURI:o,properties:t||{},children:r,[J]:!0}:{tag:e,key:s,namespaceURI:o,properties:t||{},children:r,[J]:!0}}return Qt(e)?{Component:e,key:s,namespaceURI:o,properties:t||{},children:r,[J]:!0}:{Function:e,key:s,namespaceURI:o,properties:t||{},children:r,[J]:!0}}var qt=P(),Bn=(e,t)=>e[qt]=t,jn=(e,t)=>{let r=F(e),n=!r&&We(e),s=e.is,o=new Map;return Bn(e,{node:e,isElement:r,isText:n,tagName:r?e.tagName.toLowerCase():void 0,childNodes:r?e.childNodes:void 0,is:s,properties:[new WeakMap,new WeakMap],store:o,fragments:[],requestUpdate:t,__proto__:{get size(){return o.size},has:o.has.bind(o),get:o.get.bind(o),set:o.set.bind(o),delete:o.delete.bind(o),clear:o.clear.bind(o),forEach:o.forEach.bind(o)}})},A=(e,t)=>e[qt]||jn(e,t),Ge=e=>{let t=e.fragments,r=t.length;for(;r--;)Ge(t.pop());return t},zt={},$t=e=>{let t=[];if(!e)return t;if(typeof e=="object"){for(let r in e)e[r]&&t.push(r);return t}return zt[e]=zt[e]||e.toString().trim().split(" ")},Jt={},Xt=e=>{let t={};if(!e)return t;if(typeof e=="object"){for(let r in e){let n=r.replace(/[A-Z]/g,s=>`-${s.toLowerCase()}`);t[n]=e[r]}return t}return Jt[e]=Jt[e]||e.toString().split(";").reduce((r,n)=>{let s=n.split(":");return s.length>1&&(r[s.shift().trim()]=s.join(":").trim()),r},t)},Gt=(e,t)=>(t==="checked"||t==="value")&&e.tagName==="INPUT",Yn=(e,t)=>{for(let r in e)r in t||(t[r]=void 0);return t},Ce=(e,t,r)=>{e[t]=r},he=(e,t,r=S(e),n,s=e.namespaceURI||"http://www.w3.org/1999/xhtml",o,i,p)=>{let a=n||A(e),u=i||a,c;if(r&&a.slotChildNodes?c=a.slotChildNodes:(c=a.childNodes||e.childNodes,a.is&&(o=a)),!c)return c;let m,T=p,N;p?(m=ue.call(c,p.start),N=p.end):(Ge(a),m=0);let h=c.item(m),b=h?A(h):null,M=(l,v)=>{if(l==null||l===!1)return;if(ce(l)){for(let H=0,re=l.length;H<re;H++)M(l[H],v);return}let g,f,q,Re=s;if(Dn(l)){if(Fn(l)){M(l.children,v);return}if(Rn(l)){let{Function:C,properties:I,children:D}=l,X=p,se=a,_=T,x=a.fragments,O;p?O=p.start:b&&b.Function===C?O=b.start:O=y.createComment(C.name);let d=A(O,()=>x.indexOf(d)===-1?!1:(he(e,l,r,se,s,o,u,d),!0));Ge(d),d.Function=C,d.start=O,a=d,T=d,p=void 0,M([O,C({children:D,...I},d,d.requestUpdate.bind(d),()=>x.indexOf(d)!==-1,d)],v),p=X,d.end=c.item(m-1),a=se,T=_,p?(x.splice(x.indexOf(p),1,d),p=d):x.push(d);return}if(Wn(l)){if(o){let{properties:C,children:I}=l,D=o.slotChildNodes;if(D)for(let _=0,x=D.length;_<x;_++){let O=D.item(_),d=A(O);d.root||(d.root=o)}let X=C.name;M(D||[],_=>A(_).root===o&&F(_)?X?_.getAttribute("slot")===X:!_.getAttribute("slot"):!X),c.length||M(I)}return}let{key:H,children:re,namespaceURI:V}=l;if(_n(l))g=l.node;else{Re=V||s;e:if(b){let C=b.key;if(C!=null&&H!=null&&H!==C){if(y.removeChild(e,h,r),h=c.item(m),b=h?A(h):null,!b)break e;C=b.key}if(T&&h){let I=ue.call(c,h),D=ue.call(c,T.end);if(I!==-1&&I>D)break e}H!=null||C!=null?H===C&&(g=h,f=b):(Xe(l)&&h instanceof l.Component||Un(l)&&b.tagName===l.tag)&&(g=h,f=b)}g||(Xe(l)?g=new l.Component:g=y.createElementNS(Re,l.tag))}let k=g;f=f||A(g);let oe=f.properties[r?1:0],Ee=oe.get(u)||{},ae=Yn(Ee,l.properties);oe.set(u,ae),H!=null&&(f.key=H);let E;for(E in ae){if(E==="is"||E==="key"||E==="children"||E==="xmlns")continue;let C=ae[E],I=Ee[E];if(I===C){Gt(k,E)&&Ce(k,E,C);continue}if(E==="style"){let x=k.style,O=Xt(Ee.style),d=Xt(ae.style);for(let W in O)W in d||x.removeProperty(W);for(let W in d)x.setProperty(W,d[W]);continue}else if(E==="class"){let x=k.classList,O=$t(ae.class);if(I){let d=$t(Ee.class);for(let W=0,xe=d.length;W<xe;W++){let Ve=d[W];O.indexOf(Ve)===-1&&x.remove(Ve)}}for(let d=0,W=O.length;d<W;d++){let xe=O[d];x.contains(xe)||x.add(xe)}continue}else if(E[0]==="o"&&E[1]==="n"&&!(E in k.constructor.prototype)){let x=E.substr(2);I&&k.removeEventListener(x,I),C&&k.addEventListener(x,C);continue}let D=typeof C,X=typeof I,se=C&&D==="object"||D==="function";if(se||(I&&X==="object"||X==="function")||Gt(k,E))Ce(k,E,C);else if(Xe(l)){let x=l.Component;if(D==="string"){let O=x.observedAttributes;if(!O||O.indexOf(E)===-1)Ce(k,E,C);else{let d=j(x.prototype,E);d&&d.fromAttribute&&Ce(k,E,d.fromAttribute(C))}}else Ce(k,E,C)}if(C==null||C===!1)k.hasAttribute(E)&&k.removeAttribute(E);else if(!se){let x=C===!0?"":C.toString();k.getAttribute(E)!==x&&k.setAttribute(E,x)}}q=re}else if(Rt(l)){M(ne((H,re)=>{let V=be(l);return V.pending&&l.catch(()=>1).then(()=>{re.requestUpdate()}),V.result},null),v);return}else if(Wt(l)){let H=l;M(ne((re,V)=>{let k=Ut(H);if(!k.complete){let oe=H.subscribe(()=>{V.requestUpdate()||oe.unsubscribe()},()=>{V.requestUpdate()||oe.unsubscribe()},()=>{oe.unsubscribe()})}return k.current},null),v);return}else if(_e(l))g=l;else{if(typeof l=="string"&&o&&a.tagName==="style"){let H=o.is;l=De(H,l,R.tagNames[H]),e.setAttribute("name",H)}b&&b.isText?(g=h,g.textContent!=l&&(g.textContent=l)):g=y.createTextNode(l)}v&&!v(g)||(g!==h?(y.insertBefore(e,g,h,r),m++):(h=c.item(++m),b=h?A(h):null),F(g)&&q&&f&&(f.parent&&f.parent===u||q.length)&&(f.parent=u,he(g,q,S(g),f,Re,o,u)))};M(t);let L;for(N?L=ue.call(c,N)+1:L=c.length;m<L;){let l=c.item(--L);if(r){let v=A(l);v.root===o&&delete v.root,v.parent===u&&delete v.parent}y.removeChild(e,l,r)}return c},Zt=(e,t=y.createDocumentFragment(),r=S(t))=>{let n=he(t,e,r);if(!!n)return n.length<2?n[0]:Z(n)};var Ze=P(),Vt=P(),S=e=>!!e[Ze],ye=e=>!!e[Vt],Kt=e=>{e[Vt]=!0},te=e=>!!e.prototype[Ze];function en(e){let t=A(e),r=e.ownerDocument;if(!e.childNodes.length&&r.readyState==="loading")return;let n=Z(e.childNodes);for(let s=0,o=n.length;s<o;s++)e.removeChild(n[s]);return t.slotChildNodes=n,n}var qn=e=>{let t=class extends e{static get observedAttributes(){let n=Q(this.prototype),s=[];for(let o in n){let i=n[o];i&&i.attribute&&!i.state&&s.push(i.attribute)}return s}static upgrade(n){return new this(n)}get is(){}get isConnected(){return z.call(this)}get slotChildNodes(){return A(this).slotChildNodes}constructor(...n){super();let s=F(n[0])&&n[0],o=s?n[1]:n[0],i=s?(ke(s,this),s):this,p=A(i);p.is=i.is,en(i);let a=ge(this);for(let c=0,m=a.length;c<m;c++){let{event:T,target:N,selector:h,callback:b,options:M}=a[c];N||i.delegateEventListener(T,h,b,M)}let u=Q(this);for(let c in u){delete i[c];let m=u[c];typeof m.initializer=="function"?i[c]=m.initializer.call(i):typeof m.defaultValue!="undefined"&&(i[c]=m.defaultValue);let T=m.observers;for(let N=0;N<T.length;N++)i.observe(c,T[N])}return i.initialize(o),i}initialize(n){if(Kt(this),n)for(let s in n)this[s]=n[s]}connectedCallback(){this.is!==this.localName&&ee.call(this,"is",this.is),ee.call(this,":defined","");let n=ge(this);for(let s=0,o=n.length;s<o;s++){let{event:i,target:p,callback:a,options:u}=n[s];p&&p.addEventListener(i,a,u)}this.forceUpdate()}disconnectedCallback(){let n=ge(this);for(let s=0,o=n.length;s<o;s++){let{event:i,target:p,callback:a,options:u}=n[s];p&&p.removeEventListener(i,a,u)}}attributeChangedCallback(n,s,o){let i=Ct(this,n);if(!i)return;let{name:p,attribute:a,fromAttribute:u}=i;a&&u&&(this[p]=u.call(this,o))}stateChangedCallback(n,s,o){Be(this,n,o)}propertyChangedCallback(n,s,o){Be(this,n,o)}getInnerPropertyValue(n){let s=j(this,n,!0);return this[s.symbol]}setInnerPropertyValue(n,s){let o=j(this,n,!0);this[o.symbol]=s}observe(n,s){xt(this,n,s)}unobserve(n,s){vt(this,n,s)}dispatchEvent(n,s,o,i,p){return Te(this,n,s,o,i,p)}dispatchAsyncEvent(n,s,o,i,p){return Se(this,n,s,o,i,p)}delegateEventListener(n,s,o,i){return Me(this,n,s,o,i)}undelegateEventListener(n,s,o){return we(this,n,s,o)}render(){return this.slotChildNodes}forceUpdate(){(this.slotChildNodes||en(this))&&he(this,this.render(),!1)}appendChild(n){return y.appendChild(this,n)}removeChild(n){return y.removeChild(this,n)}insertBefore(n,s){return y.insertBefore(this,n,s)}replaceChild(n,s){return y.replaceChild(this,n,s)}insertAdjacentElement(n,s){return y.insertAdjacentElement(this,n,s)}setAttribute(n,s){return y.setAttribute(this,n,s)}removeAttribute(n){return y.removeAttribute(this,n)}};return le(t.prototype,Ze,{get(){return!0}}),t},zn=e=>{let t=function(...r){let n=this.constructor,s=this.is;if(!s)throw new TypeError("Illegal constructor");let o=R.tagNames[s],i;return R.native&&!n.shim&&(i=Reflect.construct(e,r,n),o===i.localName)||(i=He(o),ke(i,n.prototype),gt(i)),i};return ke(t,e),t.apply=Function.apply,t.call=Function.call,t.prototype=e.prototype,t},Qe=e=>qn(zn(e)),tn=Qe(w),nn=(e,t)=>r=>{let n=i=>{let p=class extends i{constructor(...a){super(...a);Kt(this),this.initialize(this.initProps)}initialize(a){if(!ye(this)){this.initProps=a;return}return super.initialize(a)}};return R.define(e,p,t),p};if(typeof r=="function")return n(r);let{kind:s,elements:o}=r;return{kind:s,elements:o,finisher(i){return n(i)}}};var Y=U.customElements,Fe=U.document,rn=e=>!!e&&e.indexOf("-")>=1&&/[a-z\-\d]/.test(e)&&/^[^\d]/i.test(e),Qt=e=>e.prototype instanceof U.HTMLElement,on=class{constructor(){this.native=!!Y;this.registry={};this.tagNames={};this.queue={}}get(t){let r=this.registry[t];return!r&&Y&&rn(t)&&(r=Y.get(t)),r}define(t,r,n={}){if(!rn(t))throw new SyntaxError("The provided name must be a valid Custom Element name");if(typeof r!="function")throw new TypeError("The referenced constructor must be a constructor");if(this.registry[t])throw new Error("The registry already contains an entry with the same name");te(r)&&(Oe(r.prototype),Ae(r.prototype));try{le(r.prototype,"is",{writable:!1,configurable:!1,value:t})}catch{throw new Error("The registry already contains an entry with the constructor (or is otherwise already defined)")}let s=(n.extends||t).toLowerCase();if(this.registry[t]=r,this.tagNames[t]=s,Y){let o=r.shim;s!==t&&(r.shim=!0,n={get extends(){return r.shim=o,s}}),Y.define(t,r,n)}else{let o=this.queue;Fe.body&&this.upgrade(Fe.body);let i=o[t];if(i)for(let p=0,a=i.length;p<a;p++)i[p](r)}}whenDefined(t){if(Y)return Y.whenDefined(t).then(()=>Y.get(t));if(this.registry[t])return Promise.resolve(this.registry[t]);let r=this.queue;return new Promise(s=>{r[t]=r[t]||[],r[t].push(s)})}upgrade(t){let r=(t.getAttribute("is")||t.tagName).toLowerCase(),n=this.get(r),s=t.children;for(let o=0,i=s.length;o<i;o++)this.upgrade(s[o]);if(!!n){if(Y&&"upgrade"in Y&&Y.upgrade(t),S(t)){ye(t)&&t.forceUpdate();return}if(te(n)){let o=[],i=n.observedAttributes||[];for(let a=0,u=t.attributes.length;a<u;a++){let c=t.attributes[a];i.indexOf(c.name)!==-1&&o.push({name:c.name,value:c.value})}let p=n.upgrade(t);for(let a=0,u=o.length;a<u;a++){let{name:c,value:m}=o[a];p.getAttribute(c)===m?p.attributeChangedCallback(c,null,m):p.setAttribute(c,m)}p.isConnected&&$(p),p.forceUpdate()}}}},R=new on;Fe.addEventListener("DOMContentLoaded",()=>{R.upgrade(Fe.body)});var sn=e=>{let t=e;return ne((r,{store:n})=>{if(n.get("source")===t)return n.get("dom");let s=y.createElement("div");s.innerHTML=t,customElements.upgrade(s);let o=Z(s.childNodes);return n.set("source",t),n.set("dom",o),o},null)},ln=(e,t)=>{let r=be(e),n=e.then(()=>!1).catch(()=>!1),s=be(n);return s.result=r.pending&&t,n};0&&(module.exports={Component,DOM,Fragment,compile,connect,css,customElement,customElements,defineListeners,defineProperties,defineProperty,delegateEventListener,disconnect,dispatchAsyncEvent,dispatchEvent,extend,getProperties,getProperty,h,html,isComponent,isComponentConstructor,listen,observe,parseDOM,property,render,state,undelegateEventListener,until,window});
//# sourceMappingURL=dna.cjs.map
