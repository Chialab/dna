import Xt from"jsdom";var j;typeof window!="undefined"?j=window:j=new Xt.JSDOM().window;var Gt=0,P=e=>typeof Symbol!="undefined"?Symbol(e):`__dna${Gt++}`,{Node:V,HTMLElement:w,Event:Zt,CustomEvent:Qt,document:W}=j,{DOCUMENT_NODE:Vt,TEXT_NODE:Kt,COMMENT_NODE:Wn,ELEMENT_NODE:en}=V,ae=Array.isArray,ce=Array.prototype.indexOf,oe=Object.getOwnPropertyDescriptor,Ee=Object.getPrototypeOf,xe=Object.setPrototypeOf||((e,t)=>{e.__proto__=t});var ue=Object.prototype.hasOwnProperty,se=Object.defineProperty,Ge=V.prototype.appendChild,Ze=V.prototype.removeChild,Qe=V.prototype.insertBefore,Ve=V.prototype.replaceChild,Ke=w.prototype.insertAdjacentElement,et=oe(V.prototype,"isConnected"),tt=w.prototype.getAttribute,nt=w.prototype.hasAttribute,K=w.prototype.setAttribute,ve=w.prototype.removeAttribute,rt=w.prototype.matches||w.prototype.webkitMatchesSelector||w.prototype.msMatchesSelector,ot=W.createDocumentFragment.bind(W),Pe=W.createElement.bind(W),st=W.createElementNS.bind(W),it=W.createTextNode.bind(W),lt=W.createComment.bind(W),ke=(e,t={})=>{let r;try{r=new Qt(e,t)}catch{r=W.createEvent("CustomEvent"),r.initCustomEvent(e,t.bubbles||!1,t.cancelable||!1,t.detail)}return r},we=e=>e instanceof V,tn=e=>e&&e.nodeType===Vt,Se=e=>e&&e.nodeType===Kt,F=e=>e&&e.nodeType===en,pt=e=>e instanceof Zt,z=et?et.get:function(){if(F(this)||Se(this)){let e=this.parentNode;return e?z.call(e):!1}return!!tn(this)},at=P(),de=e=>!!e[at],X=e=>{if(!F(e))return;de(e)&&e.connectedCallback();let t=Z(e.childNodes);for(let r=0,n=t.length;r<n;r++)X(t[r])},me=e=>{if(!F(e))return;de(e)&&e.disconnectedCallback();let t=Z(e.childNodes);for(let r=0,n=t.length;r<n;r++)me(t[r])},ct=typeof j.customElements=="undefined",ut=e=>{ct=!0,e[at]=!0},G=()=>ct,Z=e=>{let t=[];t.item=r=>t[r];for(let r=e.length;r--;t.unshift(e.item(r)));return t};var Ie=P(),dt=P(),ee=e=>{let t=e[Ie]||{};return ue.call(e,Ie)?t:{__proto__:t}},Y=(e,t,r=!1)=>{let n=ee(e)[t];if(r&&!n)throw new Error(`Missing property ${t}`);return n},nn=e=>{let t=e.type;return t?ae(t)?t:[t]:[]},rn=e=>{let t=e.observers||[];return e.observe?[e.observe,...t]:t},Ne=(e,t,r,n)=>{let s=n,o=r.attribute||(r.attribute==null?!r.state:!1),i=e[Ie]=ee(e),p=o?typeof r.attribute=="string"?r.attribute:t:void 0,a=r.event?r.event===!0?`${t}change`:r.event:void 0,u=!!r.state,c=nn(r),m=i[t]={fromAttribute(l){if(c.indexOf(Boolean)!==-1&&(!l||l===p))return l===""||l===p;if(l){if(c.indexOf(Number)!==-1&&!isNaN(l))return parseFloat(l);if(c.indexOf(String)===-1)try{return JSON.parse(l)}catch{}}return l},toAttribute(l){if(l==null||l===!1)return null;if(typeof l!="object")return l===!0?"":`${l}`},...r,name:t,symbol:s,state:u,type:c,observers:rn(r),attribute:p,event:a},{get:y,set:N,getter:h,setter:b}=m,M=typeof m.validate=="function"&&m.validate,L={configurable:!0,enumerable:!0,get(){let l=this[s];return y&&(l=y.call(this)),h&&(l=h.call(this,l)),l},set(l){if(!fe(this)){this[s]=l;return}let v=this[s];if(b&&(l=b.call(this,l)),N&&(N.call(this,l),l=this[s]),v===l)return;if(l!=null&&l!==!1){let f=!0;if(c.length&&(f=c.some(q=>l instanceof q||l.constructor===q)),f&&M&&(f=M.call(this,l)),!f)throw new TypeError(`Invalid \`${l}\` value for \`${String(t)}\` property`)}this[s]=l;let T=Fe(this,t);for(let f=0,q=T.length;f<q;f++)T[f].call(this,v,l,t);a&&this.dispatchEvent(a,{newValue:l,oldValue:v}),u?this.stateChangedCallback(t,v,l):this.propertyChangedCallback(t,v,l),this.isConnected&&this.forceUpdate()}};return se(e,t,L),L},Ae=e=>{let t={},r=e.constructor,n=r;for(;n&&n!==w;){let s=oe(n,"properties");if(s){let o=s.get?s.get.call(r)||{}:s.value;for(let i in o){if(i in t)continue;let p=o[i],a=typeof p=="function"||ae(p)?{type:p}:p,u=a.symbol||P(i);Ne(e,i,a,u),t[i]=!0}}n=Ee(n)}},mt=(e,t)=>{let r=ee(e);for(let n in r){let s=r[n];if(s.attribute===t)return s}return null},De=(e,t,r)=>{let n=Y(e,t,!0),{attribute:s,toAttribute:o}=n;if(s&&o){let i=o.call(e,r);i===null?e.removeAttribute(s):i!==void 0&&i!==e.getAttribute(s)&&e.setAttribute(s,i)}},ft=(e,t,r)=>{e.initializer=r,e.get=t.get,e.set=t.set,t.get||(e.defaultValue=t.value)},yt=(e,t,r,n)=>{let s=t.symbol||P(r);if(r!==void 0)return n=n||oe(e,r),n&&ft(t,n),Ne(e,r,t,s);let o=e,i=String(o.key);return o.kind!=="field"||o.placement!=="own"?o:(o.descriptor&&ft(t,o.descriptor,o.initializer),{kind:o.kind,key:s,placement:o.placement,descriptor:{configurable:!1,writable:!0,enumerable:!1},initializer(){return this[s]},finisher(p){Ne(p.prototype,i,t,s)}})},on=(e,t,r)=>{if(r!==void 0){Y(e,t,!0).observers.push(e[r]);return}let n=e;if(!n.descriptor)return n;let s=n.descriptor.value;return n.finisher=o=>{Y(o.prototype,t,!0).observers.push(s)},n},sn=e=>e[dt]=e[dt]||{},Fe=(e,t)=>{if(!Y(e,t))throw new Error(`Missing property ${t}`);let r=sn(e);return r[t]=r[t]||[]},Tt=(e,t,r)=>{Fe(e,t).push(r)},gt=(e,t,r)=>{let n=Fe(e,t),s=n.indexOf(r);s!==-1&&n.splice(s,1)};function ln(e={}){return(t,r,n)=>yt(t,e,r,n)}function pn(e={}){return(t,r,n)=>yt(t,{...e,state:!0},r,n)}function an(e){return(t,r)=>on(t,e,r)}var g={createDocumentFragment:ot,createElement(e,t){let n=t&&t.is||e.toLowerCase(),s=Pe(e),o=U.get(n);return o&&ie(o)&&!(s instanceof o)&&o.upgrade(s),s},createElementNS(e,t){return e==="http://www.w3.org/1999/xhtml"?this.createElement(t):st(e,t)},createTextNode:it,createComment(e){return lt(e||"")},createEvent(e,t={}){return ke(e,t)},appendChild(e,t,r=!0){let n=t.parentNode;if(r&&I(e)&&e.slotChildNodes){let s=e.slotChildNodes,o=s.indexOf(t);return o!==-1?s.splice(o,1):n&&g.removeChild(n,t,r),e.slotChildNodes.push(t),e.forceUpdate(),t}return G()&&n&&g.removeChild(n,t,r),Ge.call(e,t),G()&&z.call(t)&&X(t),t},removeChild(e,t,r=!0){if(r&&I(e)&&e.slotChildNodes){let s=e.slotChildNodes,o=s.indexOf(t);return o!==-1&&(s.splice(o,1),e.forceUpdate()),t}let n=z.call(t);return Ze.call(e,t),G()&&n&&me(t),t},insertBefore(e,t,r,n=!0){let s=t.parentNode;if(n&&I(e)&&e.slotChildNodes){let o=e.slotChildNodes,i=o.indexOf(t);if(i!==-1?o.splice(i,1):s&&g.removeChild(s,t,n),r){let p=o.indexOf(r);p!==-1&&o.splice(p,0,t)}else o.push(t);return e.forceUpdate(),t}return G()&&s&&g.removeChild(s,t,n),Qe.call(e,t,r),G()&&z.call(t)&&X(t),t},replaceChild(e,t,r,n=!0){let s=t.parentNode;if(n&&I(e)&&e.slotChildNodes){let o=e.slotChildNodes,i=o.indexOf(r);return o.splice(i,1,t),e.forceUpdate(),r}return G()&&(s&&t!==r&&g.removeChild(s,t,n),z.call(r)&&me(r)),Ve.call(e,t,r),G()&&z.call(t)&&X(t),r},insertAdjacentElement(e,t,r,n=!0){if(t==="afterbegin"){let s=I(e)&&e.slotChildNodes?e.slotChildNodes[0]:e.firstChild;return g.insertBefore(e,r,s,n)}return t==="beforeend"?g.insertBefore(e,r,null,n):Ke.call(e,t,r)},getAttribute(e,t){return tt.call(e,t)},hasAttribute(e,t){return nt.call(e,t)},setAttribute(e,t,r){if(de(e)){let s=e.constructor.observedAttributes;if(!(s&&s.indexOf(t)!==-1))return K.call(e,t,r);let i=g.getAttribute(e,t);K.call(e,t,r),e.attributeChangedCallback(t,i,r);return}return K.call(e,t,r)},removeAttribute(e,t){if(de(e)){let n=e.constructor.observedAttributes;if(!(n&&n.indexOf(t)!==-1))return ve.call(e,t);let o=g.getAttribute(e,t);ve.call(e,t),e.attributeChangedCallback(t,o,null)}return ve.call(e,t)}};var Re=P(),_e=e=>{if(!F(e))throw new TypeError("The provided element must be a Node")},cn=e=>{if(!pt(e))throw new TypeError("The provided object must be an Event")},bt=e=>{if(typeof e!="string")throw new TypeError("The provided event name must be a string")},Ct=e=>{if(e!==null&&typeof e!="string")throw new TypeError("The provided selector must be a string or null")},ht=e=>{if(typeof e!="function")throw new TypeError("The provided callback must be a function")},un=e=>{if(typeof e!="boolean")throw new TypeError("The provided bubbles option must be a boolean")},dn=e=>{if(typeof e!="boolean")throw new TypeError("The provided cancelable option must be a boolean")},mn=e=>{if(typeof e!="undefined"&&typeof e!="boolean")throw new TypeError("The provided composed option must be a boolean")},We=(e,t,r,n,s)=>{let o=e;_e(e),bt(t),Ct(r),ht(n);let i=o[Re]=o[Re]||{},p=i[t]=i[t]||{descriptors:[]},a=p.descriptors;p.listener||(p.listener=u=>{if(!u.target)return;let c=u.target,m=u.stopPropagation,y=u.stopImmediatePropagation,N=!1,h=!1;u.stopPropagation=()=>(N=!0,m.call(u)),u.stopImmediatePropagation=()=>(N=!0,h=!0,y.call(u));let b=[];for(let L=0;L<a.length;L++){let{selector:l,callback:v}=a[L],T;if(l){let f=c;for(;f&&f!==e;){if(F(f)&&rt.call(f,l)){T=f;break}f=f.parentNode}}else T=e;T&&b.push({target:T,callback:v})}let M;b.slice(0).sort((L,l)=>L.target===l.target?b.indexOf(L)-b.indexOf(l):L.target.contains(l.target)?b.length:-b.length).some(({callback:L,target:l})=>h||N&&l!==M?!0:(M=l,L.call(e,u,l)===!1))},e.addEventListener(t,p.listener,s)),a.push({event:t,callback:n,selector:r,target:null})},Ue=(e,t,r,n)=>{_e(e),bt(t),Ct(r),ht(n);let o=e[Re];if(!o||!(t in o))return;let{descriptors:i,listener:p}=o[t];for(let a=0;a<i.length;a++){let u=i[a];u.selector===r&&u.callback===n&&(i.splice(a,1),i.length===0&&e.removeEventListener(t,p))}};function Et(e,t,r,n,s){return typeof e!="string"?(cn(e),e):(un(r),dn(n),mn(s),ke(e,{detail:t,bubbles:r,cancelable:n,composed:s}))}var He=(e,t,r,n=!0,s=!0,o=!1)=>(_e(e),t=Et(t,r,n,s,o),w.prototype.dispatchEvent.call(e,t)),Be=async(e,t,r,n=!0,s=!0,o=!1)=>{let i=Et(t,r,n,s,o),p=[];if(i.respondWith=function(a){p.push(a())},!He(e,i))throw new Error("Event has been canceled");return await Promise.all(p)},Le=P(),ye=e=>{let t=e[Le];return t?ue.call(e,Le)?t:t.slice(0):[]};function je(e,t,r,n,s,o={}){(e[Le]=ye(e)).push({event:t,selector:n,callback:s,target:r,options:o})}var Ye=e=>{let t=e.constructor,r=t;for(;r&&r.prototype&&r!==w&&!ue.call(r.prototype,Le);){let n=oe(r,"listeners"),s=n&&n.get;if(s){let o=s.call(t)||{};for(let i in o){let p=i.trim().split(" "),a=p.shift(),u=p.length?p.join(" "):null,c=o[i],{callback:m,target:y=null,...N}=typeof c=="object"?c:{callback:c};je(e,a,y,u,m,N)}}r=Ee(r)}},fn=(e,t,r,n,s,o)=>{if(o!==void 0){je(e,t,r,n,e[o],s);return}let i=e;return{...i,finisher(p){je(p.prototype,t,r,n,p.prototype[i.key],s)}}},xt=e=>typeof e=="object"&&"addEventListener"in e;function yn(e,t,r){return(n,s)=>fn(n,e,xt(t)?t:null,typeof t=="string"?t:null,(!xt(t)&&typeof t!="string"?t:r)||{},s)}var vt=function(e,t,r,n){var s;t[0]=0;for(var o=1;o<t.length;o++){var i=t[o++],p=t[o]?(t[0]|=i?1:2,r[t[o++]]):t[++o];i===3?n[0]=p:i===4?n[1]=Object.assign(n[1]||{},p):i===5?(n[1]=n[1]||{})[t[++o]]=p:i===6?n[1][t[++o]]+=p+"":i?(s=e.apply(p,vt(e,p,r,["",null])),n.push(s),p[0]?t[0]|=2:(t[o-2]=0,t[o]=s)):n.push(p)}return n},Pt=new Map;function kt(e){var t=Pt.get(this);return t||(t=new Map,Pt.set(this,t)),(t=vt(this,t.get(e)||(t.set(e,t=function(r){for(var n,s,o=1,i="",p="",a=[0],u=function(y){o===1&&(y||(i=i.replace(/^\s*\n\s*|\s*\n\s*$/g,"")))?a.push(0,y,i):o===3&&(y||i)?(a.push(3,y,i),o=2):o===2&&i==="..."&&y?a.push(4,y,0):o===2&&i&&!y?a.push(5,0,!0,i):o>=5&&((i||!y&&o===5)&&(a.push(o,0,i,s),o=6),y&&(a.push(o,y,0,s),o=6)),i=""},c=0;c<r.length;c++){c&&(o===1&&u(),u(c));for(var m=0;m<r[c].length;m++)n=r[c][m],o===1?n==="<"?(u(),a=[a],o=3):i+=n:o===4?i==="--"&&n===">"?(o=1,i=""):i=n+i[0]:p?n===p?p="":i+=n:n==='"'||n==="'"?p=n:n===">"?(u(),o=1):o&&(n==="="?(o=5,s=i,i=""):n==="/"&&(o<5||r[c][m+1]===">")?(u(),o===3&&(a=a[0]),o=a,(a=a[0]).push(2,0,o),o=0):n===" "||n==="	"||n===`
`||n==="\r"?(u(),o=2):i+=n),o===3&&i==="!--"&&(o=4,a=a[0])}return u(),a}(e)),t),arguments,[])).length>1?t:t[0]}var Nt=P(),Ht=e=>typeof e.then=="function",Te=e=>{let t=e[Nt];if(t)return t;let r=e[Nt]={pending:!0};return e.then(n=>{r.result=n,r.pending=!1}).catch(n=>{r.result=n,r.pending=!1}),r};var Lt=P(),Ot=e=>typeof e.subscribe=="function",Mt=e=>{let t=e[Lt];if(t)return t;let r=e[Lt]={complete:!1,errored:!1};return e.subscribe(n=>{r.current=n,r.errored=!1},n=>{r.current=n,r.errored=!0},()=>{r.complete=!0}),r};var wt={},Tn=/:host(\(([^({)]+(\([^)]*\))?)+\))?/g,gn=/\s*\/\*[^*]*\*+([^/*][^*]*\*+)*\/\s*/g,bn=/(#|\*|\.|@|\[|[a-zA-Z])([^{;}]*){/g,qe=(e,t,r)=>{if(typeof e!="string")throw new TypeError("The provided name must be a string");if(typeof t!="string")throw new TypeError("The provided CSS text must be a string");let n=wt[e]=wt[e]||{},s=r&&r!==e?`${r}[is="${e}"]`:e;return t in n?n[t]:n[t]=t.replace(gn,`
`).replace(Tn,(o,i)=>`${s}${i?i.slice(1,-1).replace(":defined","[:defined]"):""}`).replace(bn,o=>(o=o.trim(),o[0]==="@"?o:o.split(",").map(i=>(i=i.trim(),i.indexOf(s)===0?i:`${s} ${i}`)).join(",")))};var St=kt.bind(le),It=e=>{let t=[e];return t.raw=[e],St(t)};function Cn(e,...t){return typeof e=="string"?It(e):St(e,...t)}var $=P(),At=P(),hn=e=>typeof e=="object"&&!!e[$],En=e=>!!e.isFragment,xn=e=>!!e.Function,ze=e=>!!e.Component,vn=e=>!!e.node,Pn=e=>!!e.isSlot,kn=e=>!!e.tag;function le(e,t=null,...r){let{is:n,key:s,xmlns:o}=t||{};if(e===At)return{isFragment:!0,children:r,[$]:!0};if(we(e))return{node:e,key:s,namespaceURI:o,properties:t||{},children:r,[$]:!0};if(typeof e=="string"){if(e==="svg")return{tag:e,key:s,namespaceURI:"http://www.w3.org/2000/svg",properties:t,children:r,[$]:!0};if(e==="slot")return{tag:e,isSlot:!0,key:s,properties:t||{},children:r,[$]:!0};let i=U.get(n||e);return i?{Component:i,key:s,namespaceURI:o,properties:t||{},children:r,[$]:!0}:{tag:e,key:s,namespaceURI:o,properties:t||{},children:r,[$]:!0}}return Bt(e)?{Component:e,key:s,namespaceURI:o,properties:t||{},children:r,[$]:!0}:{Function:e,key:s,namespaceURI:o,properties:t||{},children:r,[$]:!0}}var Dt=P(),Nn=(e,t)=>e[Dt]=t,Hn=(e,t)=>{let r=F(e),n=!r&&Se(e),s=e.is,o=new Map;return Nn(e,{node:e,isElement:r,isText:n,tagName:r?e.tagName.toLowerCase():void 0,childNodes:r?e.childNodes:void 0,is:s,properties:[new WeakMap,new WeakMap],store:o,fragments:[],requestUpdate:t,__proto__:{get size(){return o.size},has:o.has.bind(o),get:o.get.bind(o),set:o.set.bind(o),delete:o.delete.bind(o),clear:o.clear.bind(o),forEach:o.forEach.bind(o)}})},A=(e,t)=>e[Dt]||Hn(e,t),$e=e=>{let t=e.fragments,r=t.length;for(;r--;)$e(t.pop());return t},Ft={},Rt=e=>{let t=[];if(!e)return t;if(typeof e=="object"){for(let r in e)e[r]&&t.push(r);return t}return Ft[e]=Ft[e]||e.toString().trim().split(" ")},_t={},Wt=e=>{let t={};if(!e)return t;if(typeof e=="object"){for(let r in e){let n=r.replace(/[A-Z]/g,s=>`-${s.toLowerCase()}`);t[n]=e[r]}return t}return _t[e]=_t[e]||e.toString().split(";").reduce((r,n)=>{let s=n.split(":");return s.length>1&&(r[s.shift().trim()]=s.join(":").trim()),r},t)},Ut=(e,t)=>(t==="checked"||t==="value")&&e.tagName==="INPUT",Ln=(e,t)=>{for(let r in e)r in t||(t[r]=void 0);return t},ge=(e,t,r)=>{e[t]=r},be=(e,t,r=I(e),n,s=e.namespaceURI||"http://www.w3.org/1999/xhtml",o,i,p)=>{let a=n||A(e),u=i||a,c;if(r&&a.slotChildNodes?c=a.slotChildNodes:(c=a.childNodes||e.childNodes,a.is&&(o=a)),!c)return c;let m,y=p,N;p?(m=ce.call(c,p.start),N=p.end):($e(a),m=0);let h=c.item(m),b=h?A(h):null,M=(l,v)=>{if(l==null||l===!1)return;if(ae(l)){for(let H=0,te=l.length;H<te;H++)M(l[H],v);return}let T,f,q,Me=s;if(hn(l)){if(En(l)){M(l.children,v);return}if(xn(l)){let{Function:C,properties:S,children:D}=l,J=p,re=a,R=y,x=a.fragments,O;p?O=p.start:b&&b.Function===C?O=b.start:O=g.createComment(C.name);let d=A(O,()=>x.indexOf(d)===-1?!1:(be(e,l,r,re,s,o,u,d),!0));$e(d),d.Function=C,d.start=O,a=d,y=d,p=void 0,M([O,C({children:D,...S},d,d.requestUpdate.bind(d),()=>x.indexOf(d)!==-1,d)],v),p=J,d.end=c.item(m-1),a=re,y=R,p?(x.splice(x.indexOf(p),1,d),p=d):x.push(d);return}if(Pn(l)){if(o){let{properties:C,children:S}=l,D=o.slotChildNodes;if(D)for(let R=0,x=D.length;R<x;R++){let O=D.item(R),d=A(O);d.root||(d.root=o)}let J=C.name;M(D||[],R=>A(R).root===o&&F(R)?J?R.getAttribute("slot")===J:!R.getAttribute("slot"):!J),c.length||M(S)}return}let{key:H,children:te,namespaceURI:Q}=l;if(vn(l))T=l.node;else{Me=Q||s;e:if(b){let C=b.key;if(C!=null&&H!=null&&H!==C){if(g.removeChild(e,h,r),h=c.item(m),b=h?A(h):null,!b)break e;C=b.key}if(y&&h){let S=ce.call(c,h),D=ce.call(c,y.end);if(S!==-1&&S>D)break e}H!=null||C!=null?H===C&&(T=h,f=b):(ze(l)&&h instanceof l.Component||kn(l)&&b.tagName===l.tag)&&(T=h,f=b)}T||(ze(l)?T=new l.Component:T=g.createElementNS(Me,l.tag))}let k=T;f=f||A(T);let ne=f.properties[r?1:0],Ce=ne.get(u)||{},pe=Ln(Ce,l.properties);ne.set(u,pe),H!=null&&(f.key=H);let E;for(E in pe){if(E==="is"||E==="key"||E==="children"||E==="xmlns")continue;let C=pe[E],S=Ce[E];if(S===C){Ut(k,E)&&ge(k,E,C);continue}if(E==="style"){let x=k.style,O=Wt(Ce.style),d=Wt(pe.style);for(let _ in O)_ in d||x.removeProperty(_);for(let _ in d)x.setProperty(_,d[_]);continue}else if(E==="class"){let x=k.classList,O=Rt(pe.class);if(S){let d=Rt(Ce.class);for(let _=0,he=d.length;_<he;_++){let Xe=d[_];O.indexOf(Xe)===-1&&x.remove(Xe)}}for(let d=0,_=O.length;d<_;d++){let he=O[d];x.contains(he)||x.add(he)}continue}else if(E[0]==="o"&&E[1]==="n"&&!(E in k.constructor.prototype)){let x=E.substr(2);S&&k.removeEventListener(x,S),C&&k.addEventListener(x,C);continue}let D=typeof C,J=typeof S,re=C&&D==="object"||D==="function";if(re||(S&&J==="object"||J==="function")||Ut(k,E))ge(k,E,C);else if(ze(l)){let x=l.Component;if(D==="string"){let O=x.observedAttributes;if(!O||O.indexOf(E)===-1)ge(k,E,C);else{let d=Y(x.prototype,E);d&&d.fromAttribute&&ge(k,E,d.fromAttribute(C))}}else ge(k,E,C)}if(C==null||C===!1)k.hasAttribute(E)&&k.removeAttribute(E);else if(!re){let x=C===!0?"":C.toString();k.getAttribute(E)!==x&&k.setAttribute(E,x)}}q=te}else if(Ht(l)){M(le((H,te)=>{let Q=Te(l);return Q.pending&&l.catch(()=>1).then(()=>{te.requestUpdate()}),Q.result},null),v);return}else if(Ot(l)){let H=l;M(le((te,Q)=>{let k=Mt(H);if(!k.complete){let ne=H.subscribe(()=>{Q.requestUpdate()||ne.unsubscribe()},()=>{Q.requestUpdate()||ne.unsubscribe()},()=>{ne.unsubscribe()})}return k.current},null),v);return}else if(we(l))T=l;else{if(typeof l=="string"&&o&&a.tagName==="style"){let H=o.is;l=qe(H,l,U.tagNames[H]),e.setAttribute("name",H)}b&&b.isText?(T=h,T.textContent!=l&&(T.textContent=l)):T=g.createTextNode(l)}v&&!v(T)||(T!==h?(g.insertBefore(e,T,h,r),m++):(h=c.item(++m),b=h?A(h):null),F(T)&&q&&f&&(f.parent&&f.parent===u||q.length)&&(f.parent=u,be(T,q,I(T),f,Me,o,u)))};M(t);let L;for(N?L=ce.call(c,N)+1:L=c.length;m<L;){let l=c.item(--L);if(r){let v=A(l);v.root===o&&delete v.root,v.parent===u&&delete v.parent}g.removeChild(e,l,r)}return c},On=(e,t=g.createDocumentFragment(),r=I(t))=>{let n=be(t,e,r);if(!!n)return n.length<2?n[0]:Z(n)};var Je=P(),jt=P(),I=e=>!!e[Je],fe=e=>!!e[jt],Yt=e=>{e[jt]=!0},ie=e=>!!e.prototype[Je];function qt(e){let t=A(e),r=e.ownerDocument;if(!e.childNodes.length&&r.readyState==="loading")return;let n=Z(e.childNodes);for(let s=0,o=n.length;s<o;s++)e.removeChild(n[s]);return t.slotChildNodes=n,n}var Mn=e=>{let t=class extends e{static get observedAttributes(){let n=ee(this.prototype),s=[];for(let o in n){let i=n[o];i&&i.attribute&&!i.state&&s.push(i.attribute)}return s}static upgrade(n){return new this(n)}get is(){}get isConnected(){return z.call(this)}get slotChildNodes(){return A(this).slotChildNodes}constructor(...n){super();let s=F(n[0])&&n[0],o=s?n[1]:n[0],i=s?(xe(s,this),s):this,p=A(i);p.is=i.is,qt(i);let a=ye(this);for(let c=0,m=a.length;c<m;c++){let{event:y,target:N,selector:h,callback:b,options:M}=a[c];N||i.delegateEventListener(y,h,b,M)}let u=ee(this);for(let c in u){delete i[c];let m=u[c];typeof m.initializer=="function"?i[c]=m.initializer.call(i):typeof m.defaultValue!="undefined"&&(i[c]=m.defaultValue);let y=m.observers;for(let N=0;N<y.length;N++)i.observe(c,y[N])}return i.initialize(o),i}initialize(n){if(Yt(this),n)for(let s in n)this[s]=n[s]}connectedCallback(){this.is!==this.localName&&K.call(this,"is",this.is),K.call(this,":defined","");let n=ye(this);for(let s=0,o=n.length;s<o;s++){let{event:i,target:p,callback:a,options:u}=n[s];p&&p.addEventListener(i,a,u)}this.forceUpdate()}disconnectedCallback(){let n=ye(this);for(let s=0,o=n.length;s<o;s++){let{event:i,target:p,callback:a,options:u}=n[s];p&&p.removeEventListener(i,a,u)}}attributeChangedCallback(n,s,o){let i=mt(this,n);if(!i)return;let{name:p,attribute:a,fromAttribute:u}=i;a&&u&&(this[p]=u.call(this,o))}stateChangedCallback(n,s,o){De(this,n,o)}propertyChangedCallback(n,s,o){De(this,n,o)}getInnerPropertyValue(n){let s=Y(this,n,!0);return this[s.symbol]}setInnerPropertyValue(n,s){let o=Y(this,n,!0);this[o.symbol]=s}observe(n,s){Tt(this,n,s)}unobserve(n,s){gt(this,n,s)}dispatchEvent(n,s,o,i,p){return He(this,n,s,o,i,p)}dispatchAsyncEvent(n,s,o,i,p){return Be(this,n,s,o,i,p)}delegateEventListener(n,s,o,i){return We(this,n,s,o,i)}undelegateEventListener(n,s,o){return Ue(this,n,s,o)}render(){return this.slotChildNodes}forceUpdate(){(this.slotChildNodes||qt(this))&&be(this,this.render(),!1)}appendChild(n){return g.appendChild(this,n)}removeChild(n){return g.removeChild(this,n)}insertBefore(n,s){return g.insertBefore(this,n,s)}replaceChild(n,s){return g.replaceChild(this,n,s)}insertAdjacentElement(n,s){return g.insertAdjacentElement(this,n,s)}setAttribute(n,s){return g.setAttribute(this,n,s)}removeAttribute(n){return g.removeAttribute(this,n)}};return se(t.prototype,Je,{get(){return!0}}),t},wn=e=>{let t=function(...r){let n=this.constructor,s=this.is;if(!s)throw new TypeError("Illegal constructor");let o=U.tagNames[s],i;return U.native&&!n.shim&&(i=Reflect.construct(e,r,n),o===i.localName)||(i=Pe(o),xe(i,n.prototype),ut(i)),i};return xe(t,e),t.apply=Function.apply,t.call=Function.call,t.prototype=e.prototype,t},zt=e=>Mn(wn(e)),Sn=zt(w),In=(e,t)=>r=>{let n=i=>{let p=class extends i{constructor(...a){super(...a);Yt(this),this.initialize(this.initProps)}initialize(a){if(!fe(this)){this.initProps=a;return}return super.initialize(a)}};return U.define(e,p,t),p};if(typeof r=="function")return n(r);let{kind:s,elements:o}=r;return{kind:s,elements:o,finisher(i){return n(i)}}};var B=j.customElements,Oe=j.document,$t=e=>!!e&&e.indexOf("-")>=1&&/[a-z\-\d]/.test(e)&&/^[^\d]/i.test(e),Bt=e=>e.prototype instanceof j.HTMLElement,Jt=class{constructor(){this.native=!!B;this.registry={};this.tagNames={};this.queue={}}get(t){let r=this.registry[t];return!r&&B&&$t(t)&&(r=B.get(t)),r}define(t,r,n={}){if(!$t(t))throw new SyntaxError("The provided name must be a valid Custom Element name");if(typeof r!="function")throw new TypeError("The referenced constructor must be a constructor");if(this.registry[t])throw new Error("The registry already contains an entry with the same name");ie(r)&&(Ae(r.prototype),Ye(r.prototype));try{se(r.prototype,"is",{writable:!1,configurable:!1,value:t})}catch{throw new Error("The registry already contains an entry with the constructor (or is otherwise already defined)")}let s=(n.extends||t).toLowerCase();if(this.registry[t]=r,this.tagNames[t]=s,B){let o=r.shim;s!==t&&(r.shim=!0,n={get extends(){return r.shim=o,s}}),B.define(t,r,n)}else{let o=this.queue;Oe.body&&this.upgrade(Oe.body);let i=o[t];if(i)for(let p=0,a=i.length;p<a;p++)i[p](r)}}whenDefined(t){if(B)return B.whenDefined(t).then(()=>B.get(t));if(this.registry[t])return Promise.resolve(this.registry[t]);let r=this.queue;return new Promise(s=>{r[t]=r[t]||[],r[t].push(s)})}upgrade(t){let r=(t.getAttribute("is")||t.tagName).toLowerCase(),n=this.get(r),s=t.children;for(let o=0,i=s.length;o<i;o++)this.upgrade(s[o]);if(!!n){if(B&&"upgrade"in B&&B.upgrade(t),I(t)){fe(t)&&t.forceUpdate();return}if(ie(n)){let o=[],i=n.observedAttributes||[];for(let a=0,u=t.attributes.length;a<u;a++){let c=t.attributes[a];i.indexOf(c.name)!==-1&&o.push({name:c.name,value:c.value})}let p=n.upgrade(t);for(let a=0,u=o.length;a<u;a++){let{name:c,value:m}=o[a];p.getAttribute(c)===m?p.attributeChangedCallback(c,null,m):p.setAttribute(c,m)}p.isConnected&&X(p),p.forceUpdate()}}}},U=new Jt;Oe.addEventListener("DOMContentLoaded",()=>{U.upgrade(Oe.body)});var An=e=>{let t=e;return le((r,{store:n})=>{if(n.get("source")===t)return n.get("dom");let s=g.createElement("div");s.innerHTML=t,customElements.upgrade(s);let o=Z(s.childNodes);return n.set("source",t),n.set("dom",o),o},null)},Dn=(e,t)=>{let r=Te(e),n=e.then(()=>!1).catch(()=>!1),s=Te(n);return s.result=r.pending&&t,n};export{Sn as Component,g as DOM,At as Fragment,It as compile,X as connect,qe as css,In as customElement,U as customElements,Ye as defineListeners,Ae as defineProperties,Ne as defineProperty,We as delegateEventListener,me as disconnect,Be as dispatchAsyncEvent,He as dispatchEvent,zt as extend,ee as getProperties,Y as getProperty,le as h,Cn as html,I as isComponent,ie as isComponentConstructor,yn as listen,an as observe,An as parseDOM,ln as property,On as render,pn as state,Ue as undelegateEventListener,Dn as until,j as window};
//# sourceMappingURL=dna.js.map
