<html><head><meta charset="UTF-8"></head><body><script>"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_get=function(_x5,_x6,_x7){for(var _again=!0;_again;){var object=_x5,property=_x6,receiver=_x7;desc=parent=getter=void 0,_again=!1,null===object&&(object=Function.prototype);var desc=Object.getOwnPropertyDescriptor(object,property);if(void 0!==desc){if("value"in desc)return desc.value;var getter=desc.get;return void 0===getter?void 0:getter.call(receiver)}var parent=Object.getPrototypeOf(object);if(null===parent)return void 0;_x5=parent,_x6=property,_x7=receiver,_again=!0}};if("function"!=typeof HTMLElement){var _HTMLElement=function(){};_HTMLElement.prototype=HTMLElement.prototype,HTMLElement=_HTMLElement}var DNAComponent=function(_HTMLElement2){function DNAComponent(){_classCallCheck(this,DNAComponent),_get(Object.getPrototypeOf(DNAComponent.prototype),"constructor",this).apply(this,arguments)}return _inherits(DNAComponent,_HTMLElement2),_createClass(DNAComponent,[{key:"createdCallback",value:function(){}},{key:"attachedCallback",value:function(){}},{key:"detachedCallback",value:function(){}},{key:"attributeChangedCallback",value:function(attrName,oldVal,newVal){}}],[{key:"init",value:function(){var ext=arguments.length<=0||void 0===arguments[0]?!1:arguments[0];this.register(this,ext)&&(this.template=this.getTemplate())}},{key:"register",value:function(fn,ext,tagName){tagName=tagName||fn.tagName||DNAComponent.classToElement(fn);var options={prototype:fn.prototype};ext&&(options["extends"]=ext);try{var ctr=window[DNAComponent.elementToClass(tagName)]=document.registerElement(tagName,options);ctr.tagName=tagName}catch(ex){return!1}finally{return!0}}},{key:"instantiate",value:function(){var tag=this.tagName||this.classToElement(this);return document.createElement(tag)}},{key:"getTemplate",value:function(){return document.currentScript&&document.currentScript.parentNode?document.currentScript.parentNode.querySelector("template"):void 0}},{key:"classToElement",value:function(fn){return fn.name.replace(/[A-Z]/g,function(match){return"-"+match.toLowerCase()}).replace(/^\-/,"")}},{key:"elementToClass",value:function(tag){return tag.replace(/(?:^\w|[A-Z]|\b\w|\s+)/g,function(match,index){return 0===+match?"":match.toUpperCase()}).replace(/[\-|\_]/g,"")}},{key:"tagName",get:function(){return this._tagName||DNAComponent.classToElement(this)},set:function(tag){"string"==typeof tag&&(this._tagName=tag)}}]),DNAComponent}(HTMLElement),DNAMixedComponent=function(_DNAComponent){function DNAMixedComponent(){_classCallCheck(this,DNAMixedComponent),_get(Object.getPrototypeOf(DNAMixedComponent.prototype),"constructor",this).apply(this,arguments)}return _inherits(DNAMixedComponent,_DNAComponent),_createClass(DNAMixedComponent,[{key:"createdCallback",value:function(){for(var _len=arguments.length,args=Array(_len),_key=0;_len>_key;_key++)args[_key]=arguments[_key];DNAComponent.prototype.createdCallback.apply(this,args),DNAMixedComponent.__triggerCallbacks(this,"createdCallback",args)}},{key:"attachedCallback",value:function(){for(var _len2=arguments.length,args=Array(_len2),_key2=0;_len2>_key2;_key2++)args[_key2]=arguments[_key2];DNAComponent.prototype.attachedCallback.apply(this,args),DNAMixedComponent.__triggerCallbacks(this,"attachedCallback",args)}},{key:"detachedCallback",value:function(){for(var _len3=arguments.length,args=Array(_len3),_key3=0;_len3>_key3;_key3++)args[_key3]=arguments[_key3];DNAComponent.prototype.detachedCallback.apply(this,args),DNAMixedComponent.__triggerCallbacks(this,"detachedCallback",args)}},{key:"attributeChangedCallback",value:function(attrName,oldVal,newVal){DNAComponent.prototype.attributeChangedCallback.apply(this,[attrName,oldVal,newVal]),DNAMixedComponent.__triggerCallbacks(this,"attributeChangedCallback",[attrName,oldVal,newVal])}}],[{key:"init",value:function(){for(var _len4=arguments.length,args=Array(_len4),_key4=0;_len4>_key4;_key4++)args[_key4]=arguments[_key4];DNAComponent.init.apply(this,args);var behaviors=this.behaviors||[];DNAMixedComponent.__iterateBehaviors(this,behaviors),DNAMixedComponent.__triggerCallbacks(this,"init",args)}},{key:"__triggerCallbacks",value:function(ctx,callbackKey,args){var callbacks=ctx[DNAMixedComponent.__getCallbackKey(callbackKey)];if(callbacks&&Array.isArray(callbacks))for(var i=0,len=callbacks.length;len>i;i++){var callback=callbacks[i];callback.apply(ctx,args)}}},{key:"__iterateBehaviors",value:function(ctx,behavior){if(Array.isArray(behavior))for(var i=0;i<behavior.length;i++)ctx.__iterateBehaviors(ctx,behavior[i]);else{if(ctx.__attachedBehaviors=ctx.__attachedBehaviors||[],-1!==ctx.__attachedBehaviors.indexOf(behavior.name))return;var callbacks=DNAMixedComponent.__componentCallbacks,keys=Object.getOwnPropertyNames(behavior);for(var k in keys){var key=keys[k];if(key in DNAComponent||"__componentCallbacks"!==key&&(ctx[key]=behavior[key]),-1!==callbacks.indexOf(key)){var callbackKey=DNAMixedComponent.__getCallbackKey(key);ctx[callbackKey]=ctx[callbackKey]||[],ctx[callbackKey].push(behavior[key])}else key in DNAComponent||"__componentCallbacks"!==key&&(ctx[key]=behavior[key])}if(behavior.prototype){keys=Object.getOwnPropertyNames(behavior.prototype);for(var k in keys){var key=keys[k];if(-1!==callbacks.indexOf(key)){var callbackKey=DNAMixedComponent.__getCallbackKey(key);ctx.prototype[callbackKey]=ctx.prototype[callbackKey]||[],ctx.prototype[callbackKey].push(behavior.prototype[key])}else key in DNAComponent.prototype||(ctx.prototype[key]=behavior.prototype[key])}}ctx.__attachedBehaviors.push(behavior.name)}}},{key:"__getCallbackKey",value:function(callbackName){return"__"+callbackName+"Callbacks"}},{key:"__componentCallbacks",get:function(){return["init","createdCallback","attachedCallback","detachedCallback","attributeChangedCallback"]}}]),DNAMixedComponent}(DNAComponent),DNAEventComponent=function(_DNAComponent2){function DNAEventComponent(){_classCallCheck(this,DNAEventComponent),_get(Object.getPrototypeOf(DNAEventComponent.prototype),"constructor",this).apply(this,arguments)}return _inherits(DNAEventComponent,_DNAComponent2),_createClass(DNAEventComponent,[{key:"addEventListener",value:function(evName,callback){return"undefined"!=typeof Node.prototype.addEventListener?Node.prototype.addEventListener.call(this,evName,callback):"undefined"!=typeof Node.prototype.attachEvent?Node.prototype.attachEvent.call(this,"on"+evName,callback):void 0}},{key:"trigger",value:function(evName,data){var bubbles=arguments.length<=2||void 0===arguments[2]?!0:arguments[2],cancelable=arguments.length<=3||void 0===arguments[3]?!0:arguments[3],ev=DNAEventComponent.createEvent();if(ev){if("undefined"!=typeof ev.initEvent&&ev.initEvent(evName,bubbles,cancelable),ev.detail=data,"undefined"!=typeof Node.prototype.dispatchEvent)return Node.prototype.dispatchEvent.call(this,ev);if("undefined"!=typeof Node.prototype.fireEvent)return Node.prototype.fireEvent.call(this,"on"+evName,ev)}}}],[{key:"createEvent",value:function(){var type=arguments.length<=0||void 0===arguments[0]?"Event":arguments[0];return"undefined"!=typeof document.createEvent?document.createEvent(type):"undefined"!=typeof document.createEventObject?document.createEventObject():void 0}}]),DNAEventComponent}(DNAComponent),DNAAttributesComponent=function(_DNAComponent3){function DNAAttributesComponent(){_classCallCheck(this,DNAAttributesComponent),_get(Object.getPrototypeOf(DNAAttributesComponent.prototype),"constructor",this).apply(this,arguments)}return _inherits(DNAAttributesComponent,_DNAComponent3),_createClass(DNAAttributesComponent,[{key:"createdCallback",value:function(){DNAComponent.prototype.createdCallback.call(this);for(var attributes=this.attributes||[],i=0,len=attributes.length;len>i;i++){var attr=attributes[i];this.attributeChangedCallback(attr.name,void 0,attr.value)}}},{key:"attributeChangedCallback",value:function(attr,oldVal,newVal){DNAComponent.prototype.attributeChangedCallback.call(this);var cl=this.constructor;cl&&cl.attributes&&Array.isArray(cl.attributes)&&-1!==cl.attributes.indexOf(attr)&&(this[attr]=newVal)}}]),DNAAttributesComponent}(DNAComponent),DNABaseComponent=function(_DNAMixedComponent){function DNABaseComponent(){_classCallCheck(this,DNABaseComponent),_get(Object.getPrototypeOf(DNABaseComponent.prototype),"constructor",this).apply(this,arguments)}return _inherits(DNABaseComponent,_DNAMixedComponent),_createClass(DNABaseComponent,[{key:"createdCallback",value:function(){DNAMixedComponent.prototype.createdCallback.call(this),this.constructor.tagName&&this.classList.add(this.constructor.tagName),this.constructor.template&&(this.innerHTML=this.constructor.template.innerHTML||"")}}],[{key:"behaviors",get:function(){return[DNAEventComponent,DNAAttributesComponent]}}]),DNABaseComponent}(DNAMixedComponent);</script></body></html>